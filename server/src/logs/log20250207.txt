[2025-02-07 00:26:46 ] Starting the application...
[2025-02-07 00:26:49 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 00:26:56 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 00:26:56 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 00:26:56 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 00:26:56 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce _Net\Project_Net\Car-Agency\server\src
[2025-02-07 00:27:24 Microsoft.Hosting.Lifetime] Application is shutting down...
[2025-02-07 00:29:08 ] Starting the application...
[2025-02-07 00:29:11 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 00:29:12 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 00:29:12 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 00:29:12 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 00:29:12 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce _Net\Project_Net\Car-Agency\server\src
[2025-02-07 00:30:10 Microsoft.Hosting.Lifetime] Application is shutting down...
[2025-02-07 00:30:23 ] Starting the application...
[2025-02-07 00:30:23 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 00:30:24 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5000
[2025-02-07 00:30:24 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 00:30:24 Microsoft.Hosting.Lifetime] Hosting environment: Production
[2025-02-07 00:30:24 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce _Net\Project_Net\Car-Agency\server\src
[2025-02-07 00:30:52 Microsoft.Hosting.Lifetime] Application is shutting down...
[2025-02-07 00:31:04 ] Starting the application...
[2025-02-07 00:31:05 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 00:31:05 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5000
[2025-02-07 00:31:05 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 00:31:05 Microsoft.Hosting.Lifetime] Hosting environment: Production
[2025-02-07 00:31:05 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce _Net\Project_Net\Car-Agency\server\src
[2025-02-07 00:31:16 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:5000/ - null null
[2025-02-07 00:31:16 Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware] Failed to determine the https port for redirect.
[2025-02-07 00:31:18 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://localhost:5000/ - 401 null application/json; charset=utf-8 2493.2563ms
[2025-02-07 00:31:19 Microsoft.AspNetCore.Hosting.Diagnostics] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5000/, Response status code: 401
[2025-02-07 00:31:19 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico - null null
[2025-02-07 00:31:19 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://localhost:5000/favicon.ico - 401 null application/json; charset=utf-8 13.7166ms
[2025-02-07 00:31:19 Microsoft.AspNetCore.Hosting.Diagnostics] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5000/favicon.ico, Response status code: 401
[2025-02-07 00:31:59 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:5000/api/item/create/1 - application/json 1244
[2025-02-07 00:31:59 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.ItemController.CreateCertificate (Server)'
[2025-02-07 00:31:59 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "CreateCertificate", controller = "Item"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateCertificate(Int32) on controller Server.Controllers.ItemController (Server).
[2025-02-07 00:32:11 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (979ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [i].[Id], [i].[Category], [i].[CertificateIssueDate], [i].[CertificateReferenceNumber], [i].[ChassisNumber], [i].[CountryOfOrigin], [i].[DriverName], [i].[DriverNationality], [i].[EmiratesIdNumber], [i].[EmptyWeight], [i].[EngineNumber], [i].[ExportCountryTo], [i].[ExportPlateNumber], [i].[FuelType], [i].[InsuranceCompany], [i].[InsuranceExpiryDate], [i].[InsurancePolicyNumber], [i].[InsuranceType], [i].[LicenseNumber], [i].[LicenseSource], [i].[ModelYear], [i].[Nationality], [i].[NumberOfDoors], [i].[NumberOfSeats], [i].[OwnerName], [i].[PassportNumber], [i].[RegistrationDate], [i].[RegistrationExpiryDate], [i].[RegistrationPlateNumber], [i].[TrafficCodeNumber], [i].[VehicleColor], [i].[VehicleMake], [i].[VehicleType]
FROM [Items] AS [i]
WHERE [i].[Id] = @__p_0
[2025-02-07 00:32:22 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://localhost:5000/api/auth/login - application/json 48
[2025-02-07 00:32:22 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 00:32:22 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Server.Dtos.UserDto) on controller Server.Controllers.AuthController (Server).
[2025-02-07 00:32:22 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-02-07 00:32:22 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.AuthController.Login (Server) in 362.1504ms
[2025-02-07 00:32:22 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 00:32:22 Microsoft.EntityFrameworkCore.Database.Command] Failed executing DbCommand (111ms) [Parameters=[@__email_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Password], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0 AND [u].[Password] = @__password_1
[2025-02-07 00:32:22 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST http://localhost:5000/api/auth/login - 200 null application/json; charset=utf-8 481.6447ms
[2025-02-07 00:32:22 Microsoft.EntityFrameworkCore.Query] An exception occurred while iterating over the results of a query for context type 'Server.Data.ApplicationContextDb'.
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2025-02-07 00:32:31 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] No output formatter was found for content types '["application/json; charset=utf-8","application/json; charset=utf-8"]' to write the response.
[2025-02-07 00:32:31 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.ItemController.CreateCertificate (Server) in 31497.5221ms
[2025-02-07 00:32:31 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.ItemController.CreateCertificate (Server)'
[2025-02-07 00:32:31 Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ThrowResponseAlreadyStartedException(String value)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsyncCore(ActionContext context, ObjectResult result, Type objectType, Object value)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsync(ActionContext context, ObjectResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Server.Middlewares.AuthenticationMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in F:\Ecommerce _Net\Project_Net\Car-Agency\server\src\Middlewares\AuthenticationMiddleware.cs:line 33
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in F:\Ecommerce _Net\Project_Net\Car-Agency\server\src\Startup.cs:line 196
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
[2025-02-07 00:32:31 Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware] The response has already started, the error handler will not be executed.
[2025-02-07 00:32:31 Microsoft.AspNetCore.Server.Kestrel] Connection id "0HNA6VNQG3P5M", Request id "0HNA6VNQG3P5M:00000001": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ThrowResponseAlreadyStartedException(String value)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsyncCore(ActionContext context, ObjectResult result, Type objectType, Object value)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsync(ActionContext context, ObjectResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Server.Middlewares.AuthenticationMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in F:\Ecommerce _Net\Project_Net\Car-Agency\server\src\Middlewares\AuthenticationMiddleware.cs:line 33
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in F:\Ecommerce _Net\Project_Net\Car-Agency\server\src\Startup.cs:line 196
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.HandleException(HttpContext context, ExceptionDispatchInfo edi)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
[2025-02-07 00:32:31 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://localhost:5000/api/item/create/1 - 401 null application/json; charset=utf-8 31772.3874ms
[2025-02-07 00:49:35 ] Starting the application...
[2025-02-07 00:49:36 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 00:49:37 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 00:49:37 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 00:49:37 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 00:49:37 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 00:49:37 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce _Net\Project_Net\Car-Agency\server\src
[2025-02-07 00:49:39 Microsoft.AspNetCore.Server.Kestrel] As of ""2025-02-06T22:49:39.5283926+00:00"", the heartbeat has been running for ""00:00:01.1057356"" which is longer than ""00:00:01"". This could be caused by thread pool starvation.
[2025-02-07 00:49:44 Microsoft.AspNetCore.Server.Kestrel] As of ""2025-02-06T22:49:44.5094082+00:00"", the heartbeat has been running for ""00:00:02.0859541"" which is longer than ""00:00:01"". This could be caused by thread pool starvation.
[2025-02-07 00:50:04 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST https://localhost:7299/api/auth/login - application/json 48
[2025-02-07 00:50:05 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 00:50:05 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Server.Dtos.UserDto) on controller Server.Controllers.AuthController (Server).
[2025-02-07 00:50:06 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-02-07 00:50:06 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.AuthController.Login (Server) in 1718.2353ms
[2025-02-07 00:50:06 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 00:50:06 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST https://localhost:7299/api/auth/login - 200 null application/json; charset=utf-8 2016.706ms
[2025-02-07 00:50:06 Microsoft.EntityFrameworkCore.Database.Connection] An error occurred using the connection to database 'CarAgency' on server 'AMRGAMAL'.
[2025-02-07 00:50:21 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/item/create/1 - application/json 1244
[2025-02-07 00:50:21 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.ItemController.CreateCertificate (Server)'
[2025-02-07 00:50:21 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "CreateCertificate", controller = "Item"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateCertificate(Int32) on controller Server.Controllers.ItemController (Server).
[2025-02-07 00:50:21 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (68ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [i].[Id], [i].[Category], [i].[CertificateIssueDate], [i].[CertificateReferenceNumber], [i].[ChassisNumber], [i].[CountryOfOrigin], [i].[DriverName], [i].[DriverNationality], [i].[EmiratesIdNumber], [i].[EmptyWeight], [i].[EngineNumber], [i].[ExportCountryTo], [i].[ExportPlateNumber], [i].[FuelType], [i].[InsuranceCompany], [i].[InsuranceExpiryDate], [i].[InsurancePolicyNumber], [i].[InsuranceType], [i].[LicenseNumber], [i].[LicenseSource], [i].[ModelYear], [i].[Nationality], [i].[NumberOfDoors], [i].[NumberOfSeats], [i].[OwnerName], [i].[PassportNumber], [i].[RegistrationDate], [i].[RegistrationExpiryDate], [i].[RegistrationPlateNumber], [i].[TrafficCodeNumber], [i].[VehicleColor], [i].[VehicleMake], [i].[VehicleType]
FROM [Items] AS [i]
WHERE [i].[Id] = @__p_0
[2025-02-07 00:50:23 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Server.Models.Item, Server, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-02-07 00:50:23 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.ItemController.CreateCertificate (Server) in 2261.949ms
[2025-02-07 00:50:23 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.ItemController.CreateCertificate (Server)'
[2025-02-07 00:50:23 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/item/create/1 - 200 null application/json; charset=utf-8 2335.9689ms
[2025-02-07 00:50:26 Microsoft.Hosting.Lifetime] Application is shutting down...
[2025-02-07 00:52:24 ] Starting the application...
[2025-02-07 00:52:25 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 00:52:26 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 00:52:26 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 00:52:26 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 00:52:26 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 00:52:26 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce _Net\Project_Net\Car-Agency\server\src
[2025-02-07 00:52:28 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 00:52:29 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 339.5655ms
[2025-02-07 00:52:29 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 00:52:29 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 00:52:29 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 00:52:29 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 3.8778ms
[2025-02-07 00:52:29 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 16.2032ms
[2025-02-07 00:52:29 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 251.4497ms
[2025-02-07 00:52:29 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 00:52:29 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 50.316ms
[2025-02-07 00:52:44 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/item/create/1 - application/json 1244
[2025-02-07 00:52:44 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.ItemController.CreateCertificate (Server)'
[2025-02-07 00:52:44 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "CreateCertificate", controller = "Item"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateCertificate(Int32) on controller Server.Controllers.ItemController (Server).
[2025-02-07 00:52:48 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (89ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [i].[Id], [i].[Category], [i].[CertificateIssueDate], [i].[CertificateReferenceNumber], [i].[ChassisNumber], [i].[CountryOfOrigin], [i].[DriverName], [i].[DriverNationality], [i].[EmiratesIdNumber], [i].[EmptyWeight], [i].[EngineNumber], [i].[ExportCountryTo], [i].[ExportPlateNumber], [i].[FuelType], [i].[InsuranceCompany], [i].[InsuranceExpiryDate], [i].[InsurancePolicyNumber], [i].[InsuranceType], [i].[LicenseNumber], [i].[LicenseSource], [i].[ModelYear], [i].[Nationality], [i].[NumberOfDoors], [i].[NumberOfSeats], [i].[OwnerName], [i].[PassportNumber], [i].[RegistrationDate], [i].[RegistrationExpiryDate], [i].[RegistrationPlateNumber], [i].[TrafficCodeNumber], [i].[VehicleColor], [i].[VehicleMake], [i].[VehicleType]
FROM [Items] AS [i]
WHERE [i].[Id] = @__p_0
[2025-02-07 00:52:59 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Server.Models.Item, Server, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-02-07 00:52:59 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.ItemController.CreateCertificate (Server) in 15302.2049ms
[2025-02-07 00:52:59 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.ItemController.CreateCertificate (Server)'
[2025-02-07 00:52:59 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/item/create/1 - 200 null application/json; charset=utf-8 15935.8436ms
[2025-02-07 00:53:11 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/item/create/1 - application/json 1244
[2025-02-07 00:53:11 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.ItemController.CreateCertificate (Server)'
[2025-02-07 00:53:11 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "CreateCertificate", controller = "Item"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateCertificate(Int32) on controller Server.Controllers.ItemController (Server).
[2025-02-07 00:53:11 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (13ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [i].[Id], [i].[Category], [i].[CertificateIssueDate], [i].[CertificateReferenceNumber], [i].[ChassisNumber], [i].[CountryOfOrigin], [i].[DriverName], [i].[DriverNationality], [i].[EmiratesIdNumber], [i].[EmptyWeight], [i].[EngineNumber], [i].[ExportCountryTo], [i].[ExportPlateNumber], [i].[FuelType], [i].[InsuranceCompany], [i].[InsuranceExpiryDate], [i].[InsurancePolicyNumber], [i].[InsuranceType], [i].[LicenseNumber], [i].[LicenseSource], [i].[ModelYear], [i].[Nationality], [i].[NumberOfDoors], [i].[NumberOfSeats], [i].[OwnerName], [i].[PassportNumber], [i].[RegistrationDate], [i].[RegistrationExpiryDate], [i].[RegistrationPlateNumber], [i].[TrafficCodeNumber], [i].[VehicleColor], [i].[VehicleMake], [i].[VehicleType]
FROM [Items] AS [i]
WHERE [i].[Id] = @__p_0
[2025-02-07 00:53:19 Server.Controllers.AuthController] An error occurred while executing the action.
iText.Kernel.Exceptions.PdfException: PdfPages tree could be generated only once.
   at iText.Kernel.Pdf.PdfPagesTree.GenerateTree()
   at iText.Kernel.Pdf.PdfDocument.Close()
   at iText.Kernel.Pdf.PdfDocument.System.IDisposable.Dispose()
   at Server.Models.ItemService.GenerateCertificate(Item item) in F:\Ecommerce _Net\Project_Net\Car-Agency\server\src\Services\ItemService.cs:line 93
   at Server.Controllers.ItemController.<>c__DisplayClass9_0.<<CreateCertificate>b__0>d.MoveNext() in F:\Ecommerce _Net\Project_Net\Car-Agency\server\src\Controllers\ItemController.cs:line 110
--- End of stack trace from previous location ---
   at Server.Controllers.ItemController.ExecuteAction(Func`1 action) in F:\Ecommerce _Net\Project_Net\Car-Agency\server\src\Controllers\ItemController.cs:line 23
[2025-02-07 00:53:19 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing ObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-02-07 00:53:19 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.ItemController.CreateCertificate (Server) in 8120.1944ms
[2025-02-07 00:53:19 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.ItemController.CreateCertificate (Server)'
[2025-02-07 00:53:19 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/item/create/1 - 500 null application/json; charset=utf-8 8130.06ms
[2025-02-07 00:53:47 ] Starting the application...
[2025-02-07 00:53:50 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 00:53:51 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 00:53:51 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 00:53:51 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 00:53:51 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 00:53:51 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce _Net\Project_Net\Car-Agency\server\src
[2025-02-07 00:54:39 ] Starting the application...
[2025-02-07 00:54:39 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 00:54:40 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 00:54:40 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 00:54:40 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 00:54:40 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 00:54:40 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce _Net\Project_Net\Car-Agency\server\src
[2025-02-07 00:54:42 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 00:54:43 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 745.7757ms
[2025-02-07 00:54:43 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 00:54:43 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 00:54:43 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 3.3259ms
[2025-02-07 00:54:43 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 00:54:43 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 163.9413ms
[2025-02-07 00:54:43 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 280.3475ms
[2025-02-07 00:54:44 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 00:54:44 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 32.732ms
[2025-02-07 00:54:53 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/item/create/1 - application/json 1244
[2025-02-07 00:54:55 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.ItemController.CreateCertificate (Server)'
[2025-02-07 00:54:55 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "CreateCertificate", controller = "Item"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateCertificate(Int32) on controller Server.Controllers.ItemController (Server).
[2025-02-07 00:54:58 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (129ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [i].[Id], [i].[Category], [i].[CertificateIssueDate], [i].[CertificateReferenceNumber], [i].[ChassisNumber], [i].[CountryOfOrigin], [i].[DriverName], [i].[DriverNationality], [i].[EmiratesIdNumber], [i].[EmptyWeight], [i].[EngineNumber], [i].[ExportCountryTo], [i].[ExportPlateNumber], [i].[FuelType], [i].[InsuranceCompany], [i].[InsuranceExpiryDate], [i].[InsurancePolicyNumber], [i].[InsuranceType], [i].[LicenseNumber], [i].[LicenseSource], [i].[ModelYear], [i].[Nationality], [i].[NumberOfDoors], [i].[NumberOfSeats], [i].[OwnerName], [i].[PassportNumber], [i].[RegistrationDate], [i].[RegistrationExpiryDate], [i].[RegistrationPlateNumber], [i].[TrafficCodeNumber], [i].[VehicleColor], [i].[VehicleMake], [i].[VehicleType]
FROM [Items] AS [i]
WHERE [i].[Id] = @__p_0
[2025-02-07 00:55:20 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Server.Models.Item, Server, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-02-07 00:55:20 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.ItemController.CreateCertificate (Server) in 24882.8194ms
[2025-02-07 00:55:20 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.ItemController.CreateCertificate (Server)'
[2025-02-07 00:55:20 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/item/create/1 - 200 null application/json; charset=utf-8 26442.1508ms
[2025-02-07 00:56:07 ] Starting the application...
[2025-02-07 00:56:08 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 00:56:08 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 00:56:08 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 00:56:08 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 00:56:08 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 00:56:08 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce _Net\Project_Net\Car-Agency\server\src
[2025-02-07 00:56:10 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 00:56:10 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 293.7516ms
[2025-02-07 00:56:10 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 00:56:10 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 00:56:10 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 00:56:10 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 9.8841ms
[2025-02-07 00:56:10 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 27.0811ms
[2025-02-07 00:56:10 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 104.1748ms
[2025-02-07 00:56:10 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 00:56:11 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 64.7867ms
[2025-02-07 00:56:33 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/item/create/1 - application/json 1244
[2025-02-07 00:56:33 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.ItemController.CreateCertificate (Server)'
[2025-02-07 00:56:33 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "CreateCertificate", controller = "Item"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateCertificate(Int32) on controller Server.Controllers.ItemController (Server).
[2025-02-07 00:56:35 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (57ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [i].[Id], [i].[Category], [i].[CertificateIssueDate], [i].[CertificateReferenceNumber], [i].[ChassisNumber], [i].[CountryOfOrigin], [i].[DriverName], [i].[DriverNationality], [i].[EmiratesIdNumber], [i].[EmptyWeight], [i].[EngineNumber], [i].[ExportCountryTo], [i].[ExportPlateNumber], [i].[FuelType], [i].[InsuranceCompany], [i].[InsuranceExpiryDate], [i].[InsurancePolicyNumber], [i].[InsuranceType], [i].[LicenseNumber], [i].[LicenseSource], [i].[ModelYear], [i].[Nationality], [i].[NumberOfDoors], [i].[NumberOfSeats], [i].[OwnerName], [i].[PassportNumber], [i].[RegistrationDate], [i].[RegistrationExpiryDate], [i].[RegistrationPlateNumber], [i].[TrafficCodeNumber], [i].[VehicleColor], [i].[VehicleMake], [i].[VehicleType]
FROM [Items] AS [i]
WHERE [i].[Id] = @__p_0
[2025-02-07 00:56:46 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Server.Models.Item, Server, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-02-07 00:56:46 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.ItemController.CreateCertificate (Server) in 12476.0329ms
[2025-02-07 00:56:46 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.ItemController.CreateCertificate (Server)'
[2025-02-07 00:56:46 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/item/create/1 - 200 null application/json; charset=utf-8 12698.6663ms
[2025-02-07 00:59:36 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/item/create/1 - application/json 1244
[2025-02-07 00:59:36 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.ItemController.CreateCertificate (Server)'
[2025-02-07 00:59:36 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "CreateCertificate", controller = "Item"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateCertificate(Int32) on controller Server.Controllers.ItemController (Server).
[2025-02-07 00:59:36 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (12ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [i].[Id], [i].[Category], [i].[CertificateIssueDate], [i].[CertificateReferenceNumber], [i].[ChassisNumber], [i].[CountryOfOrigin], [i].[DriverName], [i].[DriverNationality], [i].[EmiratesIdNumber], [i].[EmptyWeight], [i].[EngineNumber], [i].[ExportCountryTo], [i].[ExportPlateNumber], [i].[FuelType], [i].[InsuranceCompany], [i].[InsuranceExpiryDate], [i].[InsurancePolicyNumber], [i].[InsuranceType], [i].[LicenseNumber], [i].[LicenseSource], [i].[ModelYear], [i].[Nationality], [i].[NumberOfDoors], [i].[NumberOfSeats], [i].[OwnerName], [i].[PassportNumber], [i].[RegistrationDate], [i].[RegistrationExpiryDate], [i].[RegistrationPlateNumber], [i].[TrafficCodeNumber], [i].[VehicleColor], [i].[VehicleMake], [i].[VehicleType]
FROM [Items] AS [i]
WHERE [i].[Id] = @__p_0
[2025-02-07 00:59:45 Server.Controllers.AuthController] An error occurred while executing the action.
iText.Kernel.Exceptions.PdfException: PdfPages tree could be generated only once.
   at iText.Kernel.Pdf.PdfPagesTree.GenerateTree()
   at iText.Kernel.Pdf.PdfDocument.Close()
   at iText.Kernel.Pdf.PdfDocument.System.IDisposable.Dispose()
   at Server.Models.ItemService.GenerateCertificate(Item item)
   at Server.Controllers.ItemController.<>c__DisplayClass9_0.<<CreateCertificate>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Server.Controllers.ItemController.ExecuteAction(Func`1 action)
[2025-02-07 00:59:45 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing ObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-02-07 00:59:45 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.ItemController.CreateCertificate (Server) in 9652.8013ms
[2025-02-07 00:59:45 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.ItemController.CreateCertificate (Server)'
[2025-02-07 00:59:45 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/item/create/1 - 500 null application/json; charset=utf-8 9665.3596ms
[2025-02-07 01:01:27 ] Starting the application...
[2025-02-07 01:01:28 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 01:01:28 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 01:01:28 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 01:01:28 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 01:01:28 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 01:01:28 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce _Net\Project_Net\Car-Agency\server\src
[2025-02-07 01:01:30 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 01:01:31 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 365.8293ms
[2025-02-07 01:01:34 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/item/create/1 - application/json 1244
[2025-02-07 01:01:34 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.ItemController.CreateCertificate (Server)'
[2025-02-07 01:01:34 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "CreateCertificate", controller = "Item"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateCertificate(Int32) on controller Server.Controllers.ItemController (Server).
[2025-02-07 01:01:36 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (58ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [i].[Id], [i].[Category], [i].[CertificateIssueDate], [i].[CertificateReferenceNumber], [i].[ChassisNumber], [i].[CountryOfOrigin], [i].[DriverName], [i].[DriverNationality], [i].[EmiratesIdNumber], [i].[EmptyWeight], [i].[EngineNumber], [i].[ExportCountryTo], [i].[ExportPlateNumber], [i].[FuelType], [i].[InsuranceCompany], [i].[InsuranceExpiryDate], [i].[InsurancePolicyNumber], [i].[InsuranceType], [i].[LicenseNumber], [i].[LicenseSource], [i].[ModelYear], [i].[Nationality], [i].[NumberOfDoors], [i].[NumberOfSeats], [i].[OwnerName], [i].[PassportNumber], [i].[RegistrationDate], [i].[RegistrationExpiryDate], [i].[RegistrationPlateNumber], [i].[TrafficCodeNumber], [i].[VehicleColor], [i].[VehicleMake], [i].[VehicleType]
FROM [Items] AS [i]
WHERE [i].[Id] = @__p_0
[2025-02-07 01:02:27 Microsoft.Hosting.Lifetime] Application is shutting down...
[2025-02-07 01:03:23 ] Starting the application...
[2025-02-07 01:03:23 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 01:03:24 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 01:03:24 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 01:03:24 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 01:03:24 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 01:03:24 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce _Net\Project_Net\Car-Agency\server\src
[2025-02-07 01:04:11 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/item/create/1 - application/json 1244
[2025-02-07 01:04:12 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.ItemController.CreateCertificate (Server)'
[2025-02-07 01:04:12 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "CreateCertificate", controller = "Item"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateCertificate(Int32) on controller Server.Controllers.ItemController (Server).
[2025-02-07 01:04:14 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (59ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [i].[Id], [i].[Category], [i].[CertificateIssueDate], [i].[CertificateReferenceNumber], [i].[ChassisNumber], [i].[CountryOfOrigin], [i].[DriverName], [i].[DriverNationality], [i].[EmiratesIdNumber], [i].[EmptyWeight], [i].[EngineNumber], [i].[ExportCountryTo], [i].[ExportPlateNumber], [i].[FuelType], [i].[InsuranceCompany], [i].[InsuranceExpiryDate], [i].[InsurancePolicyNumber], [i].[InsuranceType], [i].[LicenseNumber], [i].[LicenseSource], [i].[ModelYear], [i].[Nationality], [i].[NumberOfDoors], [i].[NumberOfSeats], [i].[OwnerName], [i].[PassportNumber], [i].[RegistrationDate], [i].[RegistrationExpiryDate], [i].[RegistrationPlateNumber], [i].[TrafficCodeNumber], [i].[VehicleColor], [i].[VehicleMake], [i].[VehicleType]
FROM [Items] AS [i]
WHERE [i].[Id] = @__p_0
[2025-02-07 01:11:02 ] Starting the application...
[2025-02-07 01:11:02 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 01:11:03 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 01:11:03 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 01:11:03 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 01:11:03 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 01:11:03 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce _Net\Project_Net\Car-Agency\server\src
[2025-02-07 01:11:04 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 01:11:04 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 261.1871ms
[2025-02-07 01:11:04 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 01:11:04 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 01:11:04 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 01:11:04 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 4.9725ms
[2025-02-07 01:11:04 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 23.8818ms
[2025-02-07 01:11:04 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 63.6745ms
[2025-02-07 01:11:04 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 01:11:05 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 32.5588ms
[2025-02-07 01:11:25 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/item/create/1 - application/json 1244
[2025-02-07 01:11:26 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.ItemController.CreateCertificate (Server)'
[2025-02-07 01:11:26 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "CreateCertificate", controller = "Item"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateCertificate(Int32) on controller Server.Controllers.ItemController (Server).
[2025-02-07 01:11:28 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (63ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [i].[Id], [i].[Category], [i].[CertificateIssueDate], [i].[CertificateReferenceNumber], [i].[ChassisNumber], [i].[CountryOfOrigin], [i].[DriverName], [i].[DriverNationality], [i].[EmiratesIdNumber], [i].[EmptyWeight], [i].[EngineNumber], [i].[ExportCountryTo], [i].[ExportPlateNumber], [i].[FuelType], [i].[InsuranceCompany], [i].[InsuranceExpiryDate], [i].[InsurancePolicyNumber], [i].[InsuranceType], [i].[LicenseNumber], [i].[LicenseSource], [i].[ModelYear], [i].[Nationality], [i].[NumberOfDoors], [i].[NumberOfSeats], [i].[OwnerName], [i].[PassportNumber], [i].[RegistrationDate], [i].[RegistrationExpiryDate], [i].[RegistrationPlateNumber], [i].[TrafficCodeNumber], [i].[VehicleColor], [i].[VehicleMake], [i].[VehicleType]
FROM [Items] AS [i]
WHERE [i].[Id] = @__p_0
[2025-02-07 01:11:59 ] Starting the application...
[2025-02-07 01:11:59 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 01:12:00 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 01:12:00 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 01:12:00 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 01:12:00 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 01:12:00 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce _Net\Project_Net\Car-Agency\server\src
[2025-02-07 01:12:01 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 01:12:01 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 335.3014ms
[2025-02-07 01:12:01 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 01:12:01 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 01:12:01 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 1.9884ms
[2025-02-07 01:12:01 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 01:12:01 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 18.9699ms
[2025-02-07 01:12:02 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 166.7258ms
[2025-02-07 01:12:02 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 01:12:02 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 27.7437ms
[2025-02-07 01:12:03 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/item/create/1 - application/json 1244
[2025-02-07 01:12:03 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.ItemController.CreateCertificate (Server)'
[2025-02-07 01:12:03 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "CreateCertificate", controller = "Item"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateCertificate(Int32) on controller Server.Controllers.ItemController (Server).
[2025-02-07 01:12:05 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (57ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [i].[Id], [i].[Category], [i].[CertificateIssueDate], [i].[CertificateReferenceNumber], [i].[ChassisNumber], [i].[CountryOfOrigin], [i].[DriverName], [i].[DriverNationality], [i].[EmiratesIdNumber], [i].[EmptyWeight], [i].[EngineNumber], [i].[ExportCountryTo], [i].[ExportPlateNumber], [i].[FuelType], [i].[InsuranceCompany], [i].[InsuranceExpiryDate], [i].[InsurancePolicyNumber], [i].[InsuranceType], [i].[LicenseNumber], [i].[LicenseSource], [i].[ModelYear], [i].[Nationality], [i].[NumberOfDoors], [i].[NumberOfSeats], [i].[OwnerName], [i].[PassportNumber], [i].[RegistrationDate], [i].[RegistrationExpiryDate], [i].[RegistrationPlateNumber], [i].[TrafficCodeNumber], [i].[VehicleColor], [i].[VehicleMake], [i].[VehicleType]
FROM [Items] AS [i]
WHERE [i].[Id] = @__p_0
[2025-02-07 01:12:39 ] Starting the application...
[2025-02-07 01:12:40 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 01:12:40 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 01:12:40 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 01:12:40 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 01:12:40 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 01:12:40 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce _Net\Project_Net\Car-Agency\server\src
[2025-02-07 01:12:40 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 01:12:41 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 264.9546ms
[2025-02-07 01:12:41 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 01:12:41 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 2.2188ms
[2025-02-07 01:12:41 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 01:12:41 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 01:12:41 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 13.7764ms
[2025-02-07 01:12:41 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 54.7737ms
[2025-02-07 01:12:41 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 01:12:41 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 20.2506ms
[2025-02-07 01:12:42 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/item/create/1 - application/json 1244
[2025-02-07 01:12:42 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.ItemController.CreateCertificate (Server)'
[2025-02-07 01:12:42 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "CreateCertificate", controller = "Item"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateCertificate(Int32) on controller Server.Controllers.ItemController (Server).
[2025-02-07 01:12:45 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (75ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [i].[Id], [i].[Category], [i].[CertificateIssueDate], [i].[CertificateReferenceNumber], [i].[ChassisNumber], [i].[CountryOfOrigin], [i].[DriverName], [i].[DriverNationality], [i].[EmiratesIdNumber], [i].[EmptyWeight], [i].[EngineNumber], [i].[ExportCountryTo], [i].[ExportPlateNumber], [i].[FuelType], [i].[InsuranceCompany], [i].[InsuranceExpiryDate], [i].[InsurancePolicyNumber], [i].[InsuranceType], [i].[LicenseNumber], [i].[LicenseSource], [i].[ModelYear], [i].[Nationality], [i].[NumberOfDoors], [i].[NumberOfSeats], [i].[OwnerName], [i].[PassportNumber], [i].[RegistrationDate], [i].[RegistrationExpiryDate], [i].[RegistrationPlateNumber], [i].[TrafficCodeNumber], [i].[VehicleColor], [i].[VehicleMake], [i].[VehicleType]
FROM [Items] AS [i]
WHERE [i].[Id] = @__p_0
[2025-02-07 01:27:28 ] Starting the application...
[2025-02-07 01:27:29 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 01:27:30 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 01:27:30 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 01:27:30 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 01:27:30 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 01:27:30 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce _Net\Project_Net\Car-Agency\server\src
[2025-02-07 01:27:31 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 01:27:31 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 308.4914ms
[2025-02-07 01:27:31 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 01:27:31 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 01:27:31 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 4.6741ms
[2025-02-07 01:27:31 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 01:27:31 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 18.83ms
[2025-02-07 01:27:31 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 75.0392ms
[2025-02-07 01:27:31 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 01:27:31 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 50.9399ms
[2025-02-07 01:27:34 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/item/create/1 - application/json 1244
[2025-02-07 01:27:35 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.ItemController.CreateCertificate (Server)'
[2025-02-07 01:27:35 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "CreateCertificate", controller = "Item"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateCertificate(Int32) on controller Server.Controllers.ItemController (Server).
[2025-02-07 01:27:37 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (55ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [i].[Id], [i].[Category], [i].[CertificateIssueDate], [i].[CertificateReferenceNumber], [i].[ChassisNumber], [i].[CountryOfOrigin], [i].[DriverName], [i].[DriverNationality], [i].[EmiratesIdNumber], [i].[EmptyWeight], [i].[EngineNumber], [i].[ExportCountryTo], [i].[ExportPlateNumber], [i].[FuelType], [i].[InsuranceCompany], [i].[InsuranceExpiryDate], [i].[InsurancePolicyNumber], [i].[InsuranceType], [i].[LicenseNumber], [i].[LicenseSource], [i].[ModelYear], [i].[Nationality], [i].[NumberOfDoors], [i].[NumberOfSeats], [i].[OwnerName], [i].[PassportNumber], [i].[RegistrationDate], [i].[RegistrationExpiryDate], [i].[RegistrationPlateNumber], [i].[TrafficCodeNumber], [i].[VehicleColor], [i].[VehicleMake], [i].[VehicleType]
FROM [Items] AS [i]
WHERE [i].[Id] = @__p_0
[2025-02-07 01:27:54 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Server.Models.Item, Server, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-02-07 01:27:54 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.ItemController.CreateCertificate (Server) in 19705.0455ms
[2025-02-07 01:27:54 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.ItemController.CreateCertificate (Server)'
[2025-02-07 01:27:54 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/item/create/1 - 200 null application/json; charset=utf-8 20023.0285ms
[2025-02-07 01:29:02 ] Starting the application...
[2025-02-07 01:29:02 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 01:29:03 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 01:29:03 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 01:29:03 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 01:29:03 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 01:29:03 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce _Net\Project_Net\Car-Agency\server\src
[2025-02-07 01:29:03 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 01:29:04 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 562.4999ms
[2025-02-07 01:29:06 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/item/create/1 - application/json 1244
[2025-02-07 01:29:07 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.ItemController.CreateCertificate (Server)'
[2025-02-07 01:29:07 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "CreateCertificate", controller = "Item"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateCertificate(Int32) on controller Server.Controllers.ItemController (Server).
[2025-02-07 01:29:08 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (58ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [i].[Id], [i].[Category], [i].[CertificateIssueDate], [i].[CertificateReferenceNumber], [i].[ChassisNumber], [i].[CountryOfOrigin], [i].[DriverName], [i].[DriverNationality], [i].[EmiratesIdNumber], [i].[EmptyWeight], [i].[EngineNumber], [i].[ExportCountryTo], [i].[ExportPlateNumber], [i].[FuelType], [i].[InsuranceCompany], [i].[InsuranceExpiryDate], [i].[InsurancePolicyNumber], [i].[InsuranceType], [i].[LicenseNumber], [i].[LicenseSource], [i].[ModelYear], [i].[Nationality], [i].[NumberOfDoors], [i].[NumberOfSeats], [i].[OwnerName], [i].[PassportNumber], [i].[RegistrationDate], [i].[RegistrationExpiryDate], [i].[RegistrationPlateNumber], [i].[TrafficCodeNumber], [i].[VehicleColor], [i].[VehicleMake], [i].[VehicleType]
FROM [Items] AS [i]
WHERE [i].[Id] = @__p_0
[2025-02-07 01:29:25 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Server.Models.Item, Server, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-02-07 01:29:26 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.ItemController.CreateCertificate (Server) in 19453.1895ms
[2025-02-07 01:29:26 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.ItemController.CreateCertificate (Server)'
[2025-02-07 01:29:27 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/item/create/1 - 200 null application/json; charset=utf-8 20062.4161ms
[2025-02-07 06:01:34 ] Starting the application...
[2025-02-07 06:01:35 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 06:01:35 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 06:01:35 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 06:01:36 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 06:01:36 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 06:01:36 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce _Net\Project_Net\Car-Agency\server\src
[2025-02-07 06:01:38 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 06:01:38 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 363.3918ms
[2025-02-07 06:01:38 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 06:01:38 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 06:01:38 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 06:01:38 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 49.6862ms
[2025-02-07 06:01:38 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 60.246ms
[2025-02-07 06:01:39 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 220.9748ms
[2025-02-07 06:01:39 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 06:01:39 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 45.0176ms
[2025-02-07 06:01:42 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST https://localhost:7299/api/auth/login - application/json 48
[2025-02-07 06:01:42 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 06:01:42 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Server.Dtos.UserDto) on controller Server.Controllers.AuthController (Server).
[2025-02-07 06:01:45 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-02-07 06:01:45 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.AuthController.Login (Server) in 3351.1232ms
[2025-02-07 06:01:45 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 06:01:45 Microsoft.EntityFrameworkCore.Database.Connection] An error occurred using the connection to database '' on server ''.
[2025-02-07 06:01:45 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST https://localhost:7299/api/auth/login - 200 null application/json; charset=utf-8 3663.1128ms
[2025-02-07 06:01:51 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST https://localhost:7299/api/auth/login - application/json 49
[2025-02-07 06:01:51 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 06:01:51 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Server.Dtos.UserDto) on controller Server.Controllers.AuthController (Server).
[2025-02-07 06:01:51 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-02-07 06:01:51 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.AuthController.Login (Server) in 95.275ms
[2025-02-07 06:01:51 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 06:01:51 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST https://localhost:7299/api/auth/login - 200 null application/json; charset=utf-8 110.4612ms
[2025-02-07 06:01:51 Microsoft.EntityFrameworkCore.Database.Command] Failed executing DbCommand (62ms) [Parameters=[@__email_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Password], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0 AND [u].[Password] = @__password_1
[2025-02-07 06:01:51 Microsoft.EntityFrameworkCore.Query] An exception occurred while iterating over the results of a query for context type 'Server.Data.ApplicationContextDb'.
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2025-02-07 06:02:04 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 06:02:04 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 3.7299ms
[2025-02-07 06:02:04 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 06:02:04 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 06:02:04 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 0.5316ms
[2025-02-07 06:02:04 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 06:02:04 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 1.0576ms
[2025-02-07 06:02:04 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 8.0068ms
[2025-02-07 06:02:04 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 06:02:04 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 11.7346ms
[2025-02-07 06:02:08 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 06:02:08 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 2.7589ms
[2025-02-07 06:02:09 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 06:02:09 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 0.4898ms
[2025-02-07 06:02:09 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 06:02:09 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 06:02:09 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 0.6897ms
[2025-02-07 06:02:09 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 6.863ms
[2025-02-07 06:02:09 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 06:02:09 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 8.9702ms
[2025-02-07 06:02:17 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 06:02:17 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 2.825ms
[2025-02-07 06:02:17 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 06:02:17 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 0.3877ms
[2025-02-07 06:02:17 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 06:02:17 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 3.97ms
[2025-02-07 06:02:17 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 06:02:17 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 0.4092ms
[2025-02-07 06:02:17 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 06:02:17 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 7.1641ms
[2025-02-07 06:03:49 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST https://localhost:7299/api/auth/login - application/json 49
[2025-02-07 06:03:49 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 06:03:49 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Server.Dtos.UserDto) on controller Server.Controllers.AuthController (Server).
[2025-02-07 06:03:50 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-02-07 06:03:50 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.AuthController.Login (Server) in 127.2407ms
[2025-02-07 06:03:50 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 06:03:50 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST https://localhost:7299/api/auth/login - 200 null application/json; charset=utf-8 142.1737ms
[2025-02-07 06:03:50 Microsoft.EntityFrameworkCore.Database.Connection] An error occurred using the connection to database 'CarAgency' on server 'AMRGAMAL'.
[2025-02-07 06:05:15 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST https://localhost:7299/api/auth/login - application/json 49
[2025-02-07 06:05:15 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 06:05:15 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Server.Dtos.UserDto) on controller Server.Controllers.AuthController (Server).
[2025-02-07 06:05:15 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-02-07 06:05:15 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.AuthController.Login (Server) in 5.7427ms
[2025-02-07 06:05:15 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 06:05:15 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST https://localhost:7299/api/auth/login - 200 null application/json; charset=utf-8 8.6966ms
[2025-02-07 06:05:15 Microsoft.EntityFrameworkCore.Database.Command] Failed executing DbCommand (3ms) [Parameters=[@__email_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Password], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0 AND [u].[Password] = @__password_1
[2025-02-07 06:05:15 Microsoft.EntityFrameworkCore.Query] An exception occurred while iterating over the results of a query for context type 'Server.Data.ApplicationContextDb'.
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2025-02-07 06:05:23 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST https://localhost:7299/api/auth/login - application/json 49
[2025-02-07 06:05:23 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 06:05:23 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Server.Dtos.UserDto) on controller Server.Controllers.AuthController (Server).
[2025-02-07 06:05:23 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-02-07 06:05:23 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.AuthController.Login (Server) in 7.8256ms
[2025-02-07 06:05:23 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 06:05:23 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST https://localhost:7299/api/auth/login - 200 null application/json; charset=utf-8 9.3469ms
[2025-02-07 06:05:23 Microsoft.EntityFrameworkCore.Database.Connection] An error occurred using the connection to database 'CarAgency' on server 'AMRGAMAL'.
[2025-02-07 06:05:27 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST https://localhost:7299/api/auth/login - application/json 48
[2025-02-07 06:05:27 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 06:05:27 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Server.Dtos.UserDto) on controller Server.Controllers.AuthController (Server).
[2025-02-07 06:05:27 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-02-07 06:05:27 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.AuthController.Login (Server) in 2.7258ms
[2025-02-07 06:05:27 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 06:05:27 Microsoft.EntityFrameworkCore.Database.Command] Failed executing DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Password], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0 AND [u].[Password] = @__password_1
[2025-02-07 06:05:27 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST https://localhost:7299/api/auth/login - 200 null application/json; charset=utf-8 3.9725ms
[2025-02-07 06:05:27 Microsoft.EntityFrameworkCore.Query] An exception occurred while iterating over the results of a query for context type 'Server.Data.ApplicationContextDb'.
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2025-02-07 06:05:29 Microsoft.Hosting.Lifetime] Application is shutting down...
[2025-02-07 06:05:35 ] Starting the application...
[2025-02-07 06:05:36 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 06:05:36 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 06:05:36 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 06:05:36 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 06:05:36 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 06:05:36 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce _Net\Project_Net\Car-Agency\server\src
[2025-02-07 06:05:38 Microsoft.AspNetCore.Server.Kestrel] As of ""2025-02-07T04:05:38.6436496+00:00"", the heartbeat has been running for ""00:00:01.1327818"" which is longer than ""00:00:01"". This could be caused by thread pool starvation.
[2025-02-07 06:05:39 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 06:05:39 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 272.3087ms
[2025-02-07 06:05:39 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 06:05:39 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 06:05:39 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 06:05:39 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 15.137ms
[2025-02-07 06:05:39 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 72.8371ms
[2025-02-07 06:05:39 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 100.2183ms
[2025-02-07 06:05:39 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 06:05:39 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 37.8031ms
[2025-02-07 06:05:41 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST https://localhost:7299/api/auth/login - application/json 48
[2025-02-07 06:05:42 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 06:05:42 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Server.Dtos.UserDto) on controller Server.Controllers.AuthController (Server).
[2025-02-07 06:05:44 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-02-07 06:05:44 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.AuthController.Login (Server) in 2709.2697ms
[2025-02-07 06:05:44 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 06:05:44 Microsoft.EntityFrameworkCore.Database.Connection] An error occurred using the connection to database '' on server ''.
[2025-02-07 06:05:44 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST https://localhost:7299/api/auth/login - 200 null application/json; charset=utf-8 2946.0423ms
[2025-02-07 06:05:52 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST https://localhost:7299/api/auth/login - application/json 50
[2025-02-07 06:05:52 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 06:05:52 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Server.Dtos.UserDto) on controller Server.Controllers.AuthController (Server).
[2025-02-07 06:05:52 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-02-07 06:05:52 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.AuthController.Login (Server) in 124.5568ms
[2025-02-07 06:05:52 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 06:05:52 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST https://localhost:7299/api/auth/login - 200 null application/json; charset=utf-8 137.1667ms
[2025-02-07 06:05:52 Microsoft.EntityFrameworkCore.Database.Command] Failed executing DbCommand (76ms) [Parameters=[@__email_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Password], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0 AND [u].[Password] = @__password_1
[2025-02-07 06:05:52 Microsoft.EntityFrameworkCore.Query] An exception occurred while iterating over the results of a query for context type 'Server.Data.ApplicationContextDb'.
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2025-02-07 06:07:03 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 06:07:03 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 14.4259ms
[2025-02-07 06:07:03 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 06:07:03 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 0.5272ms
[2025-02-07 06:07:03 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 06:07:03 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 06:07:03 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 3.1297ms
[2025-02-07 06:07:03 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 23.2915ms
[2025-02-07 06:07:04 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 06:07:04 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 15.0268ms
[2025-02-07 06:07:06 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 06:07:06 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 4.8132ms
[2025-02-07 06:07:06 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 06:07:06 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 1.0092ms
[2025-02-07 06:07:06 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 06:07:06 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 06:07:06 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 0.4285ms
[2025-02-07 06:07:06 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 7.3345ms
[2025-02-07 06:07:07 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 06:07:07 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 12.8876ms
[2025-02-07 06:07:19 ] Starting the application...
[2025-02-07 06:07:20 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 06:07:20 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 06:07:20 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 06:07:20 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 06:07:20 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 06:07:20 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce _Net\Project_Net\Car-Agency\server\src
[2025-02-07 06:07:21 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 06:07:21 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 182.0834ms
[2025-02-07 06:07:21 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 06:07:21 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 2.3825ms
[2025-02-07 06:07:21 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 06:07:21 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 06:07:21 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 12.4282ms
[2025-02-07 06:07:21 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 51.3808ms
[2025-02-07 06:07:21 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 06:07:21 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 18.4993ms
[2025-02-07 06:07:31 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST https://localhost:7299/api/auth/login - application/json 50
[2025-02-07 06:07:31 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 06:07:31 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Server.Dtos.UserDto) on controller Server.Controllers.AuthController (Server).
[2025-02-07 06:07:32 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-02-07 06:07:32 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.AuthController.Login (Server) in 1696.7471ms
[2025-02-07 06:07:32 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 06:07:32 Microsoft.EntityFrameworkCore.Database.Connection] An error occurred using the connection to database '' on server ''.
[2025-02-07 06:07:32 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST https://localhost:7299/api/auth/login - 200 null application/json; charset=utf-8 1905.586ms
[2025-02-07 06:07:34 Microsoft.Hosting.Lifetime] Application is shutting down...
[2025-02-07 06:08:24 ] Starting the application...
[2025-02-07 06:08:24 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 06:08:25 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 06:08:25 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 06:08:25 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 06:08:25 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 06:08:25 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce _Net\Project_Net\Car-Agency\server\src
[2025-02-07 06:08:25 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 06:08:25 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 273.651ms
[2025-02-07 06:08:26 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 06:08:26 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 2.5026ms
[2025-02-07 06:08:26 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 06:08:26 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 77.291ms
[2025-02-07 06:08:26 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 06:08:26 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 7.3896ms
[2025-02-07 06:08:26 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 06:08:26 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 28.2447ms
[2025-02-07 06:08:27 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 06:08:27 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 5.0987ms
[2025-02-07 06:08:27 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 06:08:27 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 0.5902ms
[2025-02-07 06:08:27 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 06:08:27 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 06:08:27 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 2.7551ms
[2025-02-07 06:08:27 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 26.294ms
[2025-02-07 06:08:28 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 06:08:28 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 13.8029ms
[2025-02-07 06:08:35 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST https://localhost:7299/api/auth/login - application/json 48
[2025-02-07 06:08:35 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 06:08:35 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Server.Dtos.UserDto) on controller Server.Controllers.AuthController (Server).
[2025-02-07 06:08:37 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-02-07 06:08:37 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.AuthController.Login (Server) in 2172.6205ms
[2025-02-07 06:08:37 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 06:08:37 Microsoft.EntityFrameworkCore.Database.Connection] An error occurred using the connection to database 'CarAgency' on server 'AMRGAMAL'.
[2025-02-07 06:08:37 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST https://localhost:7299/api/auth/login - 200 null application/json; charset=utf-8 2273.3299ms
[2025-02-07 06:08:39 Microsoft.Hosting.Lifetime] Application is shutting down...
[2025-02-07 06:09:53 ] Starting the application...
[2025-02-07 06:09:53 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 06:09:54 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 06:09:54 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 06:09:54 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 06:09:54 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 06:09:54 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce _Net\Project_Net\Car-Agency\server\src
[2025-02-07 06:09:54 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 06:09:54 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 191.3913ms
[2025-02-07 06:09:54 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 06:09:54 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 06:09:54 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 06:09:54 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 6.7582ms
[2025-02-07 06:09:54 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 18.17ms
[2025-02-07 06:09:54 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 46.4475ms
[2025-02-07 06:09:54 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 06:09:54 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 21.5547ms
[2025-02-07 06:09:59 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST https://localhost:7299/api/auth/login - application/json 54
[2025-02-07 06:09:59 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 06:09:59 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Server.Dtos.UserDto) on controller Server.Controllers.AuthController (Server).
[2025-02-07 06:10:02 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-02-07 06:10:02 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.AuthController.Login (Server) in 2169.7138ms
[2025-02-07 06:10:02 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 06:10:02 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST https://localhost:7299/api/auth/login - 200 null application/json; charset=utf-8 2321.9452ms
[2025-02-07 06:10:02 Microsoft.EntityFrameworkCore.Database.Connection] An error occurred using the connection to database 'CarAgency' on server 'AMRGAMAL'.
[2025-02-07 06:11:44 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 06:11:45 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 30.7193ms
[2025-02-07 06:11:45 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 06:11:45 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 06:11:45 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 0.6031ms
[2025-02-07 06:11:45 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 06:11:45 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 6.3612ms
[2025-02-07 06:11:45 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 78.9574ms
[2025-02-07 06:11:45 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 06:11:45 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 24.797ms
[2025-02-07 06:11:49 ] Starting the application...
[2025-02-07 06:11:49 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 06:11:50 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 06:11:50 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 06:11:50 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 06:11:50 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 06:11:50 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce _Net\Project_Net\Car-Agency\server\src
[2025-02-07 06:11:50 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 06:11:50 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 235.0548ms
[2025-02-07 06:11:51 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 06:11:51 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 06:11:51 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 2.0525ms
[2025-02-07 06:11:51 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 06:11:51 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 15.4584ms
[2025-02-07 06:11:51 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 75.8084ms
[2025-02-07 06:11:51 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 06:11:51 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 25.5972ms
[2025-02-07 06:11:57 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST https://localhost:7299/api/auth/login - application/json 54
[2025-02-07 06:11:57 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 06:11:57 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Server.Dtos.UserDto) on controller Server.Controllers.AuthController (Server).
[2025-02-07 06:11:59 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-02-07 06:11:59 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.AuthController.Login (Server) in 1955.022ms
[2025-02-07 06:11:59 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 06:11:59 Microsoft.EntityFrameworkCore.Database.Connection] An error occurred using the connection to database 'CarAgency' on server 'AMRGAMAL'.
[2025-02-07 06:11:59 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST https://localhost:7299/api/auth/login - 200 null application/json; charset=utf-8 2131.3635ms
[2025-02-07 06:12:08 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST https://localhost:7299/api/auth/login - application/json 48
[2025-02-07 06:12:08 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 06:12:08 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Server.Dtos.UserDto) on controller Server.Controllers.AuthController (Server).
[2025-02-07 06:12:08 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-02-07 06:12:08 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.AuthController.Login (Server) in 85.7646ms
[2025-02-07 06:12:08 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 06:12:08 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST https://localhost:7299/api/auth/login - 200 null application/json; charset=utf-8 97.3053ms
[2025-02-07 06:12:08 Microsoft.EntityFrameworkCore.Database.Command] Failed executing DbCommand (49ms) [Parameters=[@__ToLower_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Password], [u].[Role]
FROM [Users] AS [u]
WHERE LOWER([u].[Email]) = @__ToLower_0 AND [u].[Password] = @__password_1
[2025-02-07 06:12:08 Microsoft.EntityFrameworkCore.Query] An exception occurred while iterating over the results of a query for context type 'Server.Data.ApplicationContextDb'.
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2025-02-07 06:12:11 Microsoft.Hosting.Lifetime] Application is shutting down...
[2025-02-07 06:12:34 ] Starting the application...
[2025-02-07 06:12:35 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 06:12:35 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 06:12:35 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 06:12:35 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 06:12:35 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 06:12:35 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce _Net\Project_Net\Car-Agency\server\src
[2025-02-07 06:12:35 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 06:12:36 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 188.202ms
[2025-02-07 06:12:36 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 06:12:36 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 2.2123ms
[2025-02-07 06:12:36 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 06:12:36 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 06:12:36 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 13.6092ms
[2025-02-07 06:12:36 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 48.7081ms
[2025-02-07 06:12:36 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 06:12:36 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 24.2163ms
[2025-02-07 06:12:48 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST https://localhost:7299/api/auth/login - application/json 48
[2025-02-07 06:12:48 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 06:12:48 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Server.Dtos.UserDto) on controller Server.Controllers.AuthController (Server).
[2025-02-07 06:12:50 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-02-07 06:12:50 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.AuthController.Login (Server) in 1528.8921ms
[2025-02-07 06:12:50 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 06:12:50 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST https://localhost:7299/api/auth/login - 200 null application/json; charset=utf-8 1639.3605ms
[2025-02-07 06:12:50 Microsoft.EntityFrameworkCore.Database.Connection] An error occurred using the connection to database 'CarAgency' on server 'AMRGAMAL'.
[2025-02-07 06:12:55 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST https://localhost:7299/api/auth/login - application/json 52
[2025-02-07 06:12:55 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 06:12:55 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Server.Dtos.UserDto) on controller Server.Controllers.AuthController (Server).
[2025-02-07 06:12:55 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-02-07 06:12:55 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.AuthController.Login (Server) in 80.6816ms
[2025-02-07 06:12:55 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 06:12:55 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST https://localhost:7299/api/auth/login - 200 null application/json; charset=utf-8 94.1217ms
[2025-02-07 06:12:55 Microsoft.EntityFrameworkCore.Database.Command] Failed executing DbCommand (49ms) [Parameters=[@__ToLower_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Password], [u].[Role]
FROM [Users] AS [u]
WHERE LOWER([u].[Email]) = @__ToLower_0 AND [u].[Password] = @__password_1
[2025-02-07 06:12:55 Microsoft.EntityFrameworkCore.Query] An exception occurred while iterating over the results of a query for context type 'Server.Data.ApplicationContextDb'.
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2025-02-07 06:13:11 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST https://localhost:7299/api/auth/login - application/json 54
[2025-02-07 06:13:11 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 06:13:11 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Server.Dtos.UserDto) on controller Server.Controllers.AuthController (Server).
[2025-02-07 06:13:11 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-02-07 06:13:11 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.AuthController.Login (Server) in 109.2836ms
[2025-02-07 06:13:11 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 06:13:11 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST https://localhost:7299/api/auth/login - 200 null application/json; charset=utf-8 114.8455ms
[2025-02-07 06:13:11 Microsoft.EntityFrameworkCore.Database.Connection] An error occurred using the connection to database 'CarAgency' on server 'AMRGAMAL'.
[2025-02-07 06:15:33 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 06:15:33 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 8.0392ms
[2025-02-07 06:15:33 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 06:15:33 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 0.5314ms
[2025-02-07 06:15:33 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 06:15:33 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 25.3855ms
[2025-02-07 06:15:33 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 06:15:33 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 0.8726ms
[2025-02-07 06:15:34 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 06:15:34 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 15.442ms
[2025-02-07 06:15:36 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 06:15:36 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 3.4176ms
[2025-02-07 06:15:36 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 06:15:36 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 06:15:36 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 0.3849ms
[2025-02-07 06:15:36 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 06:15:36 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 5.7464ms
[2025-02-07 06:15:36 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 24.1632ms
[2025-02-07 06:15:37 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 06:15:37 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 10.0217ms
[2025-02-07 06:15:51 ] Starting the application...
[2025-02-07 06:15:51 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 06:15:52 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 06:15:52 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 06:15:52 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 06:15:52 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 06:15:52 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce _Net\Project_Net\Car-Agency\server\src
[2025-02-07 06:15:52 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST https://localhost:7299/api/auth/login - application/json 54
[2025-02-07 06:15:52 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 06:15:52 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 06:15:52 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Server.Dtos.UserDto) on controller Server.Controllers.AuthController (Server).
[2025-02-07 06:15:53 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 494.3206ms
[2025-02-07 06:15:54 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 06:15:54 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 06:15:54 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 1.544ms
[2025-02-07 06:15:54 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 84.4123ms
[2025-02-07 06:15:54 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 06:15:54 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 5.8959ms
[2025-02-07 06:15:54 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 06:15:54 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 17.714ms
[2025-02-07 06:15:55 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (57ms) [Parameters=[@__ToLower_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Password], [u].[Role]
FROM [Users] AS [u]
WHERE LOWER([u].[Email]) = @__ToLower_0 AND [u].[Password] = @__password_1
[2025-02-07 06:15:55 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-02-07 06:15:55 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.AuthController.Login (Server) in 2622.2224ms
[2025-02-07 06:15:55 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 06:15:55 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST https://localhost:7299/api/auth/login - 400 null application/json; charset=utf-8 2833.3136ms
[2025-02-07 06:16:56 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 06:16:56 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 12.8368ms
[2025-02-07 06:16:56 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 06:16:56 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 0.6826ms
[2025-02-07 06:16:56 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 06:16:56 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 28.7235ms
[2025-02-07 06:16:56 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 06:16:56 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 1.2846ms
[2025-02-07 06:16:56 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 06:16:56 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 21.8149ms
[2025-02-07 06:17:00 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST https://localhost:7299/api/auth/login - application/json 54
[2025-02-07 06:17:00 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 06:17:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Server.Dtos.UserDto) on controller Server.Controllers.AuthController (Server).
[2025-02-07 06:17:00 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (18ms) [Parameters=[@__ToLower_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Password], [u].[Role]
FROM [Users] AS [u]
WHERE LOWER([u].[Email]) = @__ToLower_0 AND [u].[Password] = @__password_1
[2025-02-07 06:17:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-02-07 06:17:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.AuthController.Login (Server) in 93.3215ms
[2025-02-07 06:17:00 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 06:17:00 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST https://localhost:7299/api/auth/login - 400 null application/json; charset=utf-8 110.6351ms
[2025-02-07 06:17:04 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST https://localhost:7299/api/auth/login - application/json 50
[2025-02-07 06:17:04 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 06:17:04 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Server.Dtos.UserDto) on controller Server.Controllers.AuthController (Server).
[2025-02-07 06:17:04 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (13ms) [Parameters=[@__ToLower_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Password], [u].[Role]
FROM [Users] AS [u]
WHERE LOWER([u].[Email]) = @__ToLower_0 AND [u].[Password] = @__password_1
[2025-02-07 06:17:04 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-02-07 06:17:04 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.AuthController.Login (Server) in 179.3224ms
[2025-02-07 06:17:04 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 06:17:04 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST https://localhost:7299/api/auth/login - 400 null application/json; charset=utf-8 188.3397ms
[2025-02-07 06:17:11 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST https://localhost:7299/api/auth/login - application/json 48
[2025-02-07 06:17:11 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 06:17:11 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Server.Dtos.UserDto) on controller Server.Controllers.AuthController (Server).
[2025-02-07 06:17:11 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (6ms) [Parameters=[@__ToLower_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Password], [u].[Role]
FROM [Users] AS [u]
WHERE LOWER([u].[Email]) = @__ToLower_0 AND [u].[Password] = @__password_1
[2025-02-07 06:17:11 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-02-07 06:17:11 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.AuthController.Login (Server) in 84.5322ms
[2025-02-07 06:17:11 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 06:17:11 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST https://localhost:7299/api/auth/login - 200 null application/json; charset=utf-8 85.6479ms
[2025-02-07 06:17:35 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST https://localhost:7299/api/auth/login - application/json 50
[2025-02-07 06:17:35 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 06:17:35 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Server.Dtos.UserDto) on controller Server.Controllers.AuthController (Server).
[2025-02-07 06:17:35 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (16ms) [Parameters=[@__ToLower_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Password], [u].[Role]
FROM [Users] AS [u]
WHERE LOWER([u].[Email]) = @__ToLower_0 AND [u].[Password] = @__password_1
[2025-02-07 06:17:35 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-02-07 06:17:35 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.AuthController.Login (Server) in 20.9323ms
[2025-02-07 06:17:35 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 06:17:35 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST https://localhost:7299/api/auth/login - 400 null application/json; charset=utf-8 22.4971ms
[2025-02-07 06:18:02 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST https://localhost:7299/api/auth/login - application/json 49
[2025-02-07 06:18:02 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 06:18:02 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Server.Dtos.UserDto) on controller Server.Controllers.AuthController (Server).
[2025-02-07 06:18:02 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
[2025-02-07 06:18:02 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.AuthController.Login (Server) in 34.3098ms
[2025-02-07 06:18:02 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 06:18:02 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST https://localhost:7299/api/auth/login - 400 null application/problem+json; charset=utf-8 35.182ms
[2025-02-07 06:18:32 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST https://localhost:7299/api/auth/login - application/json 53
[2025-02-07 06:18:32 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 06:18:32 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Server.Dtos.UserDto) on controller Server.Controllers.AuthController (Server).
[2025-02-07 06:18:32 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (4ms) [Parameters=[@__ToLower_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Password], [u].[Role]
FROM [Users] AS [u]
WHERE LOWER([u].[Email]) = @__ToLower_0 AND [u].[Password] = @__password_1
[2025-02-07 06:18:32 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-02-07 06:18:32 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.AuthController.Login (Server) in 7.2604ms
[2025-02-07 06:18:32 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 06:18:32 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST https://localhost:7299/api/auth/login - 400 null application/json; charset=utf-8 8.2519ms
[2025-02-07 06:18:46 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST https://localhost:7299/api/auth/login - application/json 48
[2025-02-07 06:18:46 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 06:18:46 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Server.Dtos.UserDto) on controller Server.Controllers.AuthController (Server).
[2025-02-07 06:18:46 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (3ms) [Parameters=[@__ToLower_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Password], [u].[Role]
FROM [Users] AS [u]
WHERE LOWER([u].[Email]) = @__ToLower_0 AND [u].[Password] = @__password_1
[2025-02-07 06:18:46 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-02-07 06:18:46 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.AuthController.Login (Server) in 7.9356ms
[2025-02-07 06:18:46 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 06:18:46 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST https://localhost:7299/api/auth/login - 200 null application/json; charset=utf-8 8.8267ms
[2025-02-07 06:19:36 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/item?page=1 - null null
[2025-02-07 06:19:36 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.ItemController.GetAll (Server)'
[2025-02-07 06:19:36 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "GetAll", controller = "Item"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(Int32) on controller Server.Controllers.ItemController (Server).
[2025-02-07 06:19:36 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Id], [i].[Category], [i].[CertificateIssueDate], [i].[CertificateReferenceNumber], [i].[ChassisNumber], [i].[CountryOfOrigin], [i].[DriverName], [i].[DriverNationality], [i].[EmiratesIdNumber], [i].[EmptyWeight], [i].[EngineNumber], [i].[ExportCountryTo], [i].[ExportPlateNumber], [i].[FuelType], [i].[InsuranceCompany], [i].[InsuranceExpiryDate], [i].[InsurancePolicyNumber], [i].[InsuranceType], [i].[LicenseNumber], [i].[LicenseSource], [i].[ModelYear], [i].[Nationality], [i].[NumberOfDoors], [i].[NumberOfSeats], [i].[OwnerName], [i].[PassportNumber], [i].[RegistrationDate], [i].[RegistrationExpiryDate], [i].[RegistrationPlateNumber], [i].[TrafficCodeNumber], [i].[VehicleColor], [i].[VehicleMake], [i].[VehicleType]
FROM [Items] AS [i]
[2025-02-07 06:19:37 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-02-07 06:19:37 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.ItemController.GetAll (Server) in 462.1035ms
[2025-02-07 06:19:37 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.ItemController.GetAll (Server)'
[2025-02-07 06:19:37 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/item?page=1 - 200 null application/json; charset=utf-8 532.3707ms
[2025-02-07 06:20:20 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/item/1 - application/json 1203
[2025-02-07 06:20:20 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.ItemController.GetById (Server)'
[2025-02-07 06:20:20 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "GetById", controller = "Item"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32) on controller Server.Controllers.ItemController (Server).
[2025-02-07 06:20:20 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [i].[Id], [i].[Category], [i].[CertificateIssueDate], [i].[CertificateReferenceNumber], [i].[ChassisNumber], [i].[CountryOfOrigin], [i].[DriverName], [i].[DriverNationality], [i].[EmiratesIdNumber], [i].[EmptyWeight], [i].[EngineNumber], [i].[ExportCountryTo], [i].[ExportPlateNumber], [i].[FuelType], [i].[InsuranceCompany], [i].[InsuranceExpiryDate], [i].[InsurancePolicyNumber], [i].[InsuranceType], [i].[LicenseNumber], [i].[LicenseSource], [i].[ModelYear], [i].[Nationality], [i].[NumberOfDoors], [i].[NumberOfSeats], [i].[OwnerName], [i].[PassportNumber], [i].[RegistrationDate], [i].[RegistrationExpiryDate], [i].[RegistrationPlateNumber], [i].[TrafficCodeNumber], [i].[VehicleColor], [i].[VehicleMake], [i].[VehicleType]
FROM [Items] AS [i]
WHERE [i].[Id] = @__p_0
[2025-02-07 06:20:20 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Server.Models.Item, Server, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-02-07 06:20:20 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.ItemController.GetById (Server) in 79.0137ms
[2025-02-07 06:20:20 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.ItemController.GetById (Server)'
[2025-02-07 06:20:20 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/item/1 - 200 null application/json; charset=utf-8 90.2509ms
[2025-02-07 06:20:42 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 DELETE https://localhost:7299/api/item/remove/10 - application/json 1203
[2025-02-07 06:20:42 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.ItemController.Delete (Server)'
[2025-02-07 06:20:42 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Delete", controller = "Item"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Delete(Int32) on controller Server.Controllers.ItemController (Server).
[2025-02-07 06:20:42 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [i].[Id], [i].[Category], [i].[CertificateIssueDate], [i].[CertificateReferenceNumber], [i].[ChassisNumber], [i].[CountryOfOrigin], [i].[DriverName], [i].[DriverNationality], [i].[EmiratesIdNumber], [i].[EmptyWeight], [i].[EngineNumber], [i].[ExportCountryTo], [i].[ExportPlateNumber], [i].[FuelType], [i].[InsuranceCompany], [i].[InsuranceExpiryDate], [i].[InsurancePolicyNumber], [i].[InsuranceType], [i].[LicenseNumber], [i].[LicenseSource], [i].[ModelYear], [i].[Nationality], [i].[NumberOfDoors], [i].[NumberOfSeats], [i].[OwnerName], [i].[PassportNumber], [i].[RegistrationDate], [i].[RegistrationExpiryDate], [i].[RegistrationPlateNumber], [i].[TrafficCodeNumber], [i].[VehicleColor], [i].[VehicleMake], [i].[VehicleType]
FROM [Items] AS [i]
WHERE [i].[Id] = @__p_0
[2025-02-07 06:20:42 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-02-07 06:20:42 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.ItemController.Delete (Server) in 18.3123ms
[2025-02-07 06:20:42 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.ItemController.Delete (Server)'
[2025-02-07 06:20:42 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 DELETE https://localhost:7299/api/item/remove/10 - 404 null application/json; charset=utf-8 29.9923ms
[2025-02-07 06:20:48 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 DELETE https://localhost:7299/api/item/remove/11 - application/json 1203
[2025-02-07 06:20:48 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.ItemController.Delete (Server)'
[2025-02-07 06:20:48 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Delete", controller = "Item"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Delete(Int32) on controller Server.Controllers.ItemController (Server).
[2025-02-07 06:20:48 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [i].[Id], [i].[Category], [i].[CertificateIssueDate], [i].[CertificateReferenceNumber], [i].[ChassisNumber], [i].[CountryOfOrigin], [i].[DriverName], [i].[DriverNationality], [i].[EmiratesIdNumber], [i].[EmptyWeight], [i].[EngineNumber], [i].[ExportCountryTo], [i].[ExportPlateNumber], [i].[FuelType], [i].[InsuranceCompany], [i].[InsuranceExpiryDate], [i].[InsurancePolicyNumber], [i].[InsuranceType], [i].[LicenseNumber], [i].[LicenseSource], [i].[ModelYear], [i].[Nationality], [i].[NumberOfDoors], [i].[NumberOfSeats], [i].[OwnerName], [i].[PassportNumber], [i].[RegistrationDate], [i].[RegistrationExpiryDate], [i].[RegistrationPlateNumber], [i].[TrafficCodeNumber], [i].[VehicleColor], [i].[VehicleMake], [i].[VehicleType]
FROM [Items] AS [i]
WHERE [i].[Id] = @__p_0
[2025-02-07 06:20:48 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (16ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Items]
OUTPUT 1
WHERE [Id] = @p0;
[2025-02-07 06:20:48 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-02-07 06:20:48 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.ItemController.Delete (Server) in 175.7475ms
[2025-02-07 06:20:48 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.ItemController.Delete (Server)'
[2025-02-07 06:20:48 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 DELETE https://localhost:7299/api/item/remove/11 - 200 null application/json; charset=utf-8 176.9936ms
[2025-02-07 06:21:07 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 PUT https://localhost:7299/api/item/update/7 - application/json 1205
[2025-02-07 06:21:07 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.ItemController.Update (Server)'
[2025-02-07 06:21:07 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Update", controller = "Item"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(Server.Models.Item, Int32) on controller Server.Controllers.ItemController (Server).
[2025-02-07 06:21:07 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
[2025-02-07 06:21:07 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.ItemController.Update (Server) in 21.963ms
[2025-02-07 06:21:07 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.ItemController.Update (Server)'
[2025-02-07 06:21:07 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 PUT https://localhost:7299/api/item/update/7 - 400 null application/problem+json; charset=utf-8 29.6409ms
[2025-02-07 06:21:33 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 PUT https://localhost:7299/api/item/update/7 - application/json 1242
[2025-02-07 06:21:33 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.ItemController.Update (Server)'
[2025-02-07 06:21:33 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Update", controller = "Item"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(Server.Models.Item, Int32) on controller Server.Controllers.ItemController (Server).
[2025-02-07 06:21:33 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (19ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [i].[Id], [i].[Category], [i].[CertificateIssueDate], [i].[CertificateReferenceNumber], [i].[ChassisNumber], [i].[CountryOfOrigin], [i].[DriverName], [i].[DriverNationality], [i].[EmiratesIdNumber], [i].[EmptyWeight], [i].[EngineNumber], [i].[ExportCountryTo], [i].[ExportPlateNumber], [i].[FuelType], [i].[InsuranceCompany], [i].[InsuranceExpiryDate], [i].[InsurancePolicyNumber], [i].[InsuranceType], [i].[LicenseNumber], [i].[LicenseSource], [i].[ModelYear], [i].[Nationality], [i].[NumberOfDoors], [i].[NumberOfSeats], [i].[OwnerName], [i].[PassportNumber], [i].[RegistrationDate], [i].[RegistrationExpiryDate], [i].[RegistrationPlateNumber], [i].[TrafficCodeNumber], [i].[VehicleColor], [i].[VehicleMake], [i].[VehicleType]
FROM [Items] AS [i]
WHERE [i].[Id] = @__p_0
[2025-02-07 06:21:33 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-02-07 06:21:33 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.ItemController.Update (Server) in 49.8524ms
[2025-02-07 06:21:33 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.ItemController.Update (Server)'
[2025-02-07 06:21:33 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 PUT https://localhost:7299/api/item/update/7 - 200 null application/json; charset=utf-8 51.1774ms
[2025-02-07 06:22:24 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST https://localhost:7299/api/item/add - application/json 1238
[2025-02-07 06:22:24 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.ItemController.Add (Server)'
[2025-02-07 06:22:24 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Add", controller = "Item"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Add(Server.Models.Item) on controller Server.Controllers.ItemController (Server).
[2025-02-07 06:22:25 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (403ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Int32), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (Size = 4000), @p20='?' (Size = 4000), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000), @p24='?' (Size = 4000), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000), @p30='?' (Size = 4000), @p31='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Items] ([Category], [CertificateIssueDate], [CertificateReferenceNumber], [ChassisNumber], [CountryOfOrigin], [DriverName], [DriverNationality], [EmiratesIdNumber], [EmptyWeight], [EngineNumber], [ExportCountryTo], [ExportPlateNumber], [FuelType], [InsuranceCompany], [InsuranceExpiryDate], [InsurancePolicyNumber], [InsuranceType], [LicenseNumber], [LicenseSource], [ModelYear], [Nationality], [NumberOfDoors], [NumberOfSeats], [OwnerName], [PassportNumber], [RegistrationDate], [RegistrationExpiryDate], [RegistrationPlateNumber], [TrafficCodeNumber], [VehicleColor], [VehicleMake], [VehicleType])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31);
[2025-02-07 06:22:25 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-02-07 06:22:25 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.ItemController.Add (Server) in 590.2304ms
[2025-02-07 06:22:25 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.ItemController.Add (Server)'
[2025-02-07 06:22:25 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST https://localhost:7299/api/item/add - 200 null application/json; charset=utf-8 595.4007ms
[2025-02-07 06:22:42 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/item/create/1 - application/json 1244
[2025-02-07 06:22:42 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.ItemController.CreateCertificate (Server)'
[2025-02-07 06:22:42 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "CreateCertificate", controller = "Item"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateCertificate(Int32) on controller Server.Controllers.ItemController (Server).
[2025-02-07 06:22:42 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [i].[Id], [i].[Category], [i].[CertificateIssueDate], [i].[CertificateReferenceNumber], [i].[ChassisNumber], [i].[CountryOfOrigin], [i].[DriverName], [i].[DriverNationality], [i].[EmiratesIdNumber], [i].[EmptyWeight], [i].[EngineNumber], [i].[ExportCountryTo], [i].[ExportPlateNumber], [i].[FuelType], [i].[InsuranceCompany], [i].[InsuranceExpiryDate], [i].[InsurancePolicyNumber], [i].[InsuranceType], [i].[LicenseNumber], [i].[LicenseSource], [i].[ModelYear], [i].[Nationality], [i].[NumberOfDoors], [i].[NumberOfSeats], [i].[OwnerName], [i].[PassportNumber], [i].[RegistrationDate], [i].[RegistrationExpiryDate], [i].[RegistrationPlateNumber], [i].[TrafficCodeNumber], [i].[VehicleColor], [i].[VehicleMake], [i].[VehicleType]
FROM [Items] AS [i]
WHERE [i].[Id] = @__p_0
[2025-02-07 06:22:44 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Server.Models.Item, Server, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-02-07 06:22:44 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.ItemController.CreateCertificate (Server) in 1768.2042ms
[2025-02-07 06:22:44 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.ItemController.CreateCertificate (Server)'
[2025-02-07 06:22:44 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/item/create/1 - 200 null application/json; charset=utf-8 1775.5178ms
[2025-02-07 06:23:24 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/item/create/1 - application/json 1216
[2025-02-07 06:23:24 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.ItemController.CreateCertificate (Server)'
[2025-02-07 06:23:24 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "CreateCertificate", controller = "Item"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateCertificate(Int32) on controller Server.Controllers.ItemController (Server).
[2025-02-07 06:23:24 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [i].[Id], [i].[Category], [i].[CertificateIssueDate], [i].[CertificateReferenceNumber], [i].[ChassisNumber], [i].[CountryOfOrigin], [i].[DriverName], [i].[DriverNationality], [i].[EmiratesIdNumber], [i].[EmptyWeight], [i].[EngineNumber], [i].[ExportCountryTo], [i].[ExportPlateNumber], [i].[FuelType], [i].[InsuranceCompany], [i].[InsuranceExpiryDate], [i].[InsurancePolicyNumber], [i].[InsuranceType], [i].[LicenseNumber], [i].[LicenseSource], [i].[ModelYear], [i].[Nationality], [i].[NumberOfDoors], [i].[NumberOfSeats], [i].[OwnerName], [i].[PassportNumber], [i].[RegistrationDate], [i].[RegistrationExpiryDate], [i].[RegistrationPlateNumber], [i].[TrafficCodeNumber], [i].[VehicleColor], [i].[VehicleMake], [i].[VehicleType]
FROM [Items] AS [i]
WHERE [i].[Id] = @__p_0
[2025-02-07 06:23:24 Server.Controllers.AuthController] An error occurred while executing the action.
iText.Kernel.Exceptions.PdfException: PdfPages tree could be generated only once.
   at iText.Kernel.Pdf.PdfPagesTree.GenerateTree()
   at iText.Kernel.Pdf.PdfDocument.Close()
   at iText.Kernel.Pdf.PdfDocument.System.IDisposable.Dispose()
   at Server.Models.ItemService.GenerateCertificate(Item item)
   at Server.Controllers.ItemController.<>c__DisplayClass9_0.<<CreateCertificate>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Server.Controllers.ItemController.ExecuteAction(Func`1 action)
[2025-02-07 06:23:24 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing ObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-02-07 06:23:24 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.ItemController.CreateCertificate (Server) in 58.2109ms
[2025-02-07 06:23:24 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.ItemController.CreateCertificate (Server)'
[2025-02-07 06:23:24 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/item/create/1 - 500 null application/json; charset=utf-8 60.3472ms
[2025-02-07 06:23:28 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/item/create/1 - application/json 1244
[2025-02-07 06:23:28 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.ItemController.CreateCertificate (Server)'
[2025-02-07 06:23:28 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "CreateCertificate", controller = "Item"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateCertificate(Int32) on controller Server.Controllers.ItemController (Server).
[2025-02-07 06:23:28 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [i].[Id], [i].[Category], [i].[CertificateIssueDate], [i].[CertificateReferenceNumber], [i].[ChassisNumber], [i].[CountryOfOrigin], [i].[DriverName], [i].[DriverNationality], [i].[EmiratesIdNumber], [i].[EmptyWeight], [i].[EngineNumber], [i].[ExportCountryTo], [i].[ExportPlateNumber], [i].[FuelType], [i].[InsuranceCompany], [i].[InsuranceExpiryDate], [i].[InsurancePolicyNumber], [i].[InsuranceType], [i].[LicenseNumber], [i].[LicenseSource], [i].[ModelYear], [i].[Nationality], [i].[NumberOfDoors], [i].[NumberOfSeats], [i].[OwnerName], [i].[PassportNumber], [i].[RegistrationDate], [i].[RegistrationExpiryDate], [i].[RegistrationPlateNumber], [i].[TrafficCodeNumber], [i].[VehicleColor], [i].[VehicleMake], [i].[VehicleType]
FROM [Items] AS [i]
WHERE [i].[Id] = @__p_0
[2025-02-07 06:23:28 Server.Controllers.AuthController] An error occurred while executing the action.
iText.Kernel.Exceptions.PdfException: PdfPages tree could be generated only once.
   at iText.Kernel.Pdf.PdfPagesTree.GenerateTree()
   at iText.Kernel.Pdf.PdfDocument.Close()
   at iText.Kernel.Pdf.PdfDocument.System.IDisposable.Dispose()
   at Server.Models.ItemService.GenerateCertificate(Item item)
   at Server.Controllers.ItemController.<>c__DisplayClass9_0.<<CreateCertificate>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Server.Controllers.ItemController.ExecuteAction(Func`1 action)
[2025-02-07 06:23:28 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing ObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-02-07 06:23:28 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.ItemController.CreateCertificate (Server) in 52.3541ms
[2025-02-07 06:23:28 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.ItemController.CreateCertificate (Server)'
[2025-02-07 06:23:28 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/item/create/1 - 500 null application/json; charset=utf-8 53.9834ms
[2025-02-07 06:23:37 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/item/create/1 - application/json 1244
[2025-02-07 06:23:37 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.ItemController.CreateCertificate (Server)'
[2025-02-07 06:23:37 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "CreateCertificate", controller = "Item"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateCertificate(Int32) on controller Server.Controllers.ItemController (Server).
[2025-02-07 06:23:37 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [i].[Id], [i].[Category], [i].[CertificateIssueDate], [i].[CertificateReferenceNumber], [i].[ChassisNumber], [i].[CountryOfOrigin], [i].[DriverName], [i].[DriverNationality], [i].[EmiratesIdNumber], [i].[EmptyWeight], [i].[EngineNumber], [i].[ExportCountryTo], [i].[ExportPlateNumber], [i].[FuelType], [i].[InsuranceCompany], [i].[InsuranceExpiryDate], [i].[InsurancePolicyNumber], [i].[InsuranceType], [i].[LicenseNumber], [i].[LicenseSource], [i].[ModelYear], [i].[Nationality], [i].[NumberOfDoors], [i].[NumberOfSeats], [i].[OwnerName], [i].[PassportNumber], [i].[RegistrationDate], [i].[RegistrationExpiryDate], [i].[RegistrationPlateNumber], [i].[TrafficCodeNumber], [i].[VehicleColor], [i].[VehicleMake], [i].[VehicleType]
FROM [Items] AS [i]
WHERE [i].[Id] = @__p_0
[2025-02-07 06:23:37 Server.Controllers.AuthController] An error occurred while executing the action.
iText.Kernel.Exceptions.PdfException: PdfPages tree could be generated only once.
   at iText.Kernel.Pdf.PdfPagesTree.GenerateTree()
   at iText.Kernel.Pdf.PdfDocument.Close()
   at iText.Kernel.Pdf.PdfDocument.System.IDisposable.Dispose()
   at Server.Models.ItemService.GenerateCertificate(Item item)
   at Server.Controllers.ItemController.<>c__DisplayClass9_0.<<CreateCertificate>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Server.Controllers.ItemController.ExecuteAction(Func`1 action)
[2025-02-07 06:23:37 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing ObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-02-07 06:23:37 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.ItemController.CreateCertificate (Server) in 34.1052ms
[2025-02-07 06:23:37 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.ItemController.CreateCertificate (Server)'
[2025-02-07 06:23:37 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/item/create/1 - 500 null application/json; charset=utf-8 36.4197ms
[2025-02-07 06:23:44 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST https://localhost:7299/api/auth/login - application/json 48
[2025-02-07 06:23:44 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 06:23:44 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Server.Dtos.UserDto) on controller Server.Controllers.AuthController (Server).
[2025-02-07 06:23:44 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (5ms) [Parameters=[@__ToLower_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Password], [u].[Role]
FROM [Users] AS [u]
WHERE LOWER([u].[Email]) = @__ToLower_0 AND [u].[Password] = @__password_1
[2025-02-07 06:23:44 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-02-07 06:23:44 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.AuthController.Login (Server) in 9.1446ms
[2025-02-07 06:23:44 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 06:23:44 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST https://localhost:7299/api/auth/login - 200 null application/json; charset=utf-8 10.0437ms
[2025-02-07 06:23:49 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/item/create/1 - application/json 1244
[2025-02-07 06:23:49 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.ItemController.CreateCertificate (Server)'
[2025-02-07 06:23:49 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "CreateCertificate", controller = "Item"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateCertificate(Int32) on controller Server.Controllers.ItemController (Server).
[2025-02-07 06:23:49 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [i].[Id], [i].[Category], [i].[CertificateIssueDate], [i].[CertificateReferenceNumber], [i].[ChassisNumber], [i].[CountryOfOrigin], [i].[DriverName], [i].[DriverNationality], [i].[EmiratesIdNumber], [i].[EmptyWeight], [i].[EngineNumber], [i].[ExportCountryTo], [i].[ExportPlateNumber], [i].[FuelType], [i].[InsuranceCompany], [i].[InsuranceExpiryDate], [i].[InsurancePolicyNumber], [i].[InsuranceType], [i].[LicenseNumber], [i].[LicenseSource], [i].[ModelYear], [i].[Nationality], [i].[NumberOfDoors], [i].[NumberOfSeats], [i].[OwnerName], [i].[PassportNumber], [i].[RegistrationDate], [i].[RegistrationExpiryDate], [i].[RegistrationPlateNumber], [i].[TrafficCodeNumber], [i].[VehicleColor], [i].[VehicleMake], [i].[VehicleType]
FROM [Items] AS [i]
WHERE [i].[Id] = @__p_0
[2025-02-07 06:23:49 Server.Controllers.AuthController] An error occurred while executing the action.
iText.Kernel.Exceptions.PdfException: PdfPages tree could be generated only once.
   at iText.Kernel.Pdf.PdfPagesTree.GenerateTree()
   at iText.Kernel.Pdf.PdfDocument.Close()
   at iText.Kernel.Pdf.PdfDocument.System.IDisposable.Dispose()
   at Server.Models.ItemService.GenerateCertificate(Item item)
   at Server.Controllers.ItemController.<>c__DisplayClass9_0.<<CreateCertificate>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Server.Controllers.ItemController.ExecuteAction(Func`1 action)
[2025-02-07 06:23:49 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing ObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-02-07 06:23:49 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.ItemController.CreateCertificate (Server) in 31.1066ms
[2025-02-07 06:23:49 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.ItemController.CreateCertificate (Server)'
[2025-02-07 06:23:49 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/item/create/1 - 500 null application/json; charset=utf-8 32.2192ms
[2025-02-07 06:24:00 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/item/1 - application/json 1203
[2025-02-07 06:24:00 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.ItemController.GetById (Server)'
[2025-02-07 06:24:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "GetById", controller = "Item"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32) on controller Server.Controllers.ItemController (Server).
[2025-02-07 06:24:00 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [i].[Id], [i].[Category], [i].[CertificateIssueDate], [i].[CertificateReferenceNumber], [i].[ChassisNumber], [i].[CountryOfOrigin], [i].[DriverName], [i].[DriverNationality], [i].[EmiratesIdNumber], [i].[EmptyWeight], [i].[EngineNumber], [i].[ExportCountryTo], [i].[ExportPlateNumber], [i].[FuelType], [i].[InsuranceCompany], [i].[InsuranceExpiryDate], [i].[InsurancePolicyNumber], [i].[InsuranceType], [i].[LicenseNumber], [i].[LicenseSource], [i].[ModelYear], [i].[Nationality], [i].[NumberOfDoors], [i].[NumberOfSeats], [i].[OwnerName], [i].[PassportNumber], [i].[RegistrationDate], [i].[RegistrationExpiryDate], [i].[RegistrationPlateNumber], [i].[TrafficCodeNumber], [i].[VehicleColor], [i].[VehicleMake], [i].[VehicleType]
FROM [Items] AS [i]
WHERE [i].[Id] = @__p_0
[2025-02-07 06:24:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Server.Models.Item, Server, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-02-07 06:24:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.ItemController.GetById (Server) in 9.5101ms
[2025-02-07 06:24:00 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.ItemController.GetById (Server)'
[2025-02-07 06:24:00 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/item/1 - 200 null application/json; charset=utf-8 10.983ms
[2025-02-07 06:24:43 ] Starting the application...
[2025-02-07 06:24:44 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 06:24:44 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 06:24:44 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 06:24:44 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 06:24:44 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 06:24:44 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce _Net\Project_Net\Car-Agency\server\src
[2025-02-07 06:24:46 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 06:24:47 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 501.91ms
[2025-02-07 06:24:47 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 06:24:47 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 06:24:47 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 06:24:47 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 2.0913ms
[2025-02-07 06:24:47 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 30.6563ms
[2025-02-07 06:24:47 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 131.4459ms
[2025-02-07 06:24:47 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 06:24:47 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 63.1153ms
[2025-02-07 06:25:30 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 06:25:30 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 13.9415ms
[2025-02-07 06:25:31 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 06:25:31 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 0.657ms
[2025-02-07 06:25:31 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 06:25:31 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 06:25:31 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 0.9347ms
[2025-02-07 06:25:31 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 32.5653ms
[2025-02-07 06:25:31 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 06:25:31 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 12.696ms
[2025-02-07 06:25:44 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 06:25:44 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 3.5658ms
[2025-02-07 06:25:44 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 06:25:44 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 0.5644ms
[2025-02-07 06:25:44 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 06:25:44 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 06:25:44 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 0.4352ms
[2025-02-07 06:25:44 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 67.0356ms
[2025-02-07 06:25:44 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 06:25:44 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 10.9549ms
[2025-02-07 06:35:21 ] Starting the application...
[2025-02-07 06:35:22 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 06:35:22 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 06:35:22 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 06:35:22 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 06:35:22 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 06:35:22 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce _Net\Project_Net\Car-Agency\server\src
[2025-02-07 06:35:23 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 06:35:24 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 494.6486ms
[2025-02-07 06:35:24 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 06:35:24 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 2.1727ms
[2025-02-07 06:35:24 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 06:35:24 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 73.235ms
[2025-02-07 06:35:24 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 06:35:24 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 8.2172ms
[2025-02-07 06:35:25 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 06:35:25 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 41.2879ms
[2025-02-07 06:35:36 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/item?page=1 - null null
[2025-02-07 06:35:37 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/item?page=1 - 404 0 null 256.2616ms
[2025-02-07 06:35:37 Microsoft.AspNetCore.Hosting.Diagnostics] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7299/api/item, Response status code: 404
[2025-02-07 06:36:03 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/item?page=1 - null null
[2025-02-07 06:36:03 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/item?page=1 - 404 0 null 5.7027ms
[2025-02-07 06:36:03 Microsoft.AspNetCore.Hosting.Diagnostics] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7299/api/item, Response status code: 404
[2025-02-07 06:36:38 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/item/1 - application/json 1203
[2025-02-07 06:36:38 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/item/1 - 404 0 null 5.2039ms
[2025-02-07 06:36:38 Microsoft.AspNetCore.Hosting.Diagnostics] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7299/api/item/1, Response status code: 404
[2025-02-07 06:37:15 ] Starting the application...
[2025-02-07 06:37:16 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 06:37:16 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 06:37:16 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 06:37:16 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 06:37:16 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 06:37:16 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce _Net\Project_Net\Car-Agency\server\src
[2025-02-07 06:37:16 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 06:37:17 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 345.6828ms
[2025-02-07 06:37:17 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 06:37:17 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 2.002ms
[2025-02-07 06:37:17 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 06:37:17 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 06:37:17 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 13.056ms
[2025-02-07 06:37:17 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 56.0816ms
[2025-02-07 06:37:17 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 06:37:17 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 25.129ms
[2025-02-07 06:38:48 ] Starting the application...
[2025-02-07 06:38:48 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 06:38:49 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 06:38:49 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 06:38:49 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 06:38:49 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 06:38:49 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce _Net\Project_Net\Car-Agency\server\src
[2025-02-07 06:38:49 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 06:38:49 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 235.4987ms
[2025-02-07 06:38:49 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 06:38:49 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 2.1809ms
[2025-02-07 06:38:49 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 06:38:49 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 06:38:49 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 8.1882ms
[2025-02-07 06:38:49 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 51.5523ms
[2025-02-07 06:38:49 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 06:38:49 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 19.8643ms
[2025-02-07 06:39:06 ] Starting the application...
[2025-02-07 06:39:07 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 06:39:07 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 06:39:07 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 06:39:07 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 06:39:07 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 06:39:07 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce _Net\Project_Net\Car-Agency\server\src
[2025-02-07 06:39:08 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 06:39:08 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 300.2231ms
[2025-02-07 06:39:08 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 06:39:08 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 06:39:08 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 2.3173ms
[2025-02-07 06:39:08 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 06:39:08 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 12.3348ms
[2025-02-07 06:39:08 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 49.262ms
[2025-02-07 06:39:08 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 06:39:08 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 18.6205ms
[2025-02-07 06:39:14 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/item/1 - application/json 1203
[2025-02-07 06:39:15 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/item/1 - 404 0 null 313.7787ms
[2025-02-07 06:39:15 Microsoft.AspNetCore.Hosting.Diagnostics] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7299/api/item/1, Response status code: 404
[2025-02-07 06:39:20 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/item/1 - application/json 1203
[2025-02-07 06:39:20 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/item/1 - 404 0 null 10.7012ms
[2025-02-07 06:39:20 Microsoft.AspNetCore.Hosting.Diagnostics] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7299/api/item/1, Response status code: 404
[2025-02-07 06:42:06 ] Starting the application...
[2025-02-07 06:42:07 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 06:42:07 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 06:42:07 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 06:42:07 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 06:42:07 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 06:42:07 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce _Net\Project_Net\Car-Agency\server\src
[2025-02-07 06:42:07 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 06:42:08 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 229.5099ms
[2025-02-07 06:42:08 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 06:42:08 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 2.4418ms
[2025-02-07 06:42:08 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 06:42:08 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 06:42:08 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 14.4417ms
[2025-02-07 06:42:08 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 60.9643ms
[2025-02-07 06:42:08 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 06:42:08 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 28.8945ms
[2025-02-07 06:42:39 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/item?page=1 - null null
[2025-02-07 06:42:39 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/item?page=1 - 404 0 null 125.9178ms
[2025-02-07 06:42:39 Microsoft.AspNetCore.Hosting.Diagnostics] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7299/api/item, Response status code: 404
[2025-02-07 06:42:46 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/item/1 - application/json 1203
[2025-02-07 06:42:46 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/item/1 - 404 0 null 6.9003ms
[2025-02-07 06:42:46 Microsoft.AspNetCore.Hosting.Diagnostics] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7299/api/item/1, Response status code: 404
[2025-02-07 06:42:50 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/item/-1 - application/json 1203
[2025-02-07 06:42:50 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/item/-1 - 404 0 null 8.1077ms
[2025-02-07 06:42:50 Microsoft.AspNetCore.Hosting.Diagnostics] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7299/api/item/-1, Response status code: 404
[2025-02-07 06:43:01 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car?page=1 - null null
[2025-02-07 06:43:01 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.GetAll (Server)'
[2025-02-07 06:43:01 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "GetAll", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 06:43:03 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
[2025-02-07 06:43:03 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-02-07 06:43:03 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.GetAll (Server) in 2025.7992ms
[2025-02-07 06:43:03 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.GetAll (Server)'
[2025-02-07 06:43:03 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car?page=1 - 200 null application/json; charset=utf-8 2101.3749ms
[2025-02-07 06:43:24 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/-1 - application/json 1203
[2025-02-07 06:43:24 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.GetById (Server)'
[2025-02-07 06:43:24 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "GetById", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 06:43:24 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (23ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 06:43:24 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Server.Models.Car, Server, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-02-07 06:43:24 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.GetById (Server) in 243.1083ms
[2025-02-07 06:43:24 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.GetById (Server)'
[2025-02-07 06:43:24 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/-1 - 200 null application/json; charset=utf-8 258.453ms
[2025-02-07 06:45:10 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST https://localhost:7299/api/car/add - application/json 1238
[2025-02-07 06:45:10 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.Add (Server)'
[2025-02-07 06:45:10 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Add", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Add(Server.Models.Car) on controller Server.Controllers.CarController (Server).
[2025-02-07 06:45:11 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (12ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Int32), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (Size = 4000), @p20='?' (Size = 4000), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000), @p24='?' (Size = 4000), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000), @p30='?' (Size = 4000), @p31='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Cars] ([Category], [CertificateIssueDate], [CertificateReferenceNumber], [ChassisNumber], [CountryOfOrigin], [DriverName], [DriverNationality], [EmiratesIdNumber], [EmptyWeight], [EngineNumber], [ExportCountryTo], [ExportPlateNumber], [FuelType], [InsuranceCompany], [InsuranceExpiryDate], [InsurancePolicyNumber], [InsuranceType], [LicenseNumber], [LicenseSource], [ModelYear], [Nationality], [NumberOfDoors], [NumberOfSeats], [OwnerName], [PassportNumber], [RegistrationDate], [RegistrationExpiryDate], [RegistrationPlateNumber], [TrafficCodeNumber], [VehicleColor], [VehicleMake], [VehicleType])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31);
[2025-02-07 06:45:11 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-02-07 06:45:11 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.Add (Server) in 366.8749ms
[2025-02-07 06:45:11 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.Add (Server)'
[2025-02-07 06:45:11 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST https://localhost:7299/api/car/add - 200 null application/json; charset=utf-8 378.6907ms
[2025-02-07 06:45:12 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST https://localhost:7299/api/car/add - application/json 1238
[2025-02-07 06:45:12 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.Add (Server)'
[2025-02-07 06:45:12 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Add", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Add(Server.Models.Car) on controller Server.Controllers.CarController (Server).
[2025-02-07 06:45:12 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Int32), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (Size = 4000), @p20='?' (Size = 4000), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000), @p24='?' (Size = 4000), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000), @p30='?' (Size = 4000), @p31='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Cars] ([Category], [CertificateIssueDate], [CertificateReferenceNumber], [ChassisNumber], [CountryOfOrigin], [DriverName], [DriverNationality], [EmiratesIdNumber], [EmptyWeight], [EngineNumber], [ExportCountryTo], [ExportPlateNumber], [FuelType], [InsuranceCompany], [InsuranceExpiryDate], [InsurancePolicyNumber], [InsuranceType], [LicenseNumber], [LicenseSource], [ModelYear], [Nationality], [NumberOfDoors], [NumberOfSeats], [OwnerName], [PassportNumber], [RegistrationDate], [RegistrationExpiryDate], [RegistrationPlateNumber], [TrafficCodeNumber], [VehicleColor], [VehicleMake], [VehicleType])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31);
[2025-02-07 06:45:12 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-02-07 06:45:12 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.Add (Server) in 10.9233ms
[2025-02-07 06:45:12 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.Add (Server)'
[2025-02-07 06:45:12 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST https://localhost:7299/api/car/add - 200 null application/json; charset=utf-8 12.6006ms
[2025-02-07 06:45:14 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST https://localhost:7299/api/car/add - application/json 1238
[2025-02-07 06:45:14 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.Add (Server)'
[2025-02-07 06:45:14 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Add", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Add(Server.Models.Car) on controller Server.Controllers.CarController (Server).
[2025-02-07 06:45:14 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (19ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Int32), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (Size = 4000), @p20='?' (Size = 4000), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000), @p24='?' (Size = 4000), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000), @p30='?' (Size = 4000), @p31='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Cars] ([Category], [CertificateIssueDate], [CertificateReferenceNumber], [ChassisNumber], [CountryOfOrigin], [DriverName], [DriverNationality], [EmiratesIdNumber], [EmptyWeight], [EngineNumber], [ExportCountryTo], [ExportPlateNumber], [FuelType], [InsuranceCompany], [InsuranceExpiryDate], [InsurancePolicyNumber], [InsuranceType], [LicenseNumber], [LicenseSource], [ModelYear], [Nationality], [NumberOfDoors], [NumberOfSeats], [OwnerName], [PassportNumber], [RegistrationDate], [RegistrationExpiryDate], [RegistrationPlateNumber], [TrafficCodeNumber], [VehicleColor], [VehicleMake], [VehicleType])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31);
[2025-02-07 06:45:14 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-02-07 06:45:14 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.Add (Server) in 23.9718ms
[2025-02-07 06:45:14 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.Add (Server)'
[2025-02-07 06:45:14 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST https://localhost:7299/api/car/add - 200 null application/json; charset=utf-8 25.5497ms
[2025-02-07 06:45:54 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 DELETE https://localhost:7299/api/car/remove/-1 - application/json 1203
[2025-02-07 06:45:54 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.Delete (Server)'
[2025-02-07 06:45:54 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Delete", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Delete(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 06:45:54 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 06:45:54 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Cars]
OUTPUT 1
WHERE [Id] = @p0;
[2025-02-07 06:45:54 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-02-07 06:45:54 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.Delete (Server) in 50.0117ms
[2025-02-07 06:45:54 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.Delete (Server)'
[2025-02-07 06:45:54 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 DELETE https://localhost:7299/api/car/remove/-1 - 200 null application/json; charset=utf-8 60.3725ms
[2025-02-07 06:45:59 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 DELETE https://localhost:7299/api/car/remove/-2 - application/json 1203
[2025-02-07 06:45:59 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.Delete (Server)'
[2025-02-07 06:45:59 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Delete", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Delete(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 06:45:59 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 06:45:59 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Cars]
OUTPUT 1
WHERE [Id] = @p0;
[2025-02-07 06:45:59 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-02-07 06:45:59 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.Delete (Server) in 20.181ms
[2025-02-07 06:45:59 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.Delete (Server)'
[2025-02-07 06:45:59 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 DELETE https://localhost:7299/api/car/remove/-2 - 200 null application/json; charset=utf-8 21.4937ms
[2025-02-07 06:46:23 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 PUT https://localhost:7299/api/car/update/7 - application/json 1242
[2025-02-07 06:46:23 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.Update (Server)'
[2025-02-07 06:46:23 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Update", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(Server.Models.Car, Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 06:46:23 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 06:46:23 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-02-07 06:46:23 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.Update (Server) in 12.3633ms
[2025-02-07 06:46:23 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.Update (Server)'
[2025-02-07 06:46:23 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 PUT https://localhost:7299/api/car/update/7 - 400 null application/json; charset=utf-8 17.5226ms
[2025-02-07 06:46:46 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 PUT https://localhost:7299/api/car/update/1 - application/json 1242
[2025-02-07 06:46:46 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.Update (Server)'
[2025-02-07 06:46:46 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Update", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(Server.Models.Car, Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 06:46:46 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 06:46:46 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Cars] SET [VehicleType] = @p0
OUTPUT 1
WHERE [Id] = @p1;
[2025-02-07 06:46:46 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-02-07 06:46:46 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.Update (Server) in 23.5724ms
[2025-02-07 06:46:46 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.Update (Server)'
[2025-02-07 06:46:46 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 PUT https://localhost:7299/api/car/update/1 - 200 null application/json; charset=utf-8 24.6585ms
[2025-02-07 06:46:50 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 PUT https://localhost:7299/api/car/update/1 - application/json 1214
[2025-02-07 06:46:50 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.Update (Server)'
[2025-02-07 06:46:50 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Update", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(Server.Models.Car, Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 06:46:50 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
[2025-02-07 06:46:50 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.Update (Server) in 29.6641ms
[2025-02-07 06:46:50 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.Update (Server)'
[2025-02-07 06:46:50 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 PUT https://localhost:7299/api/car/update/1 - 400 null application/problem+json; charset=utf-8 30.593ms
[2025-02-07 06:47:50 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 06:47:50 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 17.6995ms
[2025-02-07 06:47:51 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 06:47:51 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 0.3733ms
[2025-02-07 06:47:51 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 06:47:51 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 7.8948ms
[2025-02-07 06:47:51 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 06:47:51 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 1.4918ms
[2025-02-07 06:47:51 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 06:47:51 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 12.4829ms
[2025-02-07 06:49:25 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 06:49:25 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 3.5847ms
[2025-02-07 06:49:25 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 06:49:25 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 06:49:25 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 0.6041ms
[2025-02-07 06:49:25 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 06:49:25 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 2.4181ms
[2025-02-07 06:49:25 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 48.9282ms
[2025-02-07 06:49:26 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 06:49:26 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 10.5705ms
[2025-02-07 06:49:58 ] Starting the application...
[2025-02-07 06:49:59 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 06:49:59 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 06:49:59 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 06:49:59 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 06:49:59 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 06:49:59 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce _Net\Project_Net\Car-Agency\server\src
[2025-02-07 06:49:59 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 06:50:00 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 472.7368ms
[2025-02-07 06:50:00 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 06:50:00 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 2.1231ms
[2025-02-07 06:50:00 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 06:50:00 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 06:50:00 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 12.3916ms
[2025-02-07 06:50:00 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 54.9643ms
[2025-02-07 06:50:00 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 06:50:00 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 20.709ms
[2025-02-07 06:50:05 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 PUT https://localhost:7299/api/car/update/1 - application/json 1214
[2025-02-07 06:50:06 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.Update (Server)'
[2025-02-07 06:50:06 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Update", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(Server.Models.Car, Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 06:50:08 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (52ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 06:50:08 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (12ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Cars] SET [ExportCountryTo] = @p0
OUTPUT 1
WHERE [Id] = @p1;
[2025-02-07 06:50:08 Microsoft.EntityFrameworkCore.Update] An exception occurred in the database while saving changes for context type 'Server.Data.ApplicationContextDb'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'ExportCountryTo', table 'CarAgency.dbo.Cars'; column does not allow nulls. UPDATE fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:9f967ac0-7094-4e02-9dbf-45cb168e1754
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'ExportCountryTo', table 'CarAgency.dbo.Cars'; column does not allow nulls. UPDATE fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:9f967ac0-7094-4e02-9dbf-45cb168e1754
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[2025-02-07 06:50:08 Server.Controllers.AuthController] An error occurred while executing the action.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'ExportCountryTo', table 'CarAgency.dbo.Cars'; column does not allow nulls. UPDATE fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:9f967ac0-7094-4e02-9dbf-45cb168e1754
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Server.Models.CarRepository.Update(Car car, Int32 id) in F:\Ecommerce _Net\Project_Net\Car-Agency\server\src\Repositorys\CarRepository.cs:line 96
   at Server.Models.CarService.Update(Car car, Int32 id) in F:\Ecommerce _Net\Project_Net\Car-Agency\server\src\Services\CarService.cs:line 77
   at Server.Controllers.CarController.<>c__DisplayClass6_0.<<Update>b__0>d.MoveNext() in F:\Ecommerce _Net\Project_Net\Car-Agency\server\src\Controllers\CarController.cs:line 69
--- End of stack trace from previous location ---
   at Server.Controllers.CarController.ExecuteAction(Func`1 action) in F:\Ecommerce _Net\Project_Net\Car-Agency\server\src\Controllers\CarController.cs:line 23
[2025-02-07 06:50:08 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing ObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-02-07 06:50:08 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.Update (Server) in 2660.9405ms
[2025-02-07 06:50:08 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.Update (Server)'
[2025-02-07 06:50:08 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 PUT https://localhost:7299/api/car/update/1 - 500 null application/json; charset=utf-8 3121.4164ms
[2025-02-07 06:50:14 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 PUT https://localhost:7299/api/car/update/1 - application/json 1242
[2025-02-07 06:50:14 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.Update (Server)'
[2025-02-07 06:50:14 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Update", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(Server.Models.Car, Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 06:50:14 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 06:50:14 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-02-07 06:50:14 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.Update (Server) in 61.7448ms
[2025-02-07 06:50:14 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.Update (Server)'
[2025-02-07 06:50:14 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 PUT https://localhost:7299/api/car/update/1 - 200 null application/json; charset=utf-8 70.9315ms
[2025-02-07 06:50:26 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 06:50:26 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 6.4316ms
[2025-02-07 06:50:26 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 06:50:26 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 0.5254ms
[2025-02-07 06:50:26 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 06:50:26 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 34.0773ms
[2025-02-07 06:50:26 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 06:50:26 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 1.73ms
[2025-02-07 06:50:27 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 06:50:27 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 14.5659ms
[2025-02-07 06:50:30 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 PUT https://localhost:7299/api/car/update/1 - application/json 1242
[2025-02-07 06:50:30 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.Update (Server)'
[2025-02-07 06:50:30 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Update", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(Server.Models.Car, Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 06:50:30 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 06:50:30 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-02-07 06:50:30 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.Update (Server) in 161.6611ms
[2025-02-07 06:50:30 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.Update (Server)'
[2025-02-07 06:50:30 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 PUT https://localhost:7299/api/car/update/1 - 200 null application/json; charset=utf-8 179.0614ms
[2025-02-07 06:50:34 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 PUT https://localhost:7299/api/car/update/1 - application/json 1214
[2025-02-07 06:50:34 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.Update (Server)'
[2025-02-07 06:50:34 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Update", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(Server.Models.Car, Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 06:50:34 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
[2025-02-07 06:50:34 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.Update (Server) in 21.7489ms
[2025-02-07 06:50:34 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.Update (Server)'
[2025-02-07 06:50:34 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 PUT https://localhost:7299/api/car/update/1 - 400 null application/problem+json; charset=utf-8 24.885ms
[2025-02-07 06:50:40 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 06:50:40 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 2.1006ms
[2025-02-07 06:50:40 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 06:50:40 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 0.4368ms
[2025-02-07 06:50:40 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 06:50:40 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 06:50:40 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 0.6081ms
[2025-02-07 06:50:40 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 10.5736ms
[2025-02-07 06:50:40 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 06:50:40 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 14.1359ms
[2025-02-07 06:52:23 ] Starting the application...
[2025-02-07 06:52:24 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 06:52:24 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 06:52:24 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 06:52:24 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 06:52:24 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 06:52:24 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce _Net\Project_Net\Car-Agency\server\src
[2025-02-07 06:52:25 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 06:52:25 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 373.7438ms
[2025-02-07 06:52:25 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 06:52:25 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 06:52:25 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 8.6855ms
[2025-02-07 06:52:25 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 06:52:26 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 13.9908ms
[2025-02-07 06:52:26 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 52.6243ms
[2025-02-07 06:52:26 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 06:52:26 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 22.628ms
[2025-02-07 06:52:39 ] Starting the application...
[2025-02-07 06:52:39 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 06:52:40 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 06:52:40 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 06:52:40 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 06:52:40 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 06:52:40 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce _Net\Project_Net\Car-Agency\server\src
[2025-02-07 06:52:40 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 06:52:40 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 269.4501ms
[2025-02-07 06:52:40 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 06:52:40 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 2.0056ms
[2025-02-07 06:52:40 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 06:52:40 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 64.9533ms
[2025-02-07 06:52:40 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 06:52:40 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 7.0178ms
[2025-02-07 06:52:41 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 06:52:41 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 17.0059ms
[2025-02-07 06:52:55 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 06:52:55 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 3.5524ms
[2025-02-07 06:52:55 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 06:52:55 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 06:52:55 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 06:52:55 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 2.4017ms
[2025-02-07 06:52:55 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 2.3157ms
[2025-02-07 06:52:55 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 22.4748ms
[2025-02-07 06:52:55 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 06:52:55 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 15.3107ms
[2025-02-07 06:52:57 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 06:52:57 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 23.2179ms
[2025-02-07 06:52:58 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 06:52:58 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 0.5574ms
[2025-02-07 06:52:58 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 06:52:58 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 10.8849ms
[2025-02-07 06:52:58 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 06:52:58 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 0.5761ms
[2025-02-07 06:52:58 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 06:52:58 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 12.6499ms
[2025-02-07 06:53:20 ] Starting the application...
[2025-02-07 06:53:20 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 06:53:21 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 06:53:21 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 06:53:21 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 06:53:21 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 06:53:21 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce _Net\Project_Net\Car-Agency\server\src
[2025-02-07 06:53:21 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 06:53:21 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 223.6221ms
[2025-02-07 06:53:21 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 06:53:21 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 2.2091ms
[2025-02-07 06:53:22 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 06:53:22 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 06:53:22 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 16.489ms
[2025-02-07 06:53:22 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 59.8683ms
[2025-02-07 06:53:22 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 06:53:22 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 27.8319ms
[2025-02-07 06:53:43 ] Starting the application...
[2025-02-07 06:53:44 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 06:53:44 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 06:53:44 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 06:53:44 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 06:53:44 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 06:53:44 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce _Net\Project_Net\Car-Agency\server\src
[2025-02-07 06:53:44 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 06:53:45 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 217.2673ms
[2025-02-07 06:53:45 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 06:53:45 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 4.0257ms
[2025-02-07 06:53:45 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 06:53:45 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 82.7021ms
[2025-02-07 06:53:46 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 06:53:46 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 6.5495ms
[2025-02-07 06:53:46 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 06:53:46 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 32.1656ms
[2025-02-07 06:54:31 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 PUT https://localhost:7299/api/car/update/1 - application/json 1214
[2025-02-07 06:54:31 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.Update (Server)'
[2025-02-07 06:54:31 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Update", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(Server.Models.Car, Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 06:54:33 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (53ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 06:54:33 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (12ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Cars] SET [ExportCountryTo] = @p0
OUTPUT 1
WHERE [Id] = @p1;
[2025-02-07 06:54:34 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-02-07 06:54:34 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.Update (Server) in 2232.3863ms
[2025-02-07 06:54:34 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.Update (Server)'
[2025-02-07 06:54:34 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 PUT https://localhost:7299/api/car/update/1 - 200 null application/json; charset=utf-8 2406.5397ms
[2025-02-07 06:54:58 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 PUT https://localhost:7299/api/car/update/1 - application/json 1242
[2025-02-07 06:54:58 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.Update (Server)'
[2025-02-07 06:54:58 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Update", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(Server.Models.Car, Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 06:54:58 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 06:54:58 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Cars] SET [ExportCountryTo] = @p0
OUTPUT 1
WHERE [Id] = @p1;
[2025-02-07 06:54:58 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-02-07 06:54:58 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.Update (Server) in 64.9148ms
[2025-02-07 06:54:58 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.Update (Server)'
[2025-02-07 06:54:58 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 PUT https://localhost:7299/api/car/update/1 - 200 null application/json; charset=utf-8 73.3562ms
[2025-02-07 06:58:02 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/-1 - application/json 1203
[2025-02-07 06:58:02 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.GetById (Server)'
[2025-02-07 06:58:02 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "GetById", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 06:58:02 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 06:58:02 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-02-07 06:58:02 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.GetById (Server) in 127.5055ms
[2025-02-07 06:58:02 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.GetById (Server)'
[2025-02-07 06:58:02 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/-1 - 404 null application/json; charset=utf-8 141.6434ms
[2025-02-07 06:58:11 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/1 - application/json 1203
[2025-02-07 06:58:11 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.GetById (Server)'
[2025-02-07 06:58:11 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "GetById", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 06:58:11 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 06:58:11 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Server.Models.Car, Server, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-02-07 06:58:11 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.GetById (Server) in 21.1991ms
[2025-02-07 06:58:11 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.GetById (Server)'
[2025-02-07 06:58:11 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/1 - 200 null application/json; charset=utf-8 23.0057ms
[2025-02-07 06:58:55 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 06:58:55 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 5.385ms
[2025-02-07 06:58:55 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 06:58:55 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 0.7782ms
[2025-02-07 06:58:55 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 06:58:55 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 06:58:55 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 2.0338ms
[2025-02-07 06:58:55 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 13.1364ms
[2025-02-07 06:58:55 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 06:58:55 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 16.0961ms
[2025-02-07 06:58:59 ] Starting the application...
[2025-02-07 06:58:59 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 06:59:00 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 06:59:00 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 06:59:00 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 06:59:00 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 06:59:00 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce _Net\Project_Net\Car-Agency\server\src
[2025-02-07 06:59:00 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 06:59:01 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 312.3427ms
[2025-02-07 06:59:01 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 06:59:01 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 3.0619ms
[2025-02-07 06:59:01 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 06:59:01 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 06:59:01 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 12.4592ms
[2025-02-07 06:59:01 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 50.8306ms
[2025-02-07 06:59:01 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 06:59:01 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 22.7987ms
[2025-02-07 06:59:04 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/1 - application/json 1203
[2025-02-07 06:59:04 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.GetById (Server)'
[2025-02-07 06:59:04 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "GetById", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 06:59:06 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (69ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 06:59:06 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Server.Models.Car, Server, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-02-07 06:59:06 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.GetById (Server) in 1907.9076ms
[2025-02-07 06:59:06 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.GetById (Server)'
[2025-02-07 06:59:06 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/1 - 200 null application/json; charset=utf-8 2087.5551ms
[2025-02-07 06:59:08 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/1 - application/json 1203
[2025-02-07 06:59:08 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.GetById (Server)'
[2025-02-07 06:59:08 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "GetById", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 06:59:08 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 06:59:08 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Server.Models.Car, Server, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-02-07 06:59:08 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.GetById (Server) in 52.1556ms
[2025-02-07 06:59:08 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.GetById (Server)'
[2025-02-07 06:59:08 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/1 - 200 null application/json; charset=utf-8 66.3646ms
[2025-02-07 06:59:15 ] Starting the application...
[2025-02-07 06:59:15 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 06:59:16 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 06:59:16 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 06:59:16 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 06:59:16 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 06:59:16 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce _Net\Project_Net\Car-Agency\server\src
[2025-02-07 06:59:16 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 06:59:16 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 213.2986ms
[2025-02-07 06:59:17 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 06:59:17 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 06:59:17 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 06:59:17 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 2.2618ms
[2025-02-07 06:59:17 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 14.9645ms
[2025-02-07 06:59:17 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 49.8014ms
[2025-02-07 06:59:17 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 06:59:17 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 21.4592ms
[2025-02-07 06:59:50 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/1 - application/json 1203
[2025-02-07 06:59:50 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.GetById (Server)'
[2025-02-07 06:59:50 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "GetById", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 06:59:52 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (54ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 06:59:52 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Server.Models.Car, Server, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-02-07 06:59:52 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.GetById (Server) in 2239.2473ms
[2025-02-07 06:59:52 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.GetById (Server)'
[2025-02-07 06:59:52 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/1 - 200 null application/json; charset=utf-8 2535.2253ms
[2025-02-07 07:00:03 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 07:00:03 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 6.3822ms
[2025-02-07 07:00:03 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 07:00:03 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 0.7191ms
[2025-02-07 07:00:03 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 07:00:03 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 07:00:03 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 2.5372ms
[2025-02-07 07:00:03 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 35.7443ms
[2025-02-07 07:00:04 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 07:00:04 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 13.9819ms
[2025-02-07 07:00:17 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 07:00:17 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 2.8351ms
[2025-02-07 07:00:17 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 07:00:17 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 0.5193ms
[2025-02-07 07:00:17 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 07:00:17 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 6.7575ms
[2025-02-07 07:00:17 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 07:00:17 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 0.4126ms
[2025-02-07 07:00:17 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 07:00:17 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 11.7707ms
[2025-02-07 07:00:23 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 07:00:23 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 3.0168ms
[2025-02-07 07:00:23 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 07:00:23 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 0.5124ms
[2025-02-07 07:00:23 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 07:00:23 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 07:00:23 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 0.3934ms
[2025-02-07 07:00:23 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 5.0691ms
[2025-02-07 07:00:23 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 07:00:23 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 11.6565ms
[2025-02-07 07:00:33 ] Starting the application...
[2025-02-07 07:00:34 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 07:00:34 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 07:00:34 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 07:00:34 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 07:00:34 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 07:00:34 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce _Net\Project_Net\Car-Agency\server\src
[2025-02-07 07:00:34 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 07:00:35 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 274.0301ms
[2025-02-07 07:00:35 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 07:00:35 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 07:00:35 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 07:00:35 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 5.1265ms
[2025-02-07 07:00:35 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 14.5984ms
[2025-02-07 07:00:35 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 46.0556ms
[2025-02-07 07:00:35 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 07:00:35 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 21.2695ms
[2025-02-07 07:00:43 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/1 - application/json 1203
[2025-02-07 07:00:43 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.GetById (Server)'
[2025-02-07 07:00:43 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "GetById", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 07:00:45 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (63ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 07:00:45 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Server.Models.Car, Server, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-02-07 07:00:45 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.GetById (Server) in 1836.5788ms
[2025-02-07 07:00:45 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.GetById (Server)'
[2025-02-07 07:00:45 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/1 - 200 null application/json; charset=utf-8 2053.5876ms
[2025-02-07 07:02:13 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 07:02:13 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 14.2783ms
[2025-02-07 07:02:13 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 07:02:13 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 07:02:13 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 1.8696ms
[2025-02-07 07:02:13 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 07:02:13 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 11.2336ms
[2025-02-07 07:02:13 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 40.8797ms
[2025-02-07 07:02:13 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 07:02:13 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 16.6283ms
[2025-02-07 07:02:18 ] Starting the application...
[2025-02-07 07:02:18 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 07:02:19 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 07:02:19 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 07:02:19 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 07:02:19 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 07:02:19 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce _Net\Project_Net\Car-Agency\server\src
[2025-02-07 07:02:19 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 07:02:19 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 217.5773ms
[2025-02-07 07:02:20 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 07:02:20 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 07:02:20 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 4.6081ms
[2025-02-07 07:02:20 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 07:02:20 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 14.2422ms
[2025-02-07 07:02:20 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 68.3887ms
[2025-02-07 07:02:20 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 07:02:20 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 23.3184ms
[2025-02-07 07:02:24 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/1 - application/json 1203
[2025-02-07 07:02:24 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.GetById (Server)'
[2025-02-07 07:02:24 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "GetById", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 07:02:27 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (58ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 07:02:27 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Server.Models.Car, Server, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-02-07 07:02:27 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.GetById (Server) in 2498.0438ms
[2025-02-07 07:02:27 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.GetById (Server)'
[2025-02-07 07:02:27 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/1 - 200 null application/json; charset=utf-8 2801.2895ms
[2025-02-07 07:02:41 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/1 - application/json 1203
[2025-02-07 07:02:41 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.GetById (Server)'
[2025-02-07 07:02:41 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "GetById", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 07:02:41 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (16ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 07:02:41 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Server.Models.Car, Server, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-02-07 07:02:41 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.GetById (Server) in 54.3468ms
[2025-02-07 07:02:41 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.GetById (Server)'
[2025-02-07 07:02:41 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/1 - 200 null application/json; charset=utf-8 65.9261ms
[2025-02-07 07:02:46 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST https://localhost:7299/api/auth/login - application/json 48
[2025-02-07 07:02:46 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 07:02:46 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Server.Dtos.UserDto) on controller Server.Controllers.AuthController (Server).
[2025-02-07 07:02:46 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (8ms) [Parameters=[@__ToLower_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Password], [u].[Role]
FROM [Users] AS [u]
WHERE LOWER([u].[Email]) = @__ToLower_0 AND [u].[Password] = @__password_1
[2025-02-07 07:02:46 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-02-07 07:02:46 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.AuthController.Login (Server) in 194.0882ms
[2025-02-07 07:02:46 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 07:02:46 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST https://localhost:7299/api/auth/login - 400 null application/json; charset=utf-8 212.0373ms
[2025-02-07 07:03:12 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST https://localhost:7299/api/auth/login - application/json 48
[2025-02-07 07:03:12 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 07:03:12 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Server.Dtos.UserDto) on controller Server.Controllers.AuthController (Server).
[2025-02-07 07:03:12 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (7ms) [Parameters=[@__ToLower_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Password], [u].[Role]
FROM [Users] AS [u]
WHERE LOWER([u].[Email]) = @__ToLower_0 AND [u].[Password] = @__password_1
[2025-02-07 07:03:12 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-02-07 07:03:12 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.AuthController.Login (Server) in 13.052ms
[2025-02-07 07:03:12 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 07:03:12 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST https://localhost:7299/api/auth/login - 400 null application/json; charset=utf-8 14.6866ms
[2025-02-07 07:09:14 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST https://localhost:7299/api/auth/login - application/json 48
[2025-02-07 07:09:14 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 07:09:14 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Server.Dtos.UserDto) on controller Server.Controllers.AuthController (Server).
[2025-02-07 07:09:14 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (24ms) [Parameters=[@__ToLower_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Password], [u].[Role]
FROM [Users] AS [u]
WHERE LOWER([u].[Email]) = @__ToLower_0 AND [u].[Password] = @__password_1
[2025-02-07 07:09:14 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-02-07 07:09:14 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.AuthController.Login (Server) in 464.7887ms
[2025-02-07 07:09:14 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 07:09:14 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST https://localhost:7299/api/auth/login - 200 null application/json; charset=utf-8 466.227ms
[2025-02-07 07:09:20 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST https://localhost:7299/api/auth/login - application/json 50
[2025-02-07 07:09:20 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 07:09:20 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Server.Dtos.UserDto) on controller Server.Controllers.AuthController (Server).
[2025-02-07 07:09:20 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (4ms) [Parameters=[@__ToLower_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Password], [u].[Role]
FROM [Users] AS [u]
WHERE LOWER([u].[Email]) = @__ToLower_0 AND [u].[Password] = @__password_1
[2025-02-07 07:09:20 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-02-07 07:09:20 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.AuthController.Login (Server) in 7.2674ms
[2025-02-07 07:09:20 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 07:09:20 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST https://localhost:7299/api/auth/login - 400 null application/json; charset=utf-8 8.5485ms
[2025-02-07 07:09:32 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST https://localhost:7299/api/auth/login - application/json 48
[2025-02-07 07:09:32 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 07:09:32 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Server.Dtos.UserDto) on controller Server.Controllers.AuthController (Server).
[2025-02-07 07:09:32 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (8ms) [Parameters=[@__ToLower_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Password], [u].[Role]
FROM [Users] AS [u]
WHERE LOWER([u].[Email]) = @__ToLower_0 AND [u].[Password] = @__password_1
[2025-02-07 07:09:32 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-02-07 07:09:32 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.AuthController.Login (Server) in 13.4132ms
[2025-02-07 07:09:32 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 07:09:32 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST https://localhost:7299/api/auth/login - 200 null application/json; charset=utf-8 14.7609ms
[2025-02-07 07:09:36 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST https://localhost:7299/api/auth/login - application/json 50
[2025-02-07 07:09:36 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 07:09:36 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Server.Dtos.UserDto) on controller Server.Controllers.AuthController (Server).
[2025-02-07 07:09:36 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (4ms) [Parameters=[@__ToLower_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Password], [u].[Role]
FROM [Users] AS [u]
WHERE LOWER([u].[Email]) = @__ToLower_0 AND [u].[Password] = @__password_1
[2025-02-07 07:09:36 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-02-07 07:09:36 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.AuthController.Login (Server) in 6.8724ms
[2025-02-07 07:09:36 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 07:09:36 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST https://localhost:7299/api/auth/login - 400 null application/json; charset=utf-8 7.9694ms
[2025-02-07 07:09:39 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST https://localhost:7299/api/auth/login - application/json 50
[2025-02-07 07:09:39 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 07:09:39 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Server.Dtos.UserDto) on controller Server.Controllers.AuthController (Server).
[2025-02-07 07:09:39 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (5ms) [Parameters=[@__ToLower_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Password], [u].[Role]
FROM [Users] AS [u]
WHERE LOWER([u].[Email]) = @__ToLower_0 AND [u].[Password] = @__password_1
[2025-02-07 07:09:39 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-02-07 07:09:39 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.AuthController.Login (Server) in 7.7236ms
[2025-02-07 07:09:39 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 07:09:39 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST https://localhost:7299/api/auth/login - 400 null application/json; charset=utf-8 8.6593ms
[2025-02-07 07:09:44 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car?page=1 - null null
[2025-02-07 07:09:44 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.GetAll (Server)'
[2025-02-07 07:09:44 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "GetAll", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 07:09:44 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
[2025-02-07 07:09:44 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-02-07 07:09:44 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.GetAll (Server) in 41.369ms
[2025-02-07 07:09:44 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.GetAll (Server)'
[2025-02-07 07:09:44 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car?page=1 - 200 null application/json; charset=utf-8 48.7465ms
[2025-02-07 07:13:48 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 PUT https://localhost:7299/api/car/update/1 - application/json 1242
[2025-02-07 07:13:48 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.Update (Server)'
[2025-02-07 07:13:48 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Update", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(Server.Models.Car, Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 07:13:48 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (13ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 07:13:48 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-02-07 07:13:48 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.Update (Server) in 134.155ms
[2025-02-07 07:13:48 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.Update (Server)'
[2025-02-07 07:13:48 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 PUT https://localhost:7299/api/car/update/1 - 200 null application/json; charset=utf-8 144.1269ms
[2025-02-07 07:13:53 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/1 - application/json 1203
[2025-02-07 07:13:53 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.GetById (Server)'
[2025-02-07 07:13:53 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "GetById", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 07:13:53 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 07:13:53 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Server.Models.Car, Server, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-02-07 07:13:53 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.GetById (Server) in 17.6331ms
[2025-02-07 07:13:53 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.GetById (Server)'
[2025-02-07 07:13:53 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/1 - 200 null application/json; charset=utf-8 23.5338ms
[2025-02-07 07:13:59 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car?page=1 - null null
[2025-02-07 07:13:59 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.GetAll (Server)'
[2025-02-07 07:13:59 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "GetAll", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 07:13:59 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
[2025-02-07 07:13:59 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-02-07 07:13:59 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.GetAll (Server) in 14.0814ms
[2025-02-07 07:13:59 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.GetAll (Server)'
[2025-02-07 07:13:59 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car?page=1 - 200 null application/json; charset=utf-8 21.8684ms
[2025-02-07 07:14:09 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST https://localhost:7299/api/car/add - application/json 1238
[2025-02-07 07:14:09 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.Add (Server)'
[2025-02-07 07:14:09 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Add", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Add(Server.Models.Car) on controller Server.Controllers.CarController (Server).
[2025-02-07 07:14:09 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (10ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Int32), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (Size = 4000), @p20='?' (Size = 4000), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000), @p24='?' (Size = 4000), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000), @p30='?' (Size = 4000), @p31='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Cars] ([Category], [CertificateIssueDate], [CertificateReferenceNumber], [ChassisNumber], [CountryOfOrigin], [DriverName], [DriverNationality], [EmiratesIdNumber], [EmptyWeight], [EngineNumber], [ExportCountryTo], [ExportPlateNumber], [FuelType], [InsuranceCompany], [InsuranceExpiryDate], [InsurancePolicyNumber], [InsuranceType], [LicenseNumber], [LicenseSource], [ModelYear], [Nationality], [NumberOfDoors], [NumberOfSeats], [OwnerName], [PassportNumber], [RegistrationDate], [RegistrationExpiryDate], [RegistrationPlateNumber], [TrafficCodeNumber], [VehicleColor], [VehicleMake], [VehicleType])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31);
[2025-02-07 07:14:09 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-02-07 07:14:09 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.Add (Server) in 160.0463ms
[2025-02-07 07:14:09 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.Add (Server)'
[2025-02-07 07:14:09 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST https://localhost:7299/api/car/add - 200 null application/json; charset=utf-8 165.2115ms
[2025-02-07 07:14:13 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/create/1 - application/json 1242
[2025-02-07 07:14:13 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.CreateCertificate (Server)'
[2025-02-07 07:14:13 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "CreateCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 07:14:13 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 07:14:32 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Server.Models.Car, Server, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-02-07 07:14:32 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.CreateCertificate (Server) in 18569.6084ms
[2025-02-07 07:14:32 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.CreateCertificate (Server)'
[2025-02-07 07:14:32 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/create/1 - 200 null application/json; charset=utf-8 18575.5626ms
[2025-02-07 07:15:01 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/auth/logout - application/json 48
[2025-02-07 07:15:01 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.AuthController.Logout (Server)'
[2025-02-07 07:15:01 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Logout", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Logout() on controller Server.Controllers.AuthController (Server).
[2025-02-07 07:15:01 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-02-07 07:15:01 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.AuthController.Logout (Server) in 1.5289ms
[2025-02-07 07:15:01 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.AuthController.Logout (Server)'
[2025-02-07 07:15:01 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/auth/logout - 200 null application/json; charset=utf-8 336.4443ms
[2025-02-07 07:15:07 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car?page=1 - null null
[2025-02-07 07:15:07 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ThrowResponseAlreadyStartedException(String value)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.set_StatusCode(Int32 value)
   at Server.Middlewares.AuthenticationMiddleware.InvokeAsync(HttpContext context, RequestDelegate next)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext()
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 07:15:07 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] The response has already started, the error page middleware will not be executed.
[2025-02-07 07:15:07 Microsoft.AspNetCore.Server.Kestrel] Connection id "0HNA76ICOBR3T", Request id "0HNA76ICOBR3T:00000007": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ThrowResponseAlreadyStartedException(String value)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.set_StatusCode(Int32 value)
   at Server.Middlewares.AuthenticationMiddleware.InvokeAsync(HttpContext context, RequestDelegate next)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext()
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.WebTools.BrowserLink.Net.BrowserLinkMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
[2025-02-07 07:15:07 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car?page=1 - 401 null application/json; charset=utf-8 56.716ms
[2025-02-07 07:15:14 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/1 - application/json 1203
[2025-02-07 07:15:14 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ThrowResponseAlreadyStartedException(String value)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.set_StatusCode(Int32 value)
   at Server.Middlewares.AuthenticationMiddleware.InvokeAsync(HttpContext context, RequestDelegate next)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext()
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 07:15:14 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] The response has already started, the error page middleware will not be executed.
[2025-02-07 07:15:14 Microsoft.AspNetCore.Server.Kestrel] Connection id "0HNA76ICOBR3V", Request id "0HNA76ICOBR3V:00000001": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ThrowResponseAlreadyStartedException(String value)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.set_StatusCode(Int32 value)
   at Server.Middlewares.AuthenticationMiddleware.InvokeAsync(HttpContext context, RequestDelegate next)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext()
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.WebTools.BrowserLink.Net.BrowserLinkMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
[2025-02-07 07:15:14 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/1 - 401 null application/json; charset=utf-8 3.7399ms
[2025-02-07 07:15:19 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 PUT https://localhost:7299/api/car/update/1 - application/json 1242
[2025-02-07 07:15:19 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ThrowResponseAlreadyStartedException(String value)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.set_StatusCode(Int32 value)
   at Server.Middlewares.AuthenticationMiddleware.InvokeAsync(HttpContext context, RequestDelegate next)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext()
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 07:15:19 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] The response has already started, the error page middleware will not be executed.
[2025-02-07 07:15:19 Microsoft.AspNetCore.Server.Kestrel] Connection id "0HNA76ICOBR41", Request id "0HNA76ICOBR41:00000001": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ThrowResponseAlreadyStartedException(String value)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.set_StatusCode(Int32 value)
   at Server.Middlewares.AuthenticationMiddleware.InvokeAsync(HttpContext context, RequestDelegate next)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext()
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.WebTools.BrowserLink.Net.BrowserLinkMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
[2025-02-07 07:15:19 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 PUT https://localhost:7299/api/car/update/1 - 401 null application/json; charset=utf-8 3.0508ms
[2025-02-07 07:15:22 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/create/1 - application/json 1242
[2025-02-07 07:15:22 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ThrowResponseAlreadyStartedException(String value)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.set_StatusCode(Int32 value)
   at Server.Middlewares.AuthenticationMiddleware.InvokeAsync(HttpContext context, RequestDelegate next)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext()
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 07:15:22 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] The response has already started, the error page middleware will not be executed.
[2025-02-07 07:15:22 Microsoft.AspNetCore.Server.Kestrel] Connection id "0HNA76ICOBR43", Request id "0HNA76ICOBR43:00000001": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ThrowResponseAlreadyStartedException(String value)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.set_StatusCode(Int32 value)
   at Server.Middlewares.AuthenticationMiddleware.InvokeAsync(HttpContext context, RequestDelegate next)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext()
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.WebTools.BrowserLink.Net.BrowserLinkMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
[2025-02-07 07:15:22 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/create/1 - 401 null application/json; charset=utf-8 2.4031ms
[2025-02-07 07:15:28 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST https://localhost:7299/api/car/add - application/json 1238
[2025-02-07 07:15:28 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ThrowResponseAlreadyStartedException(String value)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.set_StatusCode(Int32 value)
   at Server.Middlewares.AuthenticationMiddleware.InvokeAsync(HttpContext context, RequestDelegate next)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext()
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 07:15:28 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] The response has already started, the error page middleware will not be executed.
[2025-02-07 07:15:28 Microsoft.AspNetCore.Server.Kestrel] Connection id "0HNA76ICOBR45", Request id "0HNA76ICOBR45:00000001": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ThrowResponseAlreadyStartedException(String value)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.set_StatusCode(Int32 value)
   at Server.Middlewares.AuthenticationMiddleware.InvokeAsync(HttpContext context, RequestDelegate next)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext()
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.WebTools.BrowserLink.Net.BrowserLinkMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
[2025-02-07 07:15:28 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST https://localhost:7299/api/car/add - 401 null application/json; charset=utf-8 2.2774ms
[2025-02-07 07:15:37 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/auth/logout - application/json 48
[2025-02-07 07:15:37 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ThrowResponseAlreadyStartedException(String value)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.set_StatusCode(Int32 value)
   at Server.Middlewares.AuthenticationMiddleware.InvokeAsync(HttpContext context, RequestDelegate next)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext()
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 07:15:37 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] The response has already started, the error page middleware will not be executed.
[2025-02-07 07:15:37 Microsoft.AspNetCore.Server.Kestrel] Connection id "0HNA76ICOBR47", Request id "0HNA76ICOBR47:00000001": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ThrowResponseAlreadyStartedException(String value)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.set_StatusCode(Int32 value)
   at Server.Middlewares.AuthenticationMiddleware.InvokeAsync(HttpContext context, RequestDelegate next)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext()
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.WebTools.BrowserLink.Net.BrowserLinkMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
[2025-02-07 07:15:37 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/auth/logout - 401 null application/json; charset=utf-8 4.5104ms
[2025-02-07 07:15:44 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST https://localhost:7299/api/auth/login - application/json 50
[2025-02-07 07:15:44 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 07:15:44 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Server.Dtos.UserDto) on controller Server.Controllers.AuthController (Server).
[2025-02-07 07:15:44 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (5ms) [Parameters=[@__ToLower_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Password], [u].[Role]
FROM [Users] AS [u]
WHERE LOWER([u].[Email]) = @__ToLower_0 AND [u].[Password] = @__password_1
[2025-02-07 07:15:44 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-02-07 07:15:44 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.AuthController.Login (Server) in 12.2875ms
[2025-02-07 07:15:44 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 07:15:44 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST https://localhost:7299/api/auth/login - 400 null application/json; charset=utf-8 18.4345ms
[2025-02-07 07:15:51 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST https://localhost:7299/api/auth/login - application/json 48
[2025-02-07 07:15:51 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 07:15:51 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Server.Dtos.UserDto) on controller Server.Controllers.AuthController (Server).
[2025-02-07 07:15:51 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (31ms) [Parameters=[@__ToLower_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Password], [u].[Role]
FROM [Users] AS [u]
WHERE LOWER([u].[Email]) = @__ToLower_0 AND [u].[Password] = @__password_1
[2025-02-07 07:15:51 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-02-07 07:15:51 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.AuthController.Login (Server) in 34.6142ms
[2025-02-07 07:15:51 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 07:15:51 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST https://localhost:7299/api/auth/login - 200 null application/json; charset=utf-8 35.4556ms
[2025-02-07 07:15:54 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car?page=1 - null null
[2025-02-07 07:15:54 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.GetAll (Server)'
[2025-02-07 07:15:54 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "GetAll", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 07:15:54 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
[2025-02-07 07:15:54 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-02-07 07:15:54 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.GetAll (Server) in 6.8326ms
[2025-02-07 07:15:54 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.GetAll (Server)'
[2025-02-07 07:15:54 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car?page=1 - 200 null application/json; charset=utf-8 8.073ms
[2025-02-07 07:15:57 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/auth/logout - application/json 48
[2025-02-07 07:15:57 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.AuthController.Logout (Server)'
[2025-02-07 07:15:57 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Logout", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Logout() on controller Server.Controllers.AuthController (Server).
[2025-02-07 07:15:57 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-02-07 07:15:57 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.AuthController.Logout (Server) in 2.4871ms
[2025-02-07 07:15:57 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.AuthController.Logout (Server)'
[2025-02-07 07:15:57 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/auth/logout - 200 null application/json; charset=utf-8 3.7448ms
[2025-02-07 07:16:00 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car?page=1 - null null
[2025-02-07 07:16:00 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ThrowResponseAlreadyStartedException(String value)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Server.Middlewares.AuthenticationMiddleware.InvokeAsync(HttpContext context, RequestDelegate next)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext()
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 07:16:00 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] The response has already started, the error page middleware will not be executed.
[2025-02-07 07:16:00 Microsoft.AspNetCore.Server.Kestrel] Connection id "0HNA76ICOBR49", Request id "0HNA76ICOBR49:00000005": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ThrowResponseAlreadyStartedException(String value)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Server.Middlewares.AuthenticationMiddleware.InvokeAsync(HttpContext context, RequestDelegate next)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext()
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.WebTools.BrowserLink.Net.BrowserLinkMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
[2025-02-07 07:16:00 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car?page=1 - 401 null application/json; charset=utf-8 2.9645ms
[2025-02-07 07:16:03 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST https://localhost:7299/api/auth/login - application/json 48
[2025-02-07 07:16:03 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 07:16:03 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Server.Dtos.UserDto) on controller Server.Controllers.AuthController (Server).
[2025-02-07 07:16:03 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (3ms) [Parameters=[@__ToLower_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Password], [u].[Role]
FROM [Users] AS [u]
WHERE LOWER([u].[Email]) = @__ToLower_0 AND [u].[Password] = @__password_1
[2025-02-07 07:16:03 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-02-07 07:16:03 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.AuthController.Login (Server) in 6.9584ms
[2025-02-07 07:16:03 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 07:16:03 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST https://localhost:7299/api/auth/login - 200 null application/json; charset=utf-8 7.6846ms
[2025-02-07 07:22:55 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/count - null null
[2025-02-07 07:22:55 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.GetById (Server)'
[2025-02-07 07:22:55 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "GetById", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 07:22:55 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
[2025-02-07 07:22:55 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.GetById (Server) in 28.1496ms
[2025-02-07 07:22:55 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.GetById (Server)'
[2025-02-07 07:22:55 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/count - 400 null application/problem+json; charset=utf-8 34.7004ms
[2025-02-07 07:23:21 ] Starting the application...
[2025-02-07 07:23:22 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 07:23:22 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 07:23:22 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 07:23:22 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 07:23:22 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 07:23:22 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce _Net\Project_Net\Car-Agency\server\src
[2025-02-07 07:23:25 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 07:23:25 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/count - null null
[2025-02-07 07:23:25 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 371.7891ms
[2025-02-07 07:23:25 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.Count (Server)'
[2025-02-07 07:23:25 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 07:23:25 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 07:23:25 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 07:23:25 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 54.9206ms
[2025-02-07 07:23:25 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 65.4198ms
[2025-02-07 07:23:25 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Count", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Count() on controller Server.Controllers.CarController (Server).
[2025-02-07 07:23:25 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 252.3516ms
[2025-02-07 07:23:25 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 07:23:25 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 49.4959ms
[2025-02-07 07:23:26 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 07:23:26 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 3.4519ms
[2025-02-07 07:23:26 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 07:23:26 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 48.326ms
[2025-02-07 07:23:30 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (81ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
[2025-02-07 07:23:30 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-02-07 07:23:30 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.Count (Server) in 5134.4672ms
[2025-02-07 07:23:30 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.Count (Server)'
[2025-02-07 07:23:30 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/count - 200 null application/json; charset=utf-8 5688.1366ms
[2025-02-07 07:27:45 ] Starting the application...
[2025-02-07 07:27:49 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 07:27:49 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 07:27:49 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 07:27:49 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 07:27:49 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 07:27:49 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce _Net\Project_Net\Car-Agency\server\src
[2025-02-07 07:27:52 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 07:27:52 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 249.8077ms
[2025-02-07 07:27:52 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 07:27:52 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 07:27:52 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 07:27:52 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 23.2675ms
[2025-02-07 07:27:52 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 39.6498ms
[2025-02-07 07:27:52 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 121.4412ms
[2025-02-07 07:27:52 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 07:27:52 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 50.1092ms
[2025-02-07 07:27:54 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/create/1 - application/json 1242
[2025-02-07 07:27:56 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.CreateCertificate (Server)'
[2025-02-07 07:27:56 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "CreateCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 07:27:59 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (140ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 07:28:12 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Server.Models.Car, Server, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-02-07 07:28:12 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.CreateCertificate (Server) in 16041.3997ms
[2025-02-07 07:28:12 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.CreateCertificate (Server)'
[2025-02-07 07:28:12 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/create/1 - 200 null application/json; charset=utf-8 18166.795ms
[2025-02-07 07:28:38 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/create/1 - null null
[2025-02-07 07:28:38 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.CreateCertificate (Server)'
[2025-02-07 07:28:38 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "CreateCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 07:28:38 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 07:28:38 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Server.Models.Car, Server, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-02-07 07:28:38 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.CreateCertificate (Server) in 104.9529ms
[2025-02-07 07:28:38 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.CreateCertificate (Server)'
[2025-02-07 07:28:38 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/create/1 - 200 null application/json; charset=utf-8 113.6523ms
[2025-02-07 07:28:40 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/create/1 - null null
[2025-02-07 07:28:40 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.CreateCertificate (Server)'
[2025-02-07 07:28:40 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "CreateCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 07:28:40 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 07:28:40 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Server.Models.Car, Server, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-02-07 07:28:40 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.CreateCertificate (Server) in 179.1891ms
[2025-02-07 07:28:40 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.CreateCertificate (Server)'
[2025-02-07 07:28:40 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/create/1 - 200 null application/json; charset=utf-8 183.8064ms
[2025-02-07 07:29:01 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/create/1 - null null
[2025-02-07 07:29:01 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.CreateCertificate (Server)'
[2025-02-07 07:29:01 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "CreateCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 07:29:01 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (23ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 07:29:01 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Server.Models.Car, Server, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-02-07 07:29:01 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.CreateCertificate (Server) in 84.6339ms
[2025-02-07 07:29:01 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.CreateCertificate (Server)'
[2025-02-07 07:29:01 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/create/1 - 200 null application/json; charset=utf-8 86.8415ms
[2025-02-07 07:29:08 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/create/1 - null null
[2025-02-07 07:29:08 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.CreateCertificate (Server)'
[2025-02-07 07:29:08 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "CreateCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 07:29:08 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 07:29:08 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Server.Models.Car, Server, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-02-07 07:29:08 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.CreateCertificate (Server) in 30.1364ms
[2025-02-07 07:29:08 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.CreateCertificate (Server)'
[2025-02-07 07:29:08 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/create/1 - 200 null application/json; charset=utf-8 31.3514ms
[2025-02-07 07:29:43 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 07:29:43 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 9.1984ms
[2025-02-07 07:29:43 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 07:29:43 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 0.8027ms
[2025-02-07 07:29:43 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 07:29:43 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 19.7453ms
[2025-02-07 07:29:43 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 07:29:43 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 0.8664ms
[2025-02-07 07:29:45 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/create/1 - null null
[2025-02-07 07:29:45 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.CreateCertificate (Server)'
[2025-02-07 07:29:45 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "CreateCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 07:29:45 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (27ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 07:29:45 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Server.Models.Car, Server, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-02-07 07:29:45 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.CreateCertificate (Server) in 76.0729ms
[2025-02-07 07:29:45 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.CreateCertificate (Server)'
[2025-02-07 07:29:45 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/create/1 - 200 null application/json; charset=utf-8 87.7933ms
[2025-02-07 07:29:45 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 07:29:45 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 15.1802ms
[2025-02-07 07:29:56 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/create/1 - null null
[2025-02-07 07:29:56 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.CreateCertificate (Server)'
[2025-02-07 07:29:56 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "CreateCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 07:29:56 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 07:29:56 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Server.Models.Car, Server, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-02-07 07:29:56 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.CreateCertificate (Server) in 27.1119ms
[2025-02-07 07:29:56 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.CreateCertificate (Server)'
[2025-02-07 07:29:56 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/create/1 - 200 null application/json; charset=utf-8 32.234ms
[2025-02-07 07:30:11 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 07:30:11 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 4.9514ms
[2025-02-07 07:30:11 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 07:30:11 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 0.493ms
[2025-02-07 07:30:11 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 07:30:11 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 13.2988ms
[2025-02-07 07:30:11 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 07:30:11 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 0.424ms
[2025-02-07 07:30:12 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 07:30:12 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 10.3837ms
[2025-02-07 07:30:15 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/create/1 - null null
[2025-02-07 07:30:15 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.CreateCertificate (Server)'
[2025-02-07 07:30:15 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "CreateCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 07:30:15 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 07:30:15 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Server.Models.Car, Server, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-02-07 07:30:15 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.CreateCertificate (Server) in 35.3506ms
[2025-02-07 07:30:15 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.CreateCertificate (Server)'
[2025-02-07 07:30:15 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/create/1 - 200 null application/json; charset=utf-8 43.7246ms
[2025-02-07 07:30:22 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/create/1 - null null
[2025-02-07 07:30:22 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.CreateCertificate (Server)'
[2025-02-07 07:30:22 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "CreateCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 07:30:22 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (22ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 07:30:22 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Server.Models.Car, Server, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-02-07 07:30:22 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.CreateCertificate (Server) in 43.8334ms
[2025-02-07 07:30:22 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.CreateCertificate (Server)'
[2025-02-07 07:30:22 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/create/1 - 200 null application/json; charset=utf-8 46.4514ms
[2025-02-07 07:30:46 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 07:30:46 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 1.4932ms
[2025-02-07 07:30:46 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 07:30:46 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 07:30:46 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 0.35ms
[2025-02-07 07:30:46 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 07:30:46 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 4.6881ms
[2025-02-07 07:30:46 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 21.5324ms
[2025-02-07 07:30:47 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 07:30:47 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 11.0337ms
[2025-02-07 07:31:07 ] Starting the application...
[2025-02-07 07:31:07 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 07:31:08 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 07:31:08 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 07:31:08 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 07:31:08 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 07:31:08 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce _Net\Project_Net\Car-Agency\server\src
[2025-02-07 07:31:08 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 07:31:09 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 496.3958ms
[2025-02-07 07:31:09 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 07:31:09 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 2.9321ms
[2025-02-07 07:31:09 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 07:31:09 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 07:31:09 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 12.7176ms
[2025-02-07 07:31:09 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 39.9283ms
[2025-02-07 07:31:10 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 07:31:10 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 25.075ms
[2025-02-07 07:31:17 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/create/1 - null null
[2025-02-07 07:31:17 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.CreateCertificate (Server)'
[2025-02-07 07:31:17 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "CreateCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 07:31:18 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (48ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 07:31:19 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Server.Models.Car, Server, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-02-07 07:31:19 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.CreateCertificate (Server) in 2652.5813ms
[2025-02-07 07:31:19 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.CreateCertificate (Server)'
[2025-02-07 07:31:19 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/create/1 - 200 null application/json; charset=utf-8 2838.5083ms
[2025-02-07 07:32:06 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 07:32:06 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 4.2526ms
[2025-02-07 07:32:06 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 07:32:06 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 07:32:06 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 0.4237ms
[2025-02-07 07:32:06 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 07:32:06 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 6.5588ms
[2025-02-07 07:32:06 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 55.2965ms
[2025-02-07 07:32:07 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 07:32:07 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 14.423ms
[2025-02-07 07:32:45 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 07:32:45 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 3.0552ms
[2025-02-07 07:32:45 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 07:32:45 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 0.5251ms
[2025-02-07 07:32:45 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 07:32:45 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 07:32:45 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 1.7799ms
[2025-02-07 07:32:45 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 15.0424ms
[2025-02-07 07:32:46 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 07:32:46 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 9.379ms
[2025-02-07 07:33:43 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 07:33:43 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 46.5419ms
[2025-02-07 07:33:43 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 07:33:43 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 0.5201ms
[2025-02-07 07:33:43 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 07:33:43 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 07:33:43 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 0.4659ms
[2025-02-07 07:33:43 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 11.4941ms
[2025-02-07 07:33:44 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 07:33:44 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 11.7494ms
[2025-02-07 07:37:13 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 07:37:13 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 11.2315ms
[2025-02-07 07:37:13 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 07:37:13 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 0.4155ms
[2025-02-07 07:37:13 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 07:37:13 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 07:37:13 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 0.6345ms
[2025-02-07 07:37:13 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 8.0858ms
[2025-02-07 07:37:14 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 07:37:14 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 8.3817ms
[2025-02-07 07:40:33 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 07:40:33 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 7.8209ms
[2025-02-07 07:40:34 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 07:40:34 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 0.4677ms
[2025-02-07 07:40:34 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 07:40:34 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 8.8084ms
[2025-02-07 07:40:34 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 07:40:34 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 0.4087ms
[2025-02-07 07:40:35 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 07:40:35 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 14.1974ms
[2025-02-07 07:41:52 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 07:41:52 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 7.8637ms
[2025-02-07 07:41:52 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 07:41:52 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 0.5789ms
[2025-02-07 07:41:52 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 07:41:52 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 4.9773ms
[2025-02-07 07:41:52 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 07:41:52 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 1.4688ms
[2025-02-07 07:41:52 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 07:41:52 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 11.4266ms
[2025-02-07 07:43:26 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 07:43:26 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 11.9833ms
[2025-02-07 07:43:26 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 07:43:26 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 0.3555ms
[2025-02-07 07:43:26 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 07:43:26 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 8.3025ms
[2025-02-07 07:43:26 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 07:43:26 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 0.3496ms
[2025-02-07 07:43:26 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 07:43:26 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 8.7458ms
[2025-02-07 07:53:01 ] Starting the application...
[2025-02-07 07:53:02 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 07:53:02 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 07:53:02 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 07:53:03 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 07:53:03 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 07:53:03 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce _Net\Project_Net\Car-Agency\server\src
[2025-02-07 07:53:05 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 07:53:05 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 360.0037ms
[2025-02-07 07:53:05 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 07:53:05 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 07:53:05 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 07:53:05 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 21.1351ms
[2025-02-07 07:53:05 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 56.3957ms
[2025-02-07 07:53:05 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 160.4583ms
[2025-02-07 07:53:06 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 07:53:06 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 41.5424ms
[2025-02-07 07:53:11 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car?page=1 - null null
[2025-02-07 07:53:11 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.GetAll (Server)'
[2025-02-07 07:53:11 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "GetAll", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 07:53:13 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (44ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
[2025-02-07 07:53:14 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-02-07 07:53:14 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.GetAll (Server) in 2517.4905ms
[2025-02-07 07:53:14 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.GetAll (Server)'
[2025-02-07 07:53:14 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car?page=1 - 200 null application/json; charset=utf-8 2747.8199ms
[2025-02-07 08:00:34 ] Starting the application...
[2025-02-07 08:00:37 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 08:00:38 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 08:00:38 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 08:00:38 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 08:00:38 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 08:00:38 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce _Net\Project_Net\Car-Agency\server\src
[2025-02-07 08:00:45 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 08:00:46 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 787.1332ms
[2025-02-07 08:00:46 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 08:00:46 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 2.9003ms
[2025-02-07 08:00:46 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 08:00:46 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 08:00:46 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 12.5312ms
[2025-02-07 08:00:46 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 215.6818ms
[2025-02-07 08:00:47 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 08:00:47 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 23.3114ms
[2025-02-07 08:00:48 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/create/1 - null null
[2025-02-07 08:00:51 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.CreateCertificate (Server)'
[2025-02-07 08:00:51 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "CreateCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 08:00:55 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (159ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 08:00:57 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Server.Models.Car, Server, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-02-07 08:00:57 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.CreateCertificate (Server) in 5608.5833ms
[2025-02-07 08:00:57 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.CreateCertificate (Server)'
[2025-02-07 08:00:57 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/create/1 - 200 null application/json; charset=utf-8 9038.311ms
[2025-02-07 08:01:27 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/create/1 - null null
[2025-02-07 08:01:27 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.CreateCertificate (Server)'
[2025-02-07 08:01:27 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "CreateCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 08:01:27 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 08:01:27 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Server.Models.Car, Server, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-02-07 08:01:27 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.CreateCertificate (Server) in 65.3438ms
[2025-02-07 08:01:27 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.CreateCertificate (Server)'
[2025-02-07 08:01:27 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/create/1 - 200 null application/json; charset=utf-8 71.4472ms
[2025-02-07 08:01:36 ] Starting the application...
[2025-02-07 08:01:36 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 08:01:37 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 08:01:37 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 08:01:37 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 08:01:37 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 08:01:37 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce _Net\Project_Net\Car-Agency\server\src
[2025-02-07 08:01:37 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 08:01:37 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 154.4473ms
[2025-02-07 08:01:37 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 08:01:37 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 2.1438ms
[2025-02-07 08:01:37 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 08:01:37 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 08:01:37 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 21.3358ms
[2025-02-07 08:01:37 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 64.9785ms
[2025-02-07 08:01:38 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 08:01:38 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 26.3424ms
[2025-02-07 08:03:38 ] Starting the application...
[2025-02-07 08:03:39 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 08:03:40 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 08:03:40 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 08:03:40 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 08:03:40 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 08:03:40 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce_Net\Project_Net\Car-Agency\server\src
[2025-02-07 08:03:42 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 08:03:42 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 300.4609ms
[2025-02-07 08:03:42 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 08:03:42 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 08:03:42 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 08:03:42 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 5.4064ms
[2025-02-07 08:03:42 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 43.8133ms
[2025-02-07 08:03:43 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 105.5753ms
[2025-02-07 08:03:43 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 08:03:43 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 50.6245ms
[2025-02-07 08:03:45 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/create/1 - null null
[2025-02-07 08:03:45 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.CreateCertificate (Server)'
[2025-02-07 08:03:45 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "CreateCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 08:03:47 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (49ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 08:04:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Server.Models.Car, Server, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-02-07 08:04:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.CreateCertificate (Server) in 15165.7072ms
[2025-02-07 08:04:00 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.CreateCertificate (Server)'
[2025-02-07 08:04:00 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/create/1 - 200 null application/json; charset=utf-8 15463.9365ms
[2025-02-07 08:07:16 ] Starting the application...
[2025-02-07 08:07:16 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 08:07:17 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 08:07:17 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 08:07:17 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 08:07:17 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 08:07:17 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce_Net\Project_Net\Car-Agency\server\src
[2025-02-07 08:07:19 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 08:07:19 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 300.7836ms
[2025-02-07 08:07:19 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 08:07:19 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 08:07:19 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 08:07:19 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 5.4816ms
[2025-02-07 08:07:19 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 15.7196ms
[2025-02-07 08:07:20 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 119.6605ms
[2025-02-07 08:07:20 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 08:07:20 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 42.9882ms
[2025-02-07 08:11:41 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 08:11:41 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/api/car/download/1 - 401 null application/json; charset=utf-8 443.0647ms
[2025-02-07 08:11:41 Microsoft.AspNetCore.Hosting.Diagnostics] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7299/api/car/download/1, Response status code: 401
[2025-02-07 08:11:42 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/favicon.ico - null null
[2025-02-07 08:11:42 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/favicon.ico - 401 null application/json; charset=utf-8 12.9819ms
[2025-02-07 08:11:42 Microsoft.AspNetCore.Hosting.Diagnostics] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7299/favicon.ico, Response status code: 401
[2025-02-07 08:12:35 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 08:12:35 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 11.0727ms
[2025-02-07 08:12:42 ] Starting the application...
[2025-02-07 08:12:42 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 08:12:43 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 08:12:43 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 08:12:43 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 08:12:43 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 08:12:43 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce_Net\Project_Net\Car-Agency\server\src
[2025-02-07 08:12:44 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 08:12:44 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 835.39ms
[2025-02-07 08:12:44 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 08:12:44 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 08:12:44 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 2.2459ms
[2025-02-07 08:12:44 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 08:12:45 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 22.2303ms
[2025-02-07 08:12:45 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 216.9016ms
[2025-02-07 08:12:45 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 08:12:45 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 28.7749ms
[2025-02-07 08:12:51 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/create/1 - null null
[2025-02-07 08:12:51 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.CreateCertificate (Server)'
[2025-02-07 08:12:51 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "CreateCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 08:12:53 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (60ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 08:12:55 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Server.Models.Car, Server, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-02-07 08:12:55 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.CreateCertificate (Server) in 3659.3896ms
[2025-02-07 08:12:55 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.CreateCertificate (Server)'
[2025-02-07 08:12:55 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/create/1 - 200 null application/json; charset=utf-8 3973.5751ms
[2025-02-07 08:13:40 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 08:13:40 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/api/car/download/1 - 404 0 null 25.9143ms
[2025-02-07 08:13:40 Microsoft.AspNetCore.Hosting.Diagnostics] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7299/api/car/download/1, Response status code: 404
[2025-02-07 08:13:46 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 08:13:46 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/api/car/download/1 - 404 0 null 28.3215ms
[2025-02-07 08:13:46 Microsoft.AspNetCore.Hosting.Diagnostics] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7299/api/car/download/1, Response status code: 404
[2025-02-07 08:13:50 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/api/car/download - null null
[2025-02-07 08:13:50 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.GetById (Server)'
[2025-02-07 08:13:50 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "GetById", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 08:13:50 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
[2025-02-07 08:13:50 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.GetById (Server) in 67.5755ms
[2025-02-07 08:13:50 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.GetById (Server)'
[2025-02-07 08:13:50 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/api/car/download - 400 null application/problem+json; charset=utf-8 98.3553ms
[2025-02-07 08:13:50 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/favicon.ico - null null
[2025-02-07 08:13:50 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/favicon.ico - 401 null application/json; charset=utf-8 41.8673ms
[2025-02-07 08:13:50 Microsoft.AspNetCore.Hosting.Diagnostics] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7299/favicon.ico, Response status code: 401
[2025-02-07 08:15:43 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 08:15:43 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 31.5555ms
[2025-02-07 08:15:43 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 08:15:43 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 0.5553ms
[2025-02-07 08:15:43 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 08:15:43 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 08:15:43 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 3.0912ms
[2025-02-07 08:15:43 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 10.7098ms
[2025-02-07 08:15:44 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 08:15:44 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 26.8632ms
[2025-02-07 08:16:06 ] Starting the application...
[2025-02-07 08:16:07 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 08:16:07 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 08:16:07 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 08:16:07 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 08:16:07 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 08:16:07 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce_Net\Project_Net\Car-Agency\server\src
[2025-02-07 08:16:08 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 08:16:08 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 184.9815ms
[2025-02-07 08:16:08 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 08:16:08 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 2.0877ms
[2025-02-07 08:16:08 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 08:16:08 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 08:16:08 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 12.7217ms
[2025-02-07 08:16:08 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 47.8089ms
[2025-02-07 08:16:08 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 08:16:08 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 19.8918ms
[2025-02-07 08:16:22 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 08:16:22 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 404 0 null 170.3131ms
[2025-02-07 08:16:22 Microsoft.AspNetCore.Hosting.Diagnostics] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7299/api/car/download/1, Response status code: 404
[2025-02-07 08:16:52 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 08:16:52 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 9.4404ms
[2025-02-07 08:16:52 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 08:16:52 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 0.5987ms
[2025-02-07 08:16:52 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 08:16:52 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 17.6656ms
[2025-02-07 08:16:52 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 08:16:52 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 1.3668ms
[2025-02-07 08:16:53 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 08:16:53 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 21.7256ms
[2025-02-07 08:17:04 ] Starting the application...
[2025-02-07 08:17:04 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 08:17:05 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 08:17:05 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 08:17:05 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 08:17:05 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 08:17:05 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce_Net\Project_Net\Car-Agency\server\src
[2025-02-07 08:17:05 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 08:17:06 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 182.5598ms
[2025-02-07 08:17:06 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 08:17:06 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 2.3504ms
[2025-02-07 08:17:06 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 08:17:06 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 08:17:06 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 12.0537ms
[2025-02-07 08:17:06 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 49.9959ms
[2025-02-07 08:17:06 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 08:17:06 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 25.6712ms
[2025-02-07 08:17:12 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 08:17:12 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 08:17:12 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 08:17:14 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (53ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 08:17:15 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Server.Models.Car, Server, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-02-07 08:17:15 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 3058.8298ms
[2025-02-07 08:17:15 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 08:17:15 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 200 null application/json; charset=utf-8 3313.2333ms
[2025-02-07 08:17:43 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 08:17:43 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 08:17:43 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 08:17:43 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 08:17:43 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Server.Models.Car, Server, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-02-07 08:17:43 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 339.1095ms
[2025-02-07 08:17:43 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 08:17:43 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/api/car/download/1 - 200 null application/json; charset=utf-8 383.2822ms
[2025-02-07 08:17:43 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/favicon.ico - null null
[2025-02-07 08:17:43 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/favicon.ico - 401 null application/json; charset=utf-8 139.2296ms
[2025-02-07 08:17:43 Microsoft.AspNetCore.Hosting.Diagnostics] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7299/favicon.ico, Response status code: 401
[2025-02-07 08:34:59 ] Starting the application...
[2025-02-07 08:35:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 08:35:01 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 08:35:01 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 08:35:01 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 08:35:01 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 08:35:01 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce_Net\Project_Net\Car-Agency\server\src
[2025-02-07 08:35:03 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 08:35:03 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 355.4855ms
[2025-02-07 08:35:03 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 08:35:03 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 08:35:03 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 11.1825ms
[2025-02-07 08:35:03 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 08:35:03 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 30.0047ms
[2025-02-07 08:35:04 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 148.3504ms
[2025-02-07 08:35:04 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 08:35:04 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 34.8874ms
[2025-02-07 08:35:10 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 08:35:10 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 08:35:10 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 08:35:12 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (57ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 08:35:13 Server.Controllers.AuthController] An error occurred while executing the action.
iText.IO.Exceptions.IOException: I/O exception.
 ---> System.IO.FileNotFoundException: Could not find file 'F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Pdf\QRCode.png'.
File name: 'F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Pdf\QRCode.png'
   at Microsoft.Win32.SafeHandles.SafeFileHandle.CreateFile(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options)
   at Microsoft.Win32.SafeHandles.SafeFileHandle.Open(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.Strategies.OSFileStreamStrategy..ctor(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.Strategies.FileStreamHelpers.ChooseStrategyCore(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access)
   at iText.IO.Util.UrlUtil.OpenStream(Uri url)
   at iText.IO.Image.ImageTypeDetector.ReadImageType(Uri source)
   --- End of inner exception stack trace ---
   at iText.IO.Image.ImageTypeDetector.ReadImageType(Uri source)
   at iText.IO.Image.ImageTypeDetector.DetectImageType(Uri source)
   at iText.IO.Image.ImageDataFactory.CreateImageInstance(Uri source, Boolean recoverImage)
   at iText.IO.Image.ImageDataFactory.Create(Uri url, Boolean recoverImage)
   at iText.IO.Image.ImageDataFactory.Create(String filename, Boolean recoverImage)
   at iText.IO.Image.ImageDataFactory.Create(String filename)
   at Server.Models.CarService.AddImage(Document document, String path, Single x, Single y, Single width, Single height) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Services\CarService.cs:line 165
   at Server.Models.CarService.GenerateCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Services\CarService.cs:line 103
   at Server.Controllers.CarController.<>c__DisplayClass9_0.<<DownloadCertificate>b__0>d.MoveNext() in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Controllers\CarController.cs:line 110
--- End of stack trace from previous location ---
   at Server.Controllers.CarController.ExecuteAction(Func`1 action) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Controllers\CarController.cs:line 23
[2025-02-07 08:35:13 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing ObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-02-07 08:35:13 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 3336.9679ms
[2025-02-07 08:35:13 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 08:35:13 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 500 null application/json; charset=utf-8 3577.6802ms
[2025-02-07 08:44:21 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 08:44:21 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 17.5289ms
[2025-02-07 08:44:21 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 08:44:21 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 0.5207ms
[2025-02-07 08:44:21 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 08:44:21 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 17.2937ms
[2025-02-07 08:44:21 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 08:44:21 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 1.9187ms
[2025-02-07 08:44:21 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 08:44:21 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 16.4162ms
[2025-02-07 08:45:06 ] Starting the application...
[2025-02-07 08:45:09 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 08:45:10 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 08:45:10 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 08:45:10 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 08:45:10 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 08:45:10 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce_Net\Project_Net\Car-Agency\server\src
[2025-02-07 08:45:10 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 08:45:11 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 249.9656ms
[2025-02-07 08:45:11 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 08:45:11 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 3.4038ms
[2025-02-07 08:45:11 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 08:45:11 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 08:45:11 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 15.2607ms
[2025-02-07 08:45:11 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 45.4696ms
[2025-02-07 08:45:11 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 08:45:11 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 35.5961ms
[2025-02-07 08:45:20 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 08:45:21 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 08:45:21 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 08:45:25 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (124ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 08:45:37 Server.Controllers.AuthController] An error occurred while executing the action.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.set_Position(Int64 value)
   at Server.Models.CarService.GenerateCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Services\CarService.cs:line 110
   at Server.Controllers.CarController.<>c__DisplayClass9_0.<<DownloadCertificate>b__0>d.MoveNext() in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Controllers\CarController.cs:line 110
--- End of stack trace from previous location ---
   at Server.Controllers.CarController.ExecuteAction(Func`1 action) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Controllers\CarController.cs:line 23
[2025-02-07 08:45:37 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing ObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-02-07 08:45:37 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 15350.7405ms
[2025-02-07 08:45:37 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 08:45:37 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 500 null application/json; charset=utf-8 17091.2085ms
[2025-02-07 08:45:45 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 08:45:45 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 08:45:45 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 08:45:45 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 08:45:45 Server.Controllers.AuthController] An error occurred while executing the action.
iText.Kernel.Exceptions.PdfException: PdfPages tree could be generated only once.
   at iText.Kernel.Pdf.PdfPagesTree.GenerateTree()
   at iText.Kernel.Pdf.PdfDocument.Close()
   at iText.Kernel.Pdf.PdfDocument.System.IDisposable.Dispose()
   at Server.Models.CarService.GenerateCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Services\CarService.cs:line 108
   at Server.Controllers.CarController.<>c__DisplayClass9_0.<<DownloadCertificate>b__0>d.MoveNext() in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Controllers\CarController.cs:line 110
--- End of stack trace from previous location ---
   at Server.Controllers.CarController.ExecuteAction(Func`1 action) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Controllers\CarController.cs:line 23
[2025-02-07 08:45:45 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing ObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-02-07 08:45:45 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 89.6421ms
[2025-02-07 08:45:45 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 08:45:45 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 500 null application/json; charset=utf-8 100.5098ms
[2025-02-07 08:46:29 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 08:46:29 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 16.2861ms
[2025-02-07 08:46:29 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 08:46:29 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 0.4224ms
[2025-02-07 08:46:29 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 08:46:29 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 08:46:29 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 1.503ms
[2025-02-07 08:46:29 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 31.6317ms
[2025-02-07 08:46:30 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 08:46:30 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 18.4998ms
[2025-02-07 08:46:36 ] Starting the application...
[2025-02-07 08:46:37 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 08:46:38 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 08:46:38 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 08:46:38 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 08:46:38 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 08:46:38 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce_Net\Project_Net\Car-Agency\server\src
[2025-02-07 08:46:38 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 08:46:39 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 283.4595ms
[2025-02-07 08:46:39 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 08:46:39 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 5.3125ms
[2025-02-07 08:46:39 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 08:46:39 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 08:46:39 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 16.475ms
[2025-02-07 08:46:39 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 64.2676ms
[2025-02-07 08:46:40 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 08:46:40 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 27.8387ms
[2025-02-07 08:46:41 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 08:46:41 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 7.9687ms
[2025-02-07 08:46:41 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 08:46:41 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 0.5984ms
[2025-02-07 08:46:41 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 08:46:41 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 08:46:41 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 1.011ms
[2025-02-07 08:46:41 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 21.3752ms
[2025-02-07 08:46:42 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 08:46:42 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 17.8761ms
[2025-02-07 08:46:56 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 08:46:56 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 08:46:56 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 08:46:59 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (91ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 08:47:00 Server.Controllers.AuthController] An error occurred while executing the action.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.set_Position(Int64 value)
   at Server.Models.CarService.GenerateCertificate(Int32 id)
   at Server.Controllers.CarController.<>c__DisplayClass9_0.<<DownloadCertificate>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Server.Controllers.CarController.ExecuteAction(Func`1 action)
[2025-02-07 08:47:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing ObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-02-07 08:47:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 3763.1617ms
[2025-02-07 08:47:00 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 08:47:00 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 500 null application/json; charset=utf-8 3866.9889ms
[2025-02-07 08:47:06 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 08:47:06 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 08:47:06 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 08:47:06 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 08:47:06 Server.Controllers.AuthController] An error occurred while executing the action.
iText.Kernel.Exceptions.PdfException: PdfPages tree could be generated only once.
   at iText.Kernel.Pdf.PdfPagesTree.GenerateTree()
   at iText.Kernel.Pdf.PdfDocument.Close()
   at iText.Kernel.Pdf.PdfDocument.System.IDisposable.Dispose()
   at Server.Models.CarService.GenerateCertificate(Int32 id)
   at Server.Controllers.CarController.<>c__DisplayClass9_0.<<DownloadCertificate>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Server.Controllers.CarController.ExecuteAction(Func`1 action)
[2025-02-07 08:47:06 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing ObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-02-07 08:47:06 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 83.4391ms
[2025-02-07 08:47:06 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 08:47:06 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 500 null application/json; charset=utf-8 91.6394ms
[2025-02-07 08:47:29 ] Starting the application...
[2025-02-07 08:47:29 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 08:47:29 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 08:47:29 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 08:47:30 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 08:47:30 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 08:47:30 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce_Net\Project_Net\Car-Agency\server\src
[2025-02-07 08:47:30 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 08:47:30 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 273.1723ms
[2025-02-07 08:47:30 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 08:47:30 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 08:47:30 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 1.9868ms
[2025-02-07 08:47:30 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 08:47:30 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 26.2166ms
[2025-02-07 08:47:31 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 151.078ms
[2025-02-07 08:47:31 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 08:47:31 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 32.2346ms
[2025-02-07 08:47:50 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/api/Car/download/1 - null null
[2025-02-07 08:47:50 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 08:47:50 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 08:47:52 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (48ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 08:47:52 Server.Controllers.AuthController] An error occurred while executing the action.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.set_Position(Int64 value)
   at Server.Models.CarService.GenerateCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Services\CarService.cs:line 110
   at Server.Controllers.CarController.<>c__DisplayClass9_0.<<DownloadCertificate>b__0>d.MoveNext() in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Controllers\CarController.cs:line 110
--- End of stack trace from previous location ---
   at Server.Controllers.CarController.ExecuteAction(Func`1 action) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Controllers\CarController.cs:line 23
[2025-02-07 08:47:52 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing ObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-02-07 08:47:53 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 2590.091ms
[2025-02-07 08:47:53 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 08:47:53 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/api/Car/download/1 - 500 null application/json; charset=utf-8 2790.477ms
[2025-02-07 08:49:24 ] Starting the application...
[2025-02-07 08:49:25 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 08:49:25 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 08:49:25 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 08:49:25 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 08:49:25 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 08:49:25 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce_Net\Project_Net\Car-Agency\server\src
[2025-02-07 08:49:26 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 08:49:26 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 581.9913ms
[2025-02-07 08:49:27 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 08:49:27 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 08:49:27 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 1.9616ms
[2025-02-07 08:49:27 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 08:49:27 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 11.657ms
[2025-02-07 08:49:27 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 52.3386ms
[2025-02-07 08:49:27 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 08:49:27 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 25.2076ms
[2025-02-07 08:49:38 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 08:49:38 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 5.3345ms
[2025-02-07 08:49:38 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 08:49:38 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 08:49:38 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 0.5836ms
[2025-02-07 08:49:38 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 08:49:38 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 7.7231ms
[2025-02-07 08:49:38 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 39.1757ms
[2025-02-07 08:49:38 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 08:49:38 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 40.7505ms
[2025-02-07 08:49:46 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/api/Car/download/1 - null null
[2025-02-07 08:49:46 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 08:49:46 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 08:49:48 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (49ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 08:49:49 Server.Controllers.AuthController] An error occurred while executing the action.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.set_Position(Int64 value)
   at Server.Models.CarService.GenerateCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Services\CarService.cs:line 110
   at Server.Controllers.CarController.<>c__DisplayClass9_0.<<DownloadCertificate>b__0>d.MoveNext() in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Controllers\CarController.cs:line 110
--- End of stack trace from previous location ---
   at Server.Controllers.CarController.ExecuteAction(Func`1 action) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Controllers\CarController.cs:line 23
[2025-02-07 08:49:49 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing ObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-02-07 08:49:49 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 2679.8398ms
[2025-02-07 08:49:49 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 08:49:49 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/api/Car/download/1 - 500 null application/json; charset=utf-8 2820.9852ms
[2025-02-07 08:51:51 ] Starting the application...
[2025-02-07 08:51:54 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 08:51:55 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 08:51:55 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 08:51:55 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 08:51:55 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 08:51:55 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce_Net\Project_Net\Car-Agency\server\src
[2025-02-07 08:51:56 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 08:51:56 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 314.7664ms
[2025-02-07 08:51:56 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 08:51:56 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 2.1248ms
[2025-02-07 08:51:56 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 08:51:56 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 15.6403ms
[2025-02-07 08:51:56 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 08:51:57 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 56.2819ms
[2025-02-07 08:51:57 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 08:51:57 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 22.4104ms
[2025-02-07 08:52:03 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 08:52:05 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 08:52:05 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 08:52:09 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (168ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 08:52:24 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 19363.4379ms
[2025-02-07 08:52:24 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 08:52:24 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.set_Position(Int64 value)
   at Server.Models.CarService.GenerateCertificate(Int32 id)
   at Server.Controllers.CarController.DownloadCertificate(Int32 id)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext()
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 08:52:24 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 500 null text/plain; charset=utf-8 21746.041ms
[2025-02-07 08:52:40 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 08:52:40 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 08:52:40 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 08:52:40 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 08:52:40 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 91.9546ms
[2025-02-07 08:52:40 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 08:52:40 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
iText.Kernel.Exceptions.PdfException: PdfPages tree could be generated only once.
   at iText.Kernel.Pdf.PdfPagesTree.GenerateTree()
   at iText.Kernel.Pdf.PdfDocument.Close()
   at iText.Kernel.Pdf.PdfDocument.System.IDisposable.Dispose()
   at Server.Models.CarService.GenerateCertificate(Int32 id)
   at Server.Controllers.CarController.DownloadCertificate(Int32 id)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext()
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 08:52:40 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 500 null text/plain; charset=utf-8 100.3557ms
[2025-02-07 08:54:37 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 08:54:37 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 6.8606ms
[2025-02-07 08:54:37 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 08:54:37 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 0.6934ms
[2025-02-07 08:54:37 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 08:54:37 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 08:54:37 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 5.8062ms
[2025-02-07 08:54:37 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 21.4069ms
[2025-02-07 08:54:37 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 08:54:37 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 17.7479ms
[2025-02-07 08:54:44 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 08:54:44 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 6.3774ms
[2025-02-07 08:54:44 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 08:54:44 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 0.4431ms
[2025-02-07 08:54:44 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 08:54:44 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 08:54:44 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 0.3617ms
[2025-02-07 08:54:44 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 63.0679ms
[2025-02-07 08:54:45 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 08:54:45 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 13.5022ms
[2025-02-07 08:56:31 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 08:56:31 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 7.3799ms
[2025-02-07 08:56:32 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 08:56:32 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 0.5861ms
[2025-02-07 08:56:32 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 08:56:32 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 20.0328ms
[2025-02-07 08:56:32 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 08:56:32 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 0.3672ms
[2025-02-07 08:56:33 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 08:56:33 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 13.3899ms
[2025-02-07 08:56:38 ] Starting the application...
[2025-02-07 08:56:40 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 08:56:40 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 08:56:40 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 08:56:40 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 08:56:40 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 08:56:40 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce_Net\Project_Net\Car-Agency\server\src
[2025-02-07 08:56:41 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 08:56:41 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 275.8947ms
[2025-02-07 08:56:41 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 08:56:41 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 1.989ms
[2025-02-07 08:56:41 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 08:56:41 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 08:56:41 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 13.0997ms
[2025-02-07 08:56:41 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 53.1449ms
[2025-02-07 08:56:41 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 08:56:41 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 27.4694ms
[2025-02-07 08:56:47 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 08:56:47 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 08:56:47 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 08:56:49 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (74ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 08:56:50 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 2597.6409ms
[2025-02-07 08:56:50 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 08:56:50 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
iText.IO.Exceptions.IOException: I/O exception.
 ---> System.IO.FileNotFoundException: Could not find file 'F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Pdf\QRCode.png'.
File name: 'F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Pdf\QRCode.png'
   at Microsoft.Win32.SafeHandles.SafeFileHandle.CreateFile(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options)
   at Microsoft.Win32.SafeHandles.SafeFileHandle.Open(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.Strategies.OSFileStreamStrategy..ctor(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.Strategies.FileStreamHelpers.ChooseStrategyCore(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access)
   at iText.IO.Util.UrlUtil.OpenStream(Uri url)
   at iText.IO.Image.ImageTypeDetector.ReadImageType(Uri source)
   --- End of inner exception stack trace ---
   at iText.IO.Image.ImageTypeDetector.ReadImageType(Uri source)
   at iText.IO.Image.ImageTypeDetector.DetectImageType(Uri source)
   at iText.IO.Image.ImageDataFactory.CreateImageInstance(Uri source, Boolean recoverImage)
   at iText.IO.Image.ImageDataFactory.Create(Uri url, Boolean recoverImage)
   at iText.IO.Image.ImageDataFactory.Create(String filename, Boolean recoverImage)
   at iText.IO.Image.ImageDataFactory.Create(String filename)
   at Server.Models.CarService.AddImage(Document document, String path, Single x, Single y, Single width, Single height) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Services\CarService.cs:line 172
   at Server.Models.CarService.GenerateCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Services\CarService.cs:line 103
   at Server.Controllers.CarController.DownloadCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Controllers\CarController.cs:line 110
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 08:56:50 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 500 null text/plain; charset=utf-8 2891.5133ms
[2025-02-07 08:59:33 ] Starting the application...
[2025-02-07 08:59:33 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 08:59:34 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 08:59:34 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 08:59:34 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 08:59:34 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 08:59:34 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce_Net\Project_Net\Car-Agency\server\src
[2025-02-07 08:59:34 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 08:59:35 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 240.1663ms
[2025-02-07 08:59:35 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 08:59:35 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 17.7636ms
[2025-02-07 08:59:35 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 08:59:35 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 08:59:35 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 12.5462ms
[2025-02-07 08:59:35 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 37.4559ms
[2025-02-07 08:59:35 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 08:59:35 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 25.3942ms
[2025-02-07 09:00:02 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 09:00:02 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 09:00:02 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 09:00:04 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (63ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 09:00:05 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 2382.3636ms
[2025-02-07 09:00:05 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 09:00:05 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
iText.IO.Exceptions.IOException: I/O exception.
 ---> System.IO.FileNotFoundException: Could not find file 'F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Pdf\QRCode.png'.
File name: 'F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Pdf\QRCode.png'
   at Microsoft.Win32.SafeHandles.SafeFileHandle.CreateFile(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options)
   at Microsoft.Win32.SafeHandles.SafeFileHandle.Open(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.Strategies.OSFileStreamStrategy..ctor(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.Strategies.FileStreamHelpers.ChooseStrategyCore(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access)
   at iText.IO.Util.UrlUtil.OpenStream(Uri url)
   at iText.IO.Image.ImageTypeDetector.ReadImageType(Uri source)
   --- End of inner exception stack trace ---
   at iText.IO.Image.ImageTypeDetector.ReadImageType(Uri source)
   at iText.IO.Image.ImageTypeDetector.DetectImageType(Uri source)
   at iText.IO.Image.ImageDataFactory.CreateImageInstance(Uri source, Boolean recoverImage)
   at iText.IO.Image.ImageDataFactory.Create(Uri url, Boolean recoverImage)
   at iText.IO.Image.ImageDataFactory.Create(String filename, Boolean recoverImage)
   at iText.IO.Image.ImageDataFactory.Create(String filename)
   at Server.Models.CarService.AddImage(Document document, String path, Single x, Single y, Single width, Single height) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Services\CarService.cs:line 173
   at Server.Models.CarService.GenerateCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Services\CarService.cs:line 104
   at Server.Controllers.CarController.DownloadCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Controllers\CarController.cs:line 110
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 09:00:05 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 500 null text/plain; charset=utf-8 2656.236ms
[2025-02-07 09:02:08 ] Starting the application...
[2025-02-07 09:02:09 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 09:02:09 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 09:02:09 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 09:02:09 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 09:02:09 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 09:02:09 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce_Net\Project_Net\Car-Agency\server\src
[2025-02-07 09:02:10 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 09:02:10 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 204.8786ms
[2025-02-07 09:02:10 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 09:02:10 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 2.4633ms
[2025-02-07 09:02:10 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 09:02:10 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 09:02:10 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 14.3528ms
[2025-02-07 09:02:10 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 48.1196ms
[2025-02-07 09:02:10 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 09:02:10 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 20.0331ms
[2025-02-07 09:02:15 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 09:02:15 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 09:02:15 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 09:02:17 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (54ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 09:02:18 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 2593.5186ms
[2025-02-07 09:02:18 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 09:02:18 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
iText.IO.Exceptions.IOException: I/O exception.
 ---> System.IO.FileNotFoundException: Could not find file 'F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Pdf\QRCode.png'.
File name: 'F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Pdf\QRCode.png'
   at Microsoft.Win32.SafeHandles.SafeFileHandle.CreateFile(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options)
   at Microsoft.Win32.SafeHandles.SafeFileHandle.Open(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.Strategies.OSFileStreamStrategy..ctor(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.Strategies.FileStreamHelpers.ChooseStrategyCore(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access)
   at iText.IO.Util.UrlUtil.OpenStream(Uri url)
   at iText.IO.Image.ImageTypeDetector.ReadImageType(Uri source)
   --- End of inner exception stack trace ---
   at iText.IO.Image.ImageTypeDetector.ReadImageType(Uri source)
   at iText.IO.Image.ImageTypeDetector.DetectImageType(Uri source)
   at iText.IO.Image.ImageDataFactory.CreateImageInstance(Uri source, Boolean recoverImage)
   at iText.IO.Image.ImageDataFactory.Create(Uri url, Boolean recoverImage)
   at iText.IO.Image.ImageDataFactory.Create(String filename, Boolean recoverImage)
   at iText.IO.Image.ImageDataFactory.Create(String filename)
   at Server.Models.CarService.AddImage(Document document, String path, Single x, Single y, Single width, Single height) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Services\CarService.cs:line 173
   at Server.Models.CarService.GenerateCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Services\CarService.cs:line 104
   at Server.Controllers.CarController.DownloadCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Controllers\CarController.cs:line 110
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 09:02:18 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 500 null text/plain; charset=utf-8 2843.3881ms
[2025-02-07 09:02:32 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 09:02:32 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 5.9505ms
[2025-02-07 09:02:32 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 09:02:32 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 0.7514ms
[2025-02-07 09:02:32 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 09:02:32 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 6.9607ms
[2025-02-07 09:02:33 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 09:02:33 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 0.8675ms
[2025-02-07 09:02:33 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 09:02:33 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 14.9061ms
[2025-02-07 09:03:58 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 09:03:58 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 09:03:58 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 09:03:58 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 09:03:58 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 143.6001ms
[2025-02-07 09:03:58 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 09:03:58 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
iText.IO.Exceptions.IOException: I/O exception.
 ---> System.IO.FileNotFoundException: Could not find file 'F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Pdf\QRCode.png'.
File name: 'F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Pdf\QRCode.png'
   at Microsoft.Win32.SafeHandles.SafeFileHandle.CreateFile(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options)
   at Microsoft.Win32.SafeHandles.SafeFileHandle.Open(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.Strategies.OSFileStreamStrategy..ctor(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.Strategies.FileStreamHelpers.ChooseStrategyCore(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access)
   at iText.IO.Util.UrlUtil.OpenStream(Uri url)
   at iText.IO.Image.ImageTypeDetector.ReadImageType(Uri source)
   --- End of inner exception stack trace ---
   at iText.IO.Image.ImageTypeDetector.ReadImageType(Uri source)
   at iText.IO.Image.ImageTypeDetector.DetectImageType(Uri source)
   at iText.IO.Image.ImageDataFactory.CreateImageInstance(Uri source, Boolean recoverImage)
   at iText.IO.Image.ImageDataFactory.Create(Uri url, Boolean recoverImage)
   at iText.IO.Image.ImageDataFactory.Create(String filename, Boolean recoverImage)
   at iText.IO.Image.ImageDataFactory.Create(String filename)
   at Server.Models.CarService.AddImage(Document document, String path, Single x, Single y, Single width, Single height)
   at Server.Models.CarService.GenerateCertificate(Int32 id)
   at Server.Controllers.CarController.DownloadCertificate(Int32 id)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext()
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 09:03:58 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 500 null text/plain; charset=utf-8 173.1552ms
[2025-02-07 09:04:01 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 09:04:01 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 0.8752ms
[2025-02-07 09:04:01 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 09:04:01 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 13.9463ms
[2025-02-07 09:04:08 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 09:04:08 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 2.1054ms
[2025-02-07 09:04:15 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/api/Car/download/1 - null null
[2025-02-07 09:04:15 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 09:04:15 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 09:04:15 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 09:04:16 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 183.8421ms
[2025-02-07 09:04:16 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 09:04:16 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
iText.IO.Exceptions.IOException: I/O exception.
 ---> System.IO.FileNotFoundException: Could not find file 'F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Pdf\QRCode.png'.
File name: 'F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Pdf\QRCode.png'
   at Microsoft.Win32.SafeHandles.SafeFileHandle.CreateFile(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options)
   at Microsoft.Win32.SafeHandles.SafeFileHandle.Open(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.Strategies.OSFileStreamStrategy..ctor(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.Strategies.FileStreamHelpers.ChooseStrategyCore(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access)
   at iText.IO.Util.UrlUtil.OpenStream(Uri url)
   at iText.IO.Image.ImageTypeDetector.ReadImageType(Uri source)
   --- End of inner exception stack trace ---
   at iText.IO.Image.ImageTypeDetector.ReadImageType(Uri source)
   at iText.IO.Image.ImageTypeDetector.DetectImageType(Uri source)
   at iText.IO.Image.ImageDataFactory.CreateImageInstance(Uri source, Boolean recoverImage)
   at iText.IO.Image.ImageDataFactory.Create(Uri url, Boolean recoverImage)
   at iText.IO.Image.ImageDataFactory.Create(String filename, Boolean recoverImage)
   at iText.IO.Image.ImageDataFactory.Create(String filename)
   at Server.Models.CarService.AddImage(Document document, String path, Single x, Single y, Single width, Single height)
   at Server.Models.CarService.GenerateCertificate(Int32 id)
   at Server.Controllers.CarController.DownloadCertificate(Int32 id)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext()
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 09:04:16 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/api/Car/download/1 - 500 null text/plain; charset=utf-8 205.8365ms
[2025-02-07 09:05:06 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/Car/download/1 - null null
[2025-02-07 09:05:06 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 09:05:06 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 09:05:06 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 09:05:06 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 27.8846ms
[2025-02-07 09:05:06 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 09:05:06 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
iText.IO.Exceptions.IOException: I/O exception.
 ---> System.IO.FileNotFoundException: Could not find file 'F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Pdf\QRCode.png'.
File name: 'F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Pdf\QRCode.png'
   at Microsoft.Win32.SafeHandles.SafeFileHandle.CreateFile(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options)
   at Microsoft.Win32.SafeHandles.SafeFileHandle.Open(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.Strategies.OSFileStreamStrategy..ctor(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.Strategies.FileStreamHelpers.ChooseStrategyCore(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access)
   at iText.IO.Util.UrlUtil.OpenStream(Uri url)
   at iText.IO.Image.ImageTypeDetector.ReadImageType(Uri source)
   --- End of inner exception stack trace ---
   at iText.IO.Image.ImageTypeDetector.ReadImageType(Uri source)
   at iText.IO.Image.ImageTypeDetector.DetectImageType(Uri source)
   at iText.IO.Image.ImageDataFactory.CreateImageInstance(Uri source, Boolean recoverImage)
   at iText.IO.Image.ImageDataFactory.Create(Uri url, Boolean recoverImage)
   at iText.IO.Image.ImageDataFactory.Create(String filename, Boolean recoverImage)
   at iText.IO.Image.ImageDataFactory.Create(String filename)
   at Server.Models.CarService.AddImage(Document document, String path, Single x, Single y, Single width, Single height)
   at Server.Models.CarService.GenerateCertificate(Int32 id)
   at Server.Controllers.CarController.DownloadCertificate(Int32 id)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext()
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 09:05:06 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/Car/download/1 - 500 null text/plain; charset=utf-8 31.2241ms
[2025-02-07 09:05:16 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/count - null null
[2025-02-07 09:05:17 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.Count (Server)'
[2025-02-07 09:05:17 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Count", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Count() on controller Server.Controllers.CarController (Server).
[2025-02-07 09:05:17 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
[2025-02-07 09:05:17 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] No output formatter was found for content types '["application/json; charset=utf-8","application/json; charset=utf-8"]' to write the response.
[2025-02-07 09:05:17 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.Count (Server) in 43.74ms
[2025-02-07 09:05:17 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.Count (Server)'
[2025-02-07 09:05:17 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ThrowResponseAlreadyStartedException(String value)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsyncCore(ActionContext context, ObjectResult result, Type objectType, Object value)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsync(ActionContext context, ObjectResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Server.Middlewares.AuthenticationMiddleware.InvokeAsync(HttpContext context, RequestDelegate next)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext()
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 09:05:17 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] The response has already started, the error page middleware will not be executed.
[2025-02-07 09:05:17 Microsoft.AspNetCore.Server.Kestrel] Connection id "0HNA78LBKUKOE", Request id "0HNA78LBKUKOE:00000002": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ThrowResponseAlreadyStartedException(String value)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsyncCore(ActionContext context, ObjectResult result, Type objectType, Object value)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsync(ActionContext context, ObjectResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Server.Middlewares.AuthenticationMiddleware.InvokeAsync(HttpContext context, RequestDelegate next)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext()
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.WebTools.BrowserLink.Net.BrowserLinkMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
[2025-02-07 09:05:17 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/count - 401 null application/json; charset=utf-8 304.6996ms
[2025-02-07 09:05:23 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST https://localhost:7299/api/auth/login - application/json 48
[2025-02-07 09:05:23 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 09:05:23 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Server.Dtos.UserDto) on controller Server.Controllers.AuthController (Server).
[2025-02-07 09:05:23 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (30ms) [Parameters=[@__ToLower_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Password], [u].[Role]
FROM [Users] AS [u]
WHERE LOWER([u].[Email]) = @__ToLower_0 AND [u].[Password] = @__password_1
[2025-02-07 09:05:23 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-02-07 09:05:23 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.AuthController.Login (Server) in 263.4949ms
[2025-02-07 09:05:23 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 09:05:23 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST https://localhost:7299/api/auth/login - 200 null application/json; charset=utf-8 269.8035ms
[2025-02-07 09:05:28 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/count - null null
[2025-02-07 09:05:28 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.Count (Server)'
[2025-02-07 09:05:28 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Count", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Count() on controller Server.Controllers.CarController (Server).
[2025-02-07 09:05:28 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
[2025-02-07 09:05:28 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-02-07 09:05:28 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.Count (Server) in 14.658ms
[2025-02-07 09:05:28 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.Count (Server)'
[2025-02-07 09:05:28 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/count - 200 null application/json; charset=utf-8 31.6332ms
[2025-02-07 09:05:36 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 09:05:36 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 09:05:36 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 09:05:36 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 09:05:36 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 21.9857ms
[2025-02-07 09:05:36 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 09:05:36 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
iText.IO.Exceptions.IOException: I/O exception.
 ---> System.IO.FileNotFoundException: Could not find file 'F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Pdf\QRCode.png'.
File name: 'F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Pdf\QRCode.png'
   at Microsoft.Win32.SafeHandles.SafeFileHandle.CreateFile(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options)
   at Microsoft.Win32.SafeHandles.SafeFileHandle.Open(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.Strategies.OSFileStreamStrategy..ctor(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.Strategies.FileStreamHelpers.ChooseStrategyCore(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access)
   at iText.IO.Util.UrlUtil.OpenStream(Uri url)
   at iText.IO.Image.ImageTypeDetector.ReadImageType(Uri source)
   --- End of inner exception stack trace ---
   at iText.IO.Image.ImageTypeDetector.ReadImageType(Uri source)
   at iText.IO.Image.ImageTypeDetector.DetectImageType(Uri source)
   at iText.IO.Image.ImageDataFactory.CreateImageInstance(Uri source, Boolean recoverImage)
   at iText.IO.Image.ImageDataFactory.Create(Uri url, Boolean recoverImage)
   at iText.IO.Image.ImageDataFactory.Create(String filename, Boolean recoverImage)
   at iText.IO.Image.ImageDataFactory.Create(String filename)
   at Server.Models.CarService.AddImage(Document document, String path, Single x, Single y, Single width, Single height)
   at Server.Models.CarService.GenerateCertificate(Int32 id)
   at Server.Controllers.CarController.DownloadCertificate(Int32 id)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext()
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 09:05:36 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 500 null text/plain; charset=utf-8 26.413ms
[2025-02-07 09:06:32 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/api/Car/download/1 - null null
[2025-02-07 09:06:32 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 09:06:32 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 09:06:32 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 09:06:32 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 37.0354ms
[2025-02-07 09:06:32 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 09:06:32 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
iText.IO.Exceptions.IOException: I/O exception.
 ---> System.IO.FileNotFoundException: Could not find file 'F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Pdf\QRCode.png'.
File name: 'F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Pdf\QRCode.png'
   at Microsoft.Win32.SafeHandles.SafeFileHandle.CreateFile(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options)
   at Microsoft.Win32.SafeHandles.SafeFileHandle.Open(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.Strategies.OSFileStreamStrategy..ctor(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.Strategies.FileStreamHelpers.ChooseStrategyCore(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access)
   at iText.IO.Util.UrlUtil.OpenStream(Uri url)
   at iText.IO.Image.ImageTypeDetector.ReadImageType(Uri source)
   --- End of inner exception stack trace ---
   at iText.IO.Image.ImageTypeDetector.ReadImageType(Uri source)
   at iText.IO.Image.ImageTypeDetector.DetectImageType(Uri source)
   at iText.IO.Image.ImageDataFactory.CreateImageInstance(Uri source, Boolean recoverImage)
   at iText.IO.Image.ImageDataFactory.Create(Uri url, Boolean recoverImage)
   at iText.IO.Image.ImageDataFactory.Create(String filename, Boolean recoverImage)
   at iText.IO.Image.ImageDataFactory.Create(String filename)
   at Server.Models.CarService.AddImage(Document document, String path, Single x, Single y, Single width, Single height)
   at Server.Models.CarService.GenerateCertificate(Int32 id)
   at Server.Controllers.CarController.DownloadCertificate(Int32 id)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext()
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 09:06:32 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/api/Car/download/1 - 500 null text/plain; charset=utf-8 46.6684ms
[2025-02-07 09:06:33 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/api/Car/download/1 - null null
[2025-02-07 09:06:33 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 09:06:33 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 09:06:33 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (14ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 09:06:33 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 48.9213ms
[2025-02-07 09:06:33 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 09:06:33 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
iText.IO.Exceptions.IOException: I/O exception.
 ---> System.IO.FileNotFoundException: Could not find file 'F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Pdf\QRCode.png'.
File name: 'F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Pdf\QRCode.png'
   at Microsoft.Win32.SafeHandles.SafeFileHandle.CreateFile(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options)
   at Microsoft.Win32.SafeHandles.SafeFileHandle.Open(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.Strategies.OSFileStreamStrategy..ctor(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.Strategies.FileStreamHelpers.ChooseStrategyCore(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access)
   at iText.IO.Util.UrlUtil.OpenStream(Uri url)
   at iText.IO.Image.ImageTypeDetector.ReadImageType(Uri source)
   --- End of inner exception stack trace ---
   at iText.IO.Image.ImageTypeDetector.ReadImageType(Uri source)
   at iText.IO.Image.ImageTypeDetector.DetectImageType(Uri source)
   at iText.IO.Image.ImageDataFactory.CreateImageInstance(Uri source, Boolean recoverImage)
   at iText.IO.Image.ImageDataFactory.Create(Uri url, Boolean recoverImage)
   at iText.IO.Image.ImageDataFactory.Create(String filename, Boolean recoverImage)
   at iText.IO.Image.ImageDataFactory.Create(String filename)
   at Server.Models.CarService.AddImage(Document document, String path, Single x, Single y, Single width, Single height)
   at Server.Models.CarService.GenerateCertificate(Int32 id)
   at Server.Controllers.CarController.DownloadCertificate(Int32 id)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext()
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 09:06:33 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/api/Car/download/1 - 500 null text/plain; charset=utf-8 56.2876ms
[2025-02-07 09:07:25 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 09:07:25 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 09:07:25 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 09:07:25 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (29ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 09:07:25 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 52.2291ms
[2025-02-07 09:07:25 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 09:07:25 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
iText.IO.Exceptions.IOException: I/O exception.
 ---> System.IO.FileNotFoundException: Could not find file 'F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Pdf\QRCode.png'.
File name: 'F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Pdf\QRCode.png'
   at Microsoft.Win32.SafeHandles.SafeFileHandle.CreateFile(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options)
   at Microsoft.Win32.SafeHandles.SafeFileHandle.Open(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.Strategies.OSFileStreamStrategy..ctor(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.Strategies.FileStreamHelpers.ChooseStrategyCore(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access)
   at iText.IO.Util.UrlUtil.OpenStream(Uri url)
   at iText.IO.Image.ImageTypeDetector.ReadImageType(Uri source)
   --- End of inner exception stack trace ---
   at iText.IO.Image.ImageTypeDetector.ReadImageType(Uri source)
   at iText.IO.Image.ImageTypeDetector.DetectImageType(Uri source)
   at iText.IO.Image.ImageDataFactory.CreateImageInstance(Uri source, Boolean recoverImage)
   at iText.IO.Image.ImageDataFactory.Create(Uri url, Boolean recoverImage)
   at iText.IO.Image.ImageDataFactory.Create(String filename, Boolean recoverImage)
   at iText.IO.Image.ImageDataFactory.Create(String filename)
   at Server.Models.CarService.AddImage(Document document, String path, Single x, Single y, Single width, Single height)
   at Server.Models.CarService.GenerateCertificate(Int32 id)
   at Server.Controllers.CarController.DownloadCertificate(Int32 id)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext()
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 09:07:25 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 500 null text/plain; charset=utf-8 56.8196ms
[2025-02-07 09:07:40 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 09:07:40 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 09:07:40 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 09:07:40 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 09:07:40 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 25.8392ms
[2025-02-07 09:07:40 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 09:07:40 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
iText.IO.Exceptions.IOException: I/O exception.
 ---> System.IO.FileNotFoundException: Could not find file 'F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Pdf\QRCode.png'.
File name: 'F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Pdf\QRCode.png'
   at Microsoft.Win32.SafeHandles.SafeFileHandle.CreateFile(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options)
   at Microsoft.Win32.SafeHandles.SafeFileHandle.Open(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.Strategies.OSFileStreamStrategy..ctor(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.Strategies.FileStreamHelpers.ChooseStrategyCore(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access)
   at iText.IO.Util.UrlUtil.OpenStream(Uri url)
   at iText.IO.Image.ImageTypeDetector.ReadImageType(Uri source)
   --- End of inner exception stack trace ---
   at iText.IO.Image.ImageTypeDetector.ReadImageType(Uri source)
   at iText.IO.Image.ImageTypeDetector.DetectImageType(Uri source)
   at iText.IO.Image.ImageDataFactory.CreateImageInstance(Uri source, Boolean recoverImage)
   at iText.IO.Image.ImageDataFactory.Create(Uri url, Boolean recoverImage)
   at iText.IO.Image.ImageDataFactory.Create(String filename, Boolean recoverImage)
   at iText.IO.Image.ImageDataFactory.Create(String filename)
   at Server.Models.CarService.AddImage(Document document, String path, Single x, Single y, Single width, Single height)
   at Server.Models.CarService.GenerateCertificate(Int32 id)
   at Server.Controllers.CarController.DownloadCertificate(Int32 id)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext()
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 09:07:40 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 500 null text/plain; charset=utf-8 30.3227ms
[2025-02-07 09:07:43 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 09:07:43 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 09:07:43 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 09:07:43 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 09:07:43 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 27.6764ms
[2025-02-07 09:07:43 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 09:07:43 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
iText.IO.Exceptions.IOException: I/O exception.
 ---> System.IO.FileNotFoundException: Could not find file 'F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Pdf\QRCode.png'.
File name: 'F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Pdf\QRCode.png'
   at Microsoft.Win32.SafeHandles.SafeFileHandle.CreateFile(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options)
   at Microsoft.Win32.SafeHandles.SafeFileHandle.Open(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.Strategies.OSFileStreamStrategy..ctor(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.Strategies.FileStreamHelpers.ChooseStrategyCore(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access)
   at iText.IO.Util.UrlUtil.OpenStream(Uri url)
   at iText.IO.Image.ImageTypeDetector.ReadImageType(Uri source)
   --- End of inner exception stack trace ---
   at iText.IO.Image.ImageTypeDetector.ReadImageType(Uri source)
   at iText.IO.Image.ImageTypeDetector.DetectImageType(Uri source)
   at iText.IO.Image.ImageDataFactory.CreateImageInstance(Uri source, Boolean recoverImage)
   at iText.IO.Image.ImageDataFactory.Create(Uri url, Boolean recoverImage)
   at iText.IO.Image.ImageDataFactory.Create(String filename, Boolean recoverImage)
   at iText.IO.Image.ImageDataFactory.Create(String filename)
   at Server.Models.CarService.AddImage(Document document, String path, Single x, Single y, Single width, Single height)
   at Server.Models.CarService.GenerateCertificate(Int32 id)
   at Server.Controllers.CarController.DownloadCertificate(Int32 id)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext()
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 09:07:43 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 500 null text/plain; charset=utf-8 33.2201ms
[2025-02-07 09:15:39 ] Starting the application...
[2025-02-07 09:15:43 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 09:15:43 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 09:15:43 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 09:15:44 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 09:15:44 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 09:15:44 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce_Net\Project_Net\Car-Agency\server\src
[2025-02-07 09:15:44 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 09:15:44 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 357.2836ms
[2025-02-07 09:15:44 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 09:15:44 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 3.5576ms
[2025-02-07 09:15:44 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 09:15:44 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 09:15:44 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 21.1583ms
[2025-02-07 09:15:44 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 60.6401ms
[2025-02-07 09:15:45 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 09:15:45 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 23.215ms
[2025-02-07 09:16:01 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 09:16:03 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 09:16:03 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 09:16:07 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (139ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 09:16:19 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 15490.9554ms
[2025-02-07 09:16:19 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 09:16:19 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.set_Position(Int64 value)
   at Server.Models.CarService.GenerateCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Services\CarService.cs:line 112
   at Server.Controllers.CarController.DownloadCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Controllers\CarController.cs:line 110
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 09:16:19 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 500 null text/plain; charset=utf-8 17557.3829ms
[2025-02-07 09:18:20 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 09:18:20 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 10.8155ms
[2025-02-07 09:18:22 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 09:18:22 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 1.2524ms
[2025-02-07 09:18:22 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 09:18:22 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 09:18:22 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 8.9968ms
[2025-02-07 09:18:22 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 31.1645ms
[2025-02-07 09:18:47 ] Starting the application...
[2025-02-07 09:18:47 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 09:18:47 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 09:18:47 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 09:18:48 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 09:18:48 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 09:18:48 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce_Net\Project_Net\Car-Agency\server\src
[2025-02-07 09:18:48 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 09:18:48 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 217.9167ms
[2025-02-07 09:18:48 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 09:18:48 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 09:18:48 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 09:18:48 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 2.0758ms
[2025-02-07 09:18:48 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 13.5216ms
[2025-02-07 09:18:48 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 48.0296ms
[2025-02-07 09:18:49 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 09:18:49 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 24.2946ms
[2025-02-07 09:18:56 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 09:18:56 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 09:18:57 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 09:18:59 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (65ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 09:19:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 3291.7636ms
[2025-02-07 09:19:00 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 09:19:00 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.set_Position(Int64 value)
   at Server.Models.CarService.GenerateCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Services\CarService.cs:line 114
   at Server.Controllers.CarController.DownloadCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Controllers\CarController.cs:line 110
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 09:19:00 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 500 null text/plain; charset=utf-8 3768.3961ms
[2025-02-07 09:19:05 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 09:19:05 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 09:19:05 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 09:19:05 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 09:19:05 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 77.6205ms
[2025-02-07 09:19:05 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 09:19:05 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
iText.Kernel.Exceptions.PdfException: Pdf indirect object belongs to other PDF document. Copy object to current pdf document.
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfIndirectReference indirectReference)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfWriter.WriteToBody(PdfObject pdfObj)
   at iText.Kernel.Pdf.PdfWriter.FlushObject(PdfObject pdfObject, Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfDocument.FlushObject(PdfObject pdfObject, Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfObject.Flush(Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfObject.Flush()
   at iText.Kernel.Pdf.PdfObjectWrapper`1.Flush()
   at iText.Kernel.Pdf.PdfPage.Flush(Boolean flushResourcesContentStreams)
   at iText.Kernel.Pdf.PdfPage.Flush()
   at iText.Kernel.Pdf.PdfDocument.Close()
   at iText.Layout.Document.Close()
   at Server.Models.CarService.GenerateCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Services\CarService.cs:line 110
   at Server.Controllers.CarController.DownloadCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Controllers\CarController.cs:line 110
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 09:19:05 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 500 null text/plain; charset=utf-8 89.2378ms
[2025-02-07 09:19:11 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 09:19:11 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 09:19:11 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 09:19:11 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 09:19:11 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 161.8022ms
[2025-02-07 09:19:11 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 09:19:11 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
iText.Kernel.Exceptions.PdfException: Pdf indirect object belongs to other PDF document. Copy object to current pdf document.
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfIndirectReference indirectReference)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfWriter.WriteToBody(PdfObject pdfObj)
   at iText.Kernel.Pdf.PdfWriter.FlushObject(PdfObject pdfObject, Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfDocument.FlushObject(PdfObject pdfObject, Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfObject.Flush(Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfObject.Flush()
   at iText.Kernel.Pdf.PdfObjectWrapper`1.Flush()
   at iText.Kernel.Pdf.PdfPage.Flush(Boolean flushResourcesContentStreams)
   at iText.Kernel.Pdf.PdfPage.Flush()
   at iText.Kernel.Pdf.PdfDocument.Close()
   at iText.Layout.Document.Close()
   at Server.Models.CarService.GenerateCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Services\CarService.cs:line 110
   at Server.Controllers.CarController.DownloadCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Controllers\CarController.cs:line 110
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 09:19:11 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 500 null text/plain; charset=utf-8 167.6722ms
[2025-02-07 09:19:28 ] Starting the application...
[2025-02-07 09:19:28 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 09:19:28 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 09:19:28 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 09:19:28 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 09:19:28 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 09:19:28 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce_Net\Project_Net\Car-Agency\server\src
[2025-02-07 09:19:29 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 09:19:29 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 355.5274ms
[2025-02-07 09:19:29 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 09:19:29 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 2.6121ms
[2025-02-07 09:19:29 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 09:19:30 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 61.2656ms
[2025-02-07 09:19:30 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 09:19:30 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 11.1068ms
[2025-02-07 09:19:30 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 09:19:30 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 27.9453ms
[2025-02-07 09:19:59 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 09:19:59 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 09:19:59 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 09:20:02 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (64ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 09:20:03 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 3198.9889ms
[2025-02-07 09:20:03 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 09:20:03 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.set_Position(Int64 value)
   at Server.Models.CarService.GenerateCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Services\CarService.cs:line 114
   at Server.Controllers.CarController.DownloadCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Controllers\CarController.cs:line 110
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 09:20:03 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 500 null text/plain; charset=utf-8 3339.7265ms
[2025-02-07 09:21:17 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 09:21:17 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 8.9748ms
[2025-02-07 09:21:47 ] Starting the application...
[2025-02-07 09:21:47 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 09:21:48 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 09:21:48 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 09:21:48 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 09:21:48 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 09:21:48 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce_Net\Project_Net\Car-Agency\server\src
[2025-02-07 09:21:50 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 09:21:50 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 293.9021ms
[2025-02-07 09:21:51 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 09:21:51 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 09:21:51 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 2.3233ms
[2025-02-07 09:21:51 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 09:21:51 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 24.0136ms
[2025-02-07 09:21:51 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 95.7256ms
[2025-02-07 09:21:51 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 09:21:51 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 50.3619ms
[2025-02-07 09:21:57 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 09:21:57 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 09:21:57 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 09:22:00 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (105ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 09:22:07 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 10457.9294ms
[2025-02-07 09:22:07 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 09:22:07 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.set_Position(Int64 value)
   at Server.Models.CarService.GenerateCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Services\CarService.cs:line 114
   at Server.Controllers.CarController.DownloadCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Controllers\CarController.cs:line 107
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 09:22:08 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 500 null text/plain; charset=utf-8 11426.7115ms
[2025-02-07 09:22:23 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 09:22:23 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 09:22:23 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 09:22:28 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (2,181ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 09:22:28 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 4664.1222ms
[2025-02-07 09:22:28 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 09:22:28 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
iText.Kernel.Exceptions.PdfException: Pdf indirect object belongs to other PDF document. Copy object to current pdf document.
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfIndirectReference indirectReference)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfWriter.WriteToBody(PdfObject pdfObj)
   at iText.Kernel.Pdf.PdfWriter.FlushObject(PdfObject pdfObject, Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfDocument.FlushObject(PdfObject pdfObject, Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfObject.Flush(Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfObject.Flush()
   at iText.Kernel.Pdf.PdfObjectWrapper`1.Flush()
   at iText.Kernel.Pdf.PdfPage.Flush(Boolean flushResourcesContentStreams)
   at iText.Kernel.Pdf.PdfPage.Flush()
   at iText.Kernel.Pdf.PdfDocument.Close()
   at iText.Layout.Document.Close()
   at Server.Models.CarService.GenerateCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Services\CarService.cs:line 110
   at Server.Controllers.CarController.DownloadCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Controllers\CarController.cs:line 107
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 09:22:28 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 500 null text/plain; charset=utf-8 4882.9929ms
[2025-02-07 09:22:50 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 09:22:50 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 09:22:50 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 09:22:50 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 09:22:50 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 435.671ms
[2025-02-07 09:22:50 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 09:22:50 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
iText.Kernel.Exceptions.PdfException: Pdf indirect object belongs to other PDF document. Copy object to current pdf document.
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfIndirectReference indirectReference)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfWriter.WriteToBody(PdfObject pdfObj)
   at iText.Kernel.Pdf.PdfWriter.FlushObject(PdfObject pdfObject, Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfDocument.FlushObject(PdfObject pdfObject, Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfObject.Flush(Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfObject.Flush()
   at iText.Kernel.Pdf.PdfObjectWrapper`1.Flush()
   at iText.Kernel.Pdf.PdfPage.Flush(Boolean flushResourcesContentStreams)
   at iText.Kernel.Pdf.PdfPage.Flush()
   at iText.Kernel.Pdf.PdfDocument.Close()
   at iText.Layout.Document.Close()
   at Server.Models.CarService.GenerateCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Services\CarService.cs:line 110
   at Server.Controllers.CarController.DownloadCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Controllers\CarController.cs:line 107
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 09:22:50 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 500 null text/plain; charset=utf-8 443.1044ms
[2025-02-07 09:26:22 ] Starting the application...
[2025-02-07 09:26:24 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 09:26:25 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 09:26:25 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 09:26:25 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 09:26:25 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 09:26:25 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce_Net\Project_Net\Car-Agency\server\src
[2025-02-07 09:26:27 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 09:26:27 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 214.6359ms
[2025-02-07 09:26:27 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 09:26:27 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 5.1911ms
[2025-02-07 09:26:27 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 09:26:27 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 09:26:27 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 23.5102ms
[2025-02-07 09:26:27 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 96.7025ms
[2025-02-07 09:26:27 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 09:26:27 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 37.2955ms
[2025-02-07 09:26:30 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 09:26:32 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 09:26:32 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 09:26:36 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (144ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 09:26:47 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 15157.7494ms
[2025-02-07 09:26:47 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 09:26:47 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.set_Position(Int64 value)
   at Server.Models.CarService.GenerateCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Services\CarService.cs:line 109
   at Server.Controllers.CarController.DownloadCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Controllers\CarController.cs:line 122
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 09:26:47 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 500 null text/plain; charset=utf-8 16974.7158ms
[2025-02-07 09:27:08 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/api/Car/download/1 - null null
[2025-02-07 09:27:08 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 09:27:08 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 09:27:09 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (14ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 09:27:09 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 107.8878ms
[2025-02-07 09:27:09 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 09:27:09 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
iText.Kernel.Exceptions.PdfException: PdfPages tree could be generated only once.
   at iText.Kernel.Pdf.PdfPagesTree.GenerateTree()
   at iText.Kernel.Pdf.PdfDocument.Close()
   at iText.Kernel.Pdf.PdfDocument.System.IDisposable.Dispose()
   at Server.Models.CarService.GenerateCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Services\CarService.cs:line 107
   at Server.Controllers.CarController.DownloadCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Controllers\CarController.cs:line 122
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 09:27:09 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/api/Car/download/1 - 500 null text/plain; charset=utf-8 130.1734ms
[2025-02-07 09:27:15 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/api/Car/download/1 - null null
[2025-02-07 09:27:15 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 09:27:15 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 09:27:15 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 09:27:15 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 162.5057ms
[2025-02-07 09:27:15 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 09:27:15 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
iText.Kernel.Exceptions.PdfException: PdfPages tree could be generated only once.
   at iText.Kernel.Pdf.PdfPagesTree.GenerateTree()
   at iText.Kernel.Pdf.PdfDocument.Close()
   at iText.Kernel.Pdf.PdfDocument.System.IDisposable.Dispose()
   at Server.Models.CarService.GenerateCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Services\CarService.cs:line 107
   at Server.Controllers.CarController.DownloadCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Controllers\CarController.cs:line 122
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 09:27:15 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/api/Car/download/1 - 500 null text/plain; charset=utf-8 175.4812ms
[2025-02-07 09:27:19 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/api/Car/download/1 - null null
[2025-02-07 09:27:19 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 09:27:19 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 09:27:19 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 09:27:19 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 40.9022ms
[2025-02-07 09:27:19 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 09:27:19 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
iText.Kernel.Exceptions.PdfException: PdfPages tree could be generated only once.
   at iText.Kernel.Pdf.PdfPagesTree.GenerateTree()
   at iText.Kernel.Pdf.PdfDocument.Close()
   at iText.Kernel.Pdf.PdfDocument.System.IDisposable.Dispose()
   at Server.Models.CarService.GenerateCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Services\CarService.cs:line 107
   at Server.Controllers.CarController.DownloadCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Controllers\CarController.cs:line 122
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 09:27:19 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/api/Car/download/1 - 500 null text/plain; charset=utf-8 43.9275ms
[2025-02-07 09:27:19 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/api/Car/download/1 - null null
[2025-02-07 09:27:19 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 09:27:19 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 09:27:19 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 09:27:19 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 36.1564ms
[2025-02-07 09:27:19 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 09:27:19 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
iText.Kernel.Exceptions.PdfException: PdfPages tree could be generated only once.
   at iText.Kernel.Pdf.PdfPagesTree.GenerateTree()
   at iText.Kernel.Pdf.PdfDocument.Close()
   at iText.Kernel.Pdf.PdfDocument.System.IDisposable.Dispose()
   at Server.Models.CarService.GenerateCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Services\CarService.cs:line 107
   at Server.Controllers.CarController.DownloadCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Controllers\CarController.cs:line 122
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 09:27:19 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/api/Car/download/1 - 500 null text/plain; charset=utf-8 45.3356ms
[2025-02-07 09:29:38 ] Starting the application...
[2025-02-07 09:29:39 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 09:29:39 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 09:29:39 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 09:29:39 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 09:29:39 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 09:29:39 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce_Net\Project_Net\Car-Agency\server\src
[2025-02-07 09:29:40 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 09:29:40 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 305.3753ms
[2025-02-07 09:29:40 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 09:29:40 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 09:29:40 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 09:29:40 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 2.8934ms
[2025-02-07 09:29:40 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 41.2225ms
[2025-02-07 09:29:40 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 77.7585ms
[2025-02-07 09:29:40 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 09:29:40 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 37.1806ms
[2025-02-07 09:29:49 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 09:29:49 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 09:29:49 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 09:29:51 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (65ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 09:29:52 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 2787.2239ms
[2025-02-07 09:29:52 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 09:29:52 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.set_Position(Int64 value)
   at Server.Models.CarService.GenerateCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Services\CarService.cs:line 108
   at Server.Controllers.CarController.DownloadCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Controllers\CarController.cs:line 122
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 09:29:52 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 500 null text/plain; charset=utf-8 3133.066ms
[2025-02-07 09:33:21 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 09:33:21 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 6.4521ms
[2025-02-07 09:33:21 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 09:33:21 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 0.5843ms
[2025-02-07 09:33:21 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 09:33:21 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 33.3514ms
[2025-02-07 09:33:21 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 09:33:21 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 0.9967ms
[2025-02-07 09:33:21 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 09:33:21 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 16.462ms
[2025-02-07 09:33:43 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 09:33:43 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 14.1928ms
[2025-02-07 09:33:43 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 09:33:43 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 0.4799ms
[2025-02-07 09:33:43 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 09:33:43 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 6.9697ms
[2025-02-07 09:33:43 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 09:33:43 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 0.5236ms
[2025-02-07 09:33:44 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 09:33:44 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 12.6427ms
[2025-02-07 09:33:51 ] Starting the application...
[2025-02-07 09:33:52 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 09:33:52 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 09:33:52 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 09:33:52 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 09:33:52 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 09:33:52 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce_Net\Project_Net\Car-Agency\server\src
[2025-02-07 09:33:53 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 09:33:53 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 389.0975ms
[2025-02-07 09:33:53 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 09:33:53 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 2.0243ms
[2025-02-07 09:33:53 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 09:33:53 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 09:33:53 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 18.561ms
[2025-02-07 09:33:53 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 70.1925ms
[2025-02-07 09:33:53 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 09:33:53 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 25.858ms
[2025-02-07 09:34:13 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 09:34:13 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 09:34:13 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 09:34:15 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (54ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 09:34:16 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing ObjectResult, writing value of type 'System.String'.
[2025-02-07 09:34:16 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 3108.5758ms
[2025-02-07 09:34:16 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 09:34:16 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 500 null text/plain; charset=utf-8 3243.0048ms
[2025-02-07 09:34:51 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 09:34:51 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 6.4795ms
[2025-02-07 09:34:52 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 09:34:52 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 09:34:52 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 5.331ms
[2025-02-07 09:34:52 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 09:34:52 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 1.1766ms
[2025-02-07 09:34:52 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 26.3338ms
[2025-02-07 09:34:52 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 09:34:52 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 17.1918ms
[2025-02-07 09:35:22 ] Starting the application...
[2025-02-07 09:35:24 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 09:35:25 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 09:35:25 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 09:35:25 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 09:35:25 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 09:35:25 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce_Net\Project_Net\Car-Agency\server\src
[2025-02-07 09:35:29 ] Starting the application...
[2025-02-07 09:35:29 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 09:35:30 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 09:35:30 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 09:35:30 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 09:35:30 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 09:35:30 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce_Net\Project_Net\Car-Agency\server\src
[2025-02-07 09:35:31 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 09:35:31 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 394.7954ms
[2025-02-07 09:35:31 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 09:35:31 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 09:35:31 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 09:35:31 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 2.0132ms
[2025-02-07 09:35:31 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 29.2212ms
[2025-02-07 09:35:31 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 146.2636ms
[2025-02-07 09:35:32 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 09:35:32 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 36.836ms
[2025-02-07 09:35:36 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 09:35:38 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 09:35:38 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 09:35:42 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (119ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 09:35:54 Microsoft.AspNetCore.Mvc.Infrastructure.FileStreamResultExecutor] Executing FileStreamResult, sending file with download name 'certificate.pdf' ...
[2025-02-07 09:35:54 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 16044.0275ms
[2025-02-07 09:35:54 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 09:35:54 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.Read(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.MemoryStream.ReadAsync(Memory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.StreamCopyOperationInternal.CopyToAsync(Stream source, Stream destination, Nullable`1 count, Int32 bufferSize, CancellationToken cancel)
   at Microsoft.AspNetCore.Internal.FileResultHelper.WriteFileAsync(HttpContext context, Stream fileStream, RangeItemHeaderValue range, Int64 rangeLength)
   at Microsoft.AspNetCore.Internal.FileResultHelper.WriteFileAsync(HttpContext context, Stream fileStream, RangeItemHeaderValue range, Int64 rangeLength)
   at Microsoft.AspNetCore.Mvc.Infrastructure.FileResultExecutorBase.WriteFileAsync(HttpContext context, Stream fileStream, RangeItemHeaderValue range, Int64 rangeLength)
   at Microsoft.AspNetCore.Mvc.Infrastructure.FileStreamResultExecutor.ExecuteAsync(ActionContext context, FileStreamResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.FileStreamResultExecutor.ExecuteAsync(ActionContext context, FileStreamResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 09:35:54 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 500 null text/plain; charset=utf-8 18133.612ms
[2025-02-07 09:36:28 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 09:36:28 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 5.5263ms
[2025-02-07 09:36:28 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 09:36:28 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 0.6739ms
[2025-02-07 09:36:28 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 09:36:28 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 09:36:28 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 1.2565ms
[2025-02-07 09:36:28 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 22.8965ms
[2025-02-07 09:36:28 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 09:36:28 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 19.9003ms
[2025-02-07 09:36:33 ] Starting the application...
[2025-02-07 09:36:37 ] Starting the application...
[2025-02-07 09:36:38 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 09:36:38 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 09:36:38 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 09:36:38 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 09:36:38 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 09:36:38 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce_Net\Project_Net\Car-Agency\server\src
[2025-02-07 09:36:39 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 09:36:39 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 214.737ms
[2025-02-07 09:36:39 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 09:36:39 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 09:36:39 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 09:36:39 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 6.7836ms
[2025-02-07 09:36:39 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 15.6017ms
[2025-02-07 09:36:39 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 50.1388ms
[2025-02-07 09:36:39 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 09:36:39 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 16.1396ms
[2025-02-07 09:36:47 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 09:36:47 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 15.1097ms
[2025-02-07 09:36:47 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 09:36:47 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 1.5107ms
[2025-02-07 09:36:47 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 09:36:47 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 30.865ms
[2025-02-07 09:36:47 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 09:36:47 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 0.9217ms
[2025-02-07 09:36:47 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 09:36:47 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 14.2542ms
[2025-02-07 09:36:50 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 09:36:50 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 2.8452ms
[2025-02-07 09:36:50 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 09:36:50 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 0.6994ms
[2025-02-07 09:36:50 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 09:36:50 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 09:36:50 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 0.7654ms
[2025-02-07 09:36:50 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 11.3213ms
[2025-02-07 09:36:50 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 09:36:50 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 14.4822ms
[2025-02-07 09:37:00 ] Starting the application...
[2025-02-07 09:37:01 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 09:37:01 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 09:37:01 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 09:37:01 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 09:37:01 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 09:37:01 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce_Net\Project_Net\Car-Agency\server\src
[2025-02-07 09:37:02 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 09:37:02 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 251.9959ms
[2025-02-07 09:37:03 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 09:37:03 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 2.4761ms
[2025-02-07 09:37:03 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 09:37:03 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 09:37:03 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 6.5468ms
[2025-02-07 09:37:03 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 61.1426ms
[2025-02-07 09:37:03 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 09:37:03 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 23.673ms
[2025-02-07 09:37:11 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 09:37:11 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 09:37:11 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 09:37:13 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (56ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 09:37:14 Microsoft.AspNetCore.Mvc.Infrastructure.FileStreamResultExecutor] Executing FileStreamResult, sending file with download name 'certificate_1.pdf' ...
[2025-02-07 09:37:14 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 3599.9471ms
[2025-02-07 09:37:14 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 09:37:14 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 200 229540 application/pdf 3823.162ms
[2025-02-07 09:38:18 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 09:38:18 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 40.9826ms
[2025-02-07 09:38:19 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 09:38:19 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 0.6642ms
[2025-02-07 09:38:19 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 09:38:19 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 09:38:19 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 1.1097ms
[2025-02-07 09:38:19 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 19.8648ms
[2025-02-07 09:38:19 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 09:38:19 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 15.7002ms
[2025-02-07 09:38:22 ] Starting the application...
[2025-02-07 09:38:33 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 09:38:33 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 09:38:33 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 09:38:33 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 09:38:33 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 09:38:33 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce_Net\Project_Net\Car-Agency\server\src
[2025-02-07 09:38:33 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 09:38:34 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 244.6282ms
[2025-02-07 09:38:34 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 09:38:34 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 09:38:34 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 09:38:34 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 2.0401ms
[2025-02-07 09:38:34 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 12.8506ms
[2025-02-07 09:38:34 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 56.0538ms
[2025-02-07 09:38:34 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 09:38:34 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 21.918ms
[2025-02-07 09:38:39 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/100 - null null
[2025-02-07 09:38:39 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 09:38:39 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 09:38:42 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (87ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 09:38:42 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-02-07 09:38:42 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 2437.8097ms
[2025-02-07 09:38:42 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 09:38:42 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/100 - 404 null application/json; charset=utf-8 2644.2339ms
[2025-02-07 09:38:49 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 09:38:49 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 09:38:49 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 09:38:49 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 09:38:50 Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor] Executing FileContentResult, sending file with download name 'Certificate_1.pdf' ...
[2025-02-07 09:38:50 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 1090.6366ms
[2025-02-07 09:38:50 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 09:38:50 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 200 229540 application/pdf 1096.3413ms
[2025-02-07 09:39:24 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/api/Car/download/1 - null null
[2025-02-07 09:39:24 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 09:39:24 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 09:39:24 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 09:39:24 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 163.8766ms
[2025-02-07 09:39:24 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 09:39:24 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
iText.Kernel.Exceptions.PdfException: Pdf indirect object belongs to other PDF document. Copy object to current pdf document.
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfIndirectReference indirectReference)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfWriter.WriteToBody(PdfObject pdfObj)
   at iText.Kernel.Pdf.PdfWriter.FlushObject(PdfObject pdfObject, Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfDocument.FlushObject(PdfObject pdfObject, Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfObject.Flush(Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfObject.Flush()
   at iText.Kernel.Pdf.PdfObjectWrapper`1.Flush()
   at iText.Kernel.Pdf.PdfPage.Flush(Boolean flushResourcesContentStreams)
   at iText.Kernel.Pdf.PdfPage.Flush()
   at iText.Kernel.Pdf.PdfDocument.Close()
   at iText.Layout.Document.Close()
   at Server.Models.CarService.GenerateCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Services\CarService.cs:line 111
   at Server.Models.CarService.GenerateCertificate(Int32 id)
   at Server.Controllers.CarController.DownloadCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Controllers\CarController.cs:line 110
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 09:39:24 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/api/Car/download/1 - 500 null text/plain; charset=utf-8 337.1257ms
[2025-02-07 09:39:45 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 09:39:45 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 4.4414ms
[2025-02-07 09:39:45 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 09:39:45 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 0.6357ms
[2025-02-07 09:39:45 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 09:39:45 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 09:39:45 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 2.5439ms
[2025-02-07 09:39:45 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 30.4657ms
[2025-02-07 09:39:45 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 09:39:45 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 13.5403ms
[2025-02-07 09:40:19 ] Starting the application...
[2025-02-07 09:40:20 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 09:40:21 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 09:40:21 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 09:40:21 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 09:40:21 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 09:40:21 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce_Net\Project_Net\Car-Agency\server\src
[2025-02-07 09:40:21 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 09:40:22 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 457.2967ms
[2025-02-07 09:40:22 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 09:40:22 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 09:40:22 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 2.7265ms
[2025-02-07 09:40:22 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 09:40:22 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 21.5331ms
[2025-02-07 09:40:22 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 110.0578ms
[2025-02-07 09:40:22 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 09:40:22 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 26.6411ms
[2025-02-07 09:40:28 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 09:40:28 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 09:40:28 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 09:40:30 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (45ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 09:40:31 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 2552.8743ms
[2025-02-07 09:40:31 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 09:40:31 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.set_Position(Int64 value)
   at Server.Models.CarService.GenerateCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Services\CarService.cs:line 116
   at Server.Controllers.CarController.DownloadCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Controllers\CarController.cs:line 110
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 09:40:31 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 500 null text/plain; charset=utf-8 2794.4796ms
[2025-02-07 09:41:02 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 09:41:02 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 7.4074ms
[2025-02-07 09:41:02 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 09:41:02 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 0.5476ms
[2025-02-07 09:41:02 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 09:41:02 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 09:41:02 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 1.0798ms
[2025-02-07 09:41:02 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 18.4145ms
[2025-02-07 09:41:03 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 09:41:03 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 18.7722ms
[2025-02-07 09:41:12 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 09:41:12 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 09:41:12 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 09:41:12 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 09:41:12 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 93.3163ms
[2025-02-07 09:41:12 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 09:41:12 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
iText.Kernel.Exceptions.PdfException: Pdf indirect object belongs to other PDF document. Copy object to current pdf document.
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfIndirectReference indirectReference)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfWriter.WriteToBody(PdfObject pdfObj)
   at iText.Kernel.Pdf.PdfWriter.FlushObject(PdfObject pdfObject, Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfDocument.FlushObject(PdfObject pdfObject, Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfObject.Flush(Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfObject.Flush()
   at iText.Kernel.Pdf.PdfObjectWrapper`1.Flush()
   at iText.Kernel.Pdf.PdfPage.Flush(Boolean flushResourcesContentStreams)
   at iText.Kernel.Pdf.PdfPage.Flush()
   at iText.Kernel.Pdf.PdfDocument.Close()
   at iText.Layout.Document.Close()
   at Server.Models.CarService.GenerateCertificate(Int32 id)
   at Server.Models.CarService.GenerateCertificate(Int32 id)
   at Server.Controllers.CarController.DownloadCertificate(Int32 id)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext()
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 09:41:12 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 500 null text/plain; charset=utf-8 107.6323ms
[2025-02-07 09:41:25 ] Starting the application...
[2025-02-07 09:41:25 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 09:41:26 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 09:41:26 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 09:41:26 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 09:41:26 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 09:41:26 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce_Net\Project_Net\Car-Agency\server\src
[2025-02-07 09:41:26 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 09:41:26 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 238.378ms
[2025-02-07 09:41:27 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 09:41:27 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 2.4389ms
[2025-02-07 09:41:27 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 09:41:27 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 418.6856ms
[2025-02-07 09:41:27 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 09:41:27 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 10.4544ms
[2025-02-07 09:41:28 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 09:41:28 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 09:41:28 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 09:41:28 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 09:41:28 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 26.0686ms
[2025-02-07 09:41:30 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (53ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 09:41:31 Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor] Executing FileContentResult, sending file with download name 'Certificate_1.pdf' ...
[2025-02-07 09:41:31 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 3401.8432ms
[2025-02-07 09:41:31 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 09:41:31 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 200 229540 application/pdf 3566.0655ms
[2025-02-07 09:41:36 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 09:41:36 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 09:41:36 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 09:41:36 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 09:41:36 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 115.8871ms
[2025-02-07 09:41:36 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 09:41:36 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
iText.Kernel.Exceptions.PdfException: Pdf indirect object belongs to other PDF document. Copy object to current pdf document.
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfIndirectReference indirectReference)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfWriter.WriteToBody(PdfObject pdfObj)
   at iText.Kernel.Pdf.PdfWriter.FlushObject(PdfObject pdfObject, Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfDocument.FlushObject(PdfObject pdfObject, Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfObject.Flush(Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfObject.Flush()
   at iText.Kernel.Pdf.PdfObjectWrapper`1.Flush()
   at iText.Kernel.Pdf.PdfPage.Flush(Boolean flushResourcesContentStreams)
   at iText.Kernel.Pdf.PdfPage.Flush()
   at iText.Kernel.Pdf.PdfDocument.Close()
   at iText.Layout.Document.Close()
   at Server.Models.CarService.GenerateCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Services\CarService.cs:line 111
   at Server.Models.CarService.GenerateCertificate(Int32 id)
   at Server.Controllers.CarController.DownloadCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Controllers\CarController.cs:line 106
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 09:41:36 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 500 null text/plain; charset=utf-8 249.5619ms
[2025-02-07 09:46:36 ] Starting the application...
[2025-02-07 09:46:36 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 09:46:38 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 09:46:38 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 09:46:38 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 09:46:38 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 09:46:38 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce_Net\Project_Net\Car-Agency\server\src
[2025-02-07 09:46:42 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 09:46:43 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 810.4945ms
[2025-02-07 09:46:43 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 09:46:43 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 09:46:43 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 2.2495ms
[2025-02-07 09:46:43 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 09:46:43 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 84.7757ms
[2025-02-07 09:46:43 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 225.8983ms
[2025-02-07 09:46:43 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 09:46:43 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 36.3399ms
[2025-02-07 09:47:12 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 09:47:12 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 09:47:12 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 09:47:16 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (86ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 09:47:18 Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor] Executing FileContentResult, sending file with download name 'Certificate_1.pdf' ...
[2025-02-07 09:47:18 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 6229.986ms
[2025-02-07 09:47:18 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 09:47:18 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 200 229540 application/pdf 6531.4286ms
[2025-02-07 09:47:24 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 09:47:24 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 09:47:24 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 09:47:24 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 09:47:24 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 115.8851ms
[2025-02-07 09:47:24 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 09:47:24 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
iText.Kernel.Exceptions.PdfException: Pdf indirect object belongs to other PDF document. Copy object to current pdf document.
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfIndirectReference indirectReference)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfWriter.WriteToBody(PdfObject pdfObj)
   at iText.Kernel.Pdf.PdfWriter.FlushObject(PdfObject pdfObject, Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfDocument.FlushObject(PdfObject pdfObject, Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfObject.Flush(Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfObject.Flush()
   at iText.Kernel.Pdf.PdfObjectWrapper`1.Flush()
   at iText.Kernel.Pdf.PdfPage.Flush(Boolean flushResourcesContentStreams)
   at iText.Kernel.Pdf.PdfPage.Flush()
   at iText.Kernel.Pdf.PdfDocument.Close()
   at iText.Layout.Document.Close()
   at Server.Models.CarService.GenerateCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Services\CarService.cs:line 115
   at Server.Models.CarService.GenerateCertificate(Int32 id)
   at Server.Controllers.CarController.DownloadCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Controllers\CarController.cs:line 106
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 09:47:24 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 500 null text/plain; charset=utf-8 269.5658ms
[2025-02-07 09:49:48 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 09:49:48 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 10.6892ms
[2025-02-07 09:51:08 ] Starting the application...
[2025-02-07 09:51:09 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 09:51:10 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 09:51:10 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 09:51:10 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 09:51:10 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 09:51:10 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce_Net\Project_Net\Car-Agency\server\src
[2025-02-07 09:51:11 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 09:51:11 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 368.8069ms
[2025-02-07 09:51:11 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 09:51:11 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 09:51:11 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 09:51:11 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 5.9285ms
[2025-02-07 09:51:11 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 49.1456ms
[2025-02-07 09:51:11 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 93.852ms
[2025-02-07 09:51:12 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 09:51:12 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 44.6703ms
[2025-02-07 09:51:16 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 09:51:16 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 09:51:16 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 09:51:18 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (54ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 09:51:19 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 2704.9625ms
[2025-02-07 09:51:19 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 09:51:19 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.set_Position(Int64 value)
   at Server.Models.CarService.GenerateCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Services\CarService.cs:line 119
   at Server.Controllers.CarController.DownloadCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Controllers\CarController.cs:line 106
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 09:51:19 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 500 null text/plain; charset=utf-8 2944.1898ms
[2025-02-07 09:54:15 ] Starting the application...
[2025-02-07 09:54:18 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 09:54:19 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 09:54:19 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 09:54:19 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 09:54:19 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 09:54:19 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce_Net\Project_Net\Car-Agency\server\src
[2025-02-07 09:54:19 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 09:54:19 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 271.9583ms
[2025-02-07 09:54:20 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 09:54:20 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 2.8205ms
[2025-02-07 09:54:20 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 09:54:20 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 75.8787ms
[2025-02-07 09:54:20 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 09:54:20 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 8.3739ms
[2025-02-07 09:54:20 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 09:54:20 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 22.5659ms
[2025-02-07 09:54:30 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 09:54:31 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 09:54:31 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 09:54:36 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (138ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 09:54:47 Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor] Executing FileContentResult, sending file with download name 'Certificate_1.pdf' ...
[2025-02-07 09:54:47 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 15368.0563ms
[2025-02-07 09:54:47 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 09:54:47 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 200 229540 application/pdf 17095.7299ms
[2025-02-07 09:54:53 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 09:54:53 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 09:54:53 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 09:54:53 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 09:54:53 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 89.2908ms
[2025-02-07 09:54:53 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 09:54:53 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
iText.Kernel.Exceptions.PdfException: Pdf indirect object belongs to other PDF document. Copy object to current pdf document.
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfIndirectReference indirectReference)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfWriter.WriteToBody(PdfObject pdfObj)
   at iText.Kernel.Pdf.PdfWriter.FlushObject(PdfObject pdfObject, Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfDocument.FlushObject(PdfObject pdfObject, Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfObject.Flush(Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfObject.Flush()
   at iText.Kernel.Pdf.PdfObjectWrapper`1.Flush()
   at iText.Kernel.Pdf.PdfPage.Flush(Boolean flushResourcesContentStreams)
   at iText.Kernel.Pdf.PdfPage.Flush()
   at iText.Kernel.Pdf.PdfDocument.Close()
   at iText.Layout.Document.Close()
   at Server.Models.CarService.GenerateCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Services\CarService.cs:line 118
   at Server.Models.CarService.GenerateCertificate(Int32 id)
   at Server.Controllers.CarController.DownloadCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Controllers\CarController.cs:line 106
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 09:54:53 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 500 null text/plain; charset=utf-8 217.7646ms
[2025-02-07 09:57:35 ] Starting the application...
[2025-02-07 09:57:36 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 09:57:37 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 09:57:37 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 09:57:37 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 09:57:37 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 09:57:37 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce_Net\Project_Net\Car-Agency\server\src
[2025-02-07 09:57:38 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 09:57:38 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 486.974ms
[2025-02-07 09:57:38 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 09:57:38 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 09:57:38 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 09:57:38 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 2.0548ms
[2025-02-07 09:57:38 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 14.3914ms
[2025-02-07 09:57:38 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 57.0603ms
[2025-02-07 09:57:39 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 09:57:39 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 19.8439ms
[2025-02-07 09:57:57 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 09:57:57 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 09:57:58 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 09:58:00 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (69ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 09:58:01 Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor] Executing FileContentResult, sending file with download name 'Certificate_1.pdf' ...
[2025-02-07 09:58:01 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 3595.4619ms
[2025-02-07 09:58:01 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 09:58:01 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 200 229540 application/pdf 3795.2444ms
[2025-02-07 09:58:06 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 09:58:06 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 09:58:06 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 09:58:06 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 09:58:06 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 142.9699ms
[2025-02-07 09:58:06 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 09:58:06 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
iText.Kernel.Exceptions.PdfException: Pdf indirect object belongs to other PDF document. Copy object to current pdf document.
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfIndirectReference indirectReference)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfWriter.WriteToBody(PdfObject pdfObj)
   at iText.Kernel.Pdf.PdfWriter.FlushObject(PdfObject pdfObject, Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfDocument.FlushObject(PdfObject pdfObject, Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfObject.Flush(Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfObject.Flush()
   at iText.Kernel.Pdf.PdfObjectWrapper`1.Flush()
   at iText.Kernel.Pdf.PdfPage.Flush(Boolean flushResourcesContentStreams)
   at iText.Kernel.Pdf.PdfPage.Flush()
   at iText.Kernel.Pdf.PdfDocument.Close()
   at iText.Layout.Document.Close()
   at Server.Models.CarService.GenerateCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Services\CarService.cs:line 158
   at Server.Models.CarService.GenerateCertificate(Int32 id)
   at Server.Controllers.CarController.DownloadCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Controllers\CarController.cs:line 106
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 09:58:06 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 500 null text/plain; charset=utf-8 247.4488ms
[2025-02-07 09:58:13 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 09:58:13 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 09:58:13 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 09:58:13 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 09:58:13 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 192.5764ms
[2025-02-07 09:58:13 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 09:58:13 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
iText.Kernel.Exceptions.PdfException: Pdf indirect object belongs to other PDF document. Copy object to current pdf document.
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfIndirectReference indirectReference)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfWriter.WriteToBody(PdfObject pdfObj)
   at iText.Kernel.Pdf.PdfWriter.FlushObject(PdfObject pdfObject, Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfDocument.FlushObject(PdfObject pdfObject, Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfObject.Flush(Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfObject.Flush()
   at iText.Kernel.Pdf.PdfObjectWrapper`1.Flush()
   at iText.Kernel.Pdf.PdfPage.Flush(Boolean flushResourcesContentStreams)
   at iText.Kernel.Pdf.PdfPage.Flush()
   at iText.Kernel.Pdf.PdfDocument.Close()
   at iText.Layout.Document.Close()
   at Server.Models.CarService.GenerateCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Services\CarService.cs:line 158
   at Server.Models.CarService.GenerateCertificate(Int32 id)
   at Server.Controllers.CarController.DownloadCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Controllers\CarController.cs:line 106
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 09:58:13 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 500 null text/plain; charset=utf-8 200.5416ms
[2025-02-07 09:58:14 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 09:58:14 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 09:58:14 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 09:58:14 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 09:58:14 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 33.2866ms
[2025-02-07 09:58:14 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 09:58:14 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
iText.Kernel.Exceptions.PdfException: Pdf indirect object belongs to other PDF document. Copy object to current pdf document.
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfIndirectReference indirectReference)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfWriter.WriteToBody(PdfObject pdfObj)
   at iText.Kernel.Pdf.PdfWriter.FlushObject(PdfObject pdfObject, Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfDocument.FlushObject(PdfObject pdfObject, Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfObject.Flush(Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfObject.Flush()
   at iText.Kernel.Pdf.PdfObjectWrapper`1.Flush()
   at iText.Kernel.Pdf.PdfPage.Flush(Boolean flushResourcesContentStreams)
   at iText.Kernel.Pdf.PdfPage.Flush()
   at iText.Kernel.Pdf.PdfDocument.Close()
   at iText.Layout.Document.Close()
   at Server.Models.CarService.GenerateCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Services\CarService.cs:line 158
   at Server.Models.CarService.GenerateCertificate(Int32 id)
   at Server.Controllers.CarController.DownloadCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Controllers\CarController.cs:line 106
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 09:58:14 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 500 null text/plain; charset=utf-8 37.7056ms
[2025-02-07 10:00:35 ] Starting the application...
[2025-02-07 10:00:36 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 10:00:36 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 10:00:36 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 10:00:36 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 10:00:36 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 10:00:36 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce_Net\Project_Net\Car-Agency\server\src
[2025-02-07 10:00:37 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 10:00:37 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 786.7039ms
[2025-02-07 10:00:37 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 10:00:37 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 1.8825ms
[2025-02-07 10:00:37 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 10:00:37 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 10:00:37 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 12.384ms
[2025-02-07 10:00:37 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 55.4556ms
[2025-02-07 10:00:38 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 10:00:38 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 33.857ms
[2025-02-07 10:00:50 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 10:00:50 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 10:00:50 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 10:00:52 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (91ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 10:00:53 Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor] Executing FileContentResult, sending file with download name 'Certificate_1.pdf' ...
[2025-02-07 10:00:53 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 2914.8341ms
[2025-02-07 10:00:53 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 10:00:53 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 200 229540 application/pdf 3048.534ms
[2025-02-07 10:00:57 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 10:00:57 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 10:00:57 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 10:00:57 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 10:00:57 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 80.1159ms
[2025-02-07 10:00:57 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 10:00:57 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
iText.Kernel.Exceptions.PdfException: Pdf indirect object belongs to other PDF document. Copy object to current pdf document.
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfIndirectReference indirectReference)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfWriter.WriteToBody(PdfObject pdfObj)
   at iText.Kernel.Pdf.PdfWriter.FlushObject(PdfObject pdfObject, Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfDocument.FlushObject(PdfObject pdfObject, Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfObject.Flush(Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfObject.Flush()
   at iText.Kernel.Pdf.PdfObjectWrapper`1.Flush()
   at iText.Kernel.Pdf.PdfPage.Flush(Boolean flushResourcesContentStreams)
   at iText.Kernel.Pdf.PdfPage.Flush()
   at iText.Kernel.Pdf.PdfDocument.Close()
   at iText.Layout.Document.Close()
   at Server.Models.CarService.GenerateCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Services\CarService.cs:line 158
   at Server.Models.CarService.GenerateCertificate(Int32 id)
   at Server.Controllers.CarController.DownloadCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Controllers\CarController.cs:line 106
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 10:00:57 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 500 null text/plain; charset=utf-8 119.2711ms
[2025-02-07 10:01:03 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/2 - null null
[2025-02-07 10:01:03 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 10:01:03 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 10:01:03 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 10:01:03 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 196.0439ms
[2025-02-07 10:01:03 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 10:01:03 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
iText.Kernel.Exceptions.PdfException: Pdf indirect object belongs to other PDF document. Copy object to current pdf document.
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfIndirectReference indirectReference)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfWriter.WriteToBody(PdfObject pdfObj)
   at iText.Kernel.Pdf.PdfWriter.FlushObject(PdfObject pdfObject, Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfDocument.FlushObject(PdfObject pdfObject, Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfObject.Flush(Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfObject.Flush()
   at iText.Kernel.Pdf.PdfObjectWrapper`1.Flush()
   at iText.Kernel.Pdf.PdfPage.Flush(Boolean flushResourcesContentStreams)
   at iText.Kernel.Pdf.PdfPage.Flush()
   at iText.Kernel.Pdf.PdfDocument.Close()
   at iText.Layout.Document.Close()
   at Server.Models.CarService.GenerateCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Services\CarService.cs:line 158
   at Server.Models.CarService.GenerateCertificate(Int32 id)
   at Server.Controllers.CarController.DownloadCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Controllers\CarController.cs:line 106
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 10:01:03 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/2 - 500 null text/plain; charset=utf-8 206.6018ms
[2025-02-07 10:01:08 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/3 - null null
[2025-02-07 10:01:08 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 10:01:08 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 10:01:08 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 10:01:08 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 26.1201ms
[2025-02-07 10:01:08 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 10:01:08 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
iText.Kernel.Exceptions.PdfException: Pdf indirect object belongs to other PDF document. Copy object to current pdf document.
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfIndirectReference indirectReference)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfWriter.WriteToBody(PdfObject pdfObj)
   at iText.Kernel.Pdf.PdfWriter.FlushObject(PdfObject pdfObject, Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfDocument.FlushObject(PdfObject pdfObject, Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfObject.Flush(Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfObject.Flush()
   at iText.Kernel.Pdf.PdfObjectWrapper`1.Flush()
   at iText.Kernel.Pdf.PdfPage.Flush(Boolean flushResourcesContentStreams)
   at iText.Kernel.Pdf.PdfPage.Flush()
   at iText.Kernel.Pdf.PdfDocument.Close()
   at iText.Layout.Document.Close()
   at Server.Models.CarService.GenerateCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Services\CarService.cs:line 158
   at Server.Models.CarService.GenerateCertificate(Int32 id)
   at Server.Controllers.CarController.DownloadCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Controllers\CarController.cs:line 106
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 10:01:08 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/3 - 500 null text/plain; charset=utf-8 31.9099ms
[2025-02-07 10:01:14 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/4 - null null
[2025-02-07 10:01:14 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 10:01:14 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 10:01:14 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 10:01:14 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 23.492ms
[2025-02-07 10:01:14 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 10:01:14 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
iText.Kernel.Exceptions.PdfException: Pdf indirect object belongs to other PDF document. Copy object to current pdf document.
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfIndirectReference indirectReference)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfWriter.WriteToBody(PdfObject pdfObj)
   at iText.Kernel.Pdf.PdfWriter.FlushObject(PdfObject pdfObject, Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfDocument.FlushObject(PdfObject pdfObject, Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfObject.Flush(Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfObject.Flush()
   at iText.Kernel.Pdf.PdfObjectWrapper`1.Flush()
   at iText.Kernel.Pdf.PdfPage.Flush(Boolean flushResourcesContentStreams)
   at iText.Kernel.Pdf.PdfPage.Flush()
   at iText.Kernel.Pdf.PdfDocument.Close()
   at iText.Layout.Document.Close()
   at Server.Models.CarService.GenerateCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Services\CarService.cs:line 158
   at Server.Models.CarService.GenerateCertificate(Int32 id)
   at Server.Controllers.CarController.DownloadCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Controllers\CarController.cs:line 106
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 10:01:14 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/4 - 500 null text/plain; charset=utf-8 26.669ms
[2025-02-07 10:01:19 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 10:01:19 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 10:01:19 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 10:01:19 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 10:01:19 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 26.9095ms
[2025-02-07 10:01:19 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 10:01:19 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
iText.Kernel.Exceptions.PdfException: Pdf indirect object belongs to other PDF document. Copy object to current pdf document.
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfIndirectReference indirectReference)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfWriter.WriteToBody(PdfObject pdfObj)
   at iText.Kernel.Pdf.PdfWriter.FlushObject(PdfObject pdfObject, Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfDocument.FlushObject(PdfObject pdfObject, Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfObject.Flush(Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfObject.Flush()
   at iText.Kernel.Pdf.PdfObjectWrapper`1.Flush()
   at iText.Kernel.Pdf.PdfPage.Flush(Boolean flushResourcesContentStreams)
   at iText.Kernel.Pdf.PdfPage.Flush()
   at iText.Kernel.Pdf.PdfDocument.Close()
   at iText.Layout.Document.Close()
   at Server.Models.CarService.GenerateCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Services\CarService.cs:line 158
   at Server.Models.CarService.GenerateCertificate(Int32 id)
   at Server.Controllers.CarController.DownloadCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Controllers\CarController.cs:line 106
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 10:01:19 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 500 null text/plain; charset=utf-8 30.2016ms
[2025-02-07 10:01:29 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 10:01:29 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 10:01:29 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 10:01:29 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 10:01:29 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 48.9587ms
[2025-02-07 10:01:29 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 10:01:29 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
iText.Kernel.Exceptions.PdfException: Pdf indirect object belongs to other PDF document. Copy object to current pdf document.
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfIndirectReference indirectReference)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfWriter.WriteToBody(PdfObject pdfObj)
   at iText.Kernel.Pdf.PdfWriter.FlushObject(PdfObject pdfObject, Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfDocument.FlushObject(PdfObject pdfObject, Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfObject.Flush(Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfObject.Flush()
   at iText.Kernel.Pdf.PdfObjectWrapper`1.Flush()
   at iText.Kernel.Pdf.PdfPage.Flush(Boolean flushResourcesContentStreams)
   at iText.Kernel.Pdf.PdfPage.Flush()
   at iText.Kernel.Pdf.PdfDocument.Close()
   at iText.Layout.Document.Close()
   at Server.Models.CarService.GenerateCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Services\CarService.cs:line 158
   at Server.Models.CarService.GenerateCertificate(Int32 id)
   at Server.Controllers.CarController.DownloadCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Controllers\CarController.cs:line 106
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 10:01:29 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 500 null text/plain; charset=utf-8 52.1414ms
[2025-02-07 10:01:39 ] Starting the application...
[2025-02-07 10:01:39 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 10:01:40 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 10:01:40 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 10:01:40 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 10:01:40 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 10:01:40 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce_Net\Project_Net\Car-Agency\server\src
[2025-02-07 10:01:40 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 10:01:40 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 212.6795ms
[2025-02-07 10:01:41 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 10:01:41 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 2.9231ms
[2025-02-07 10:01:41 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 10:01:41 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 10:01:41 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 12.4339ms
[2025-02-07 10:01:41 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 50.5637ms
[2025-02-07 10:01:41 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 10:01:41 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 19.4806ms
[2025-02-07 10:01:59 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 10:01:59 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 10:01:59 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 10:02:01 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (56ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 10:02:02 Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor] Executing FileContentResult, sending file with download name 'Certificate_1.pdf' ...
[2025-02-07 10:02:02 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 2807.6955ms
[2025-02-07 10:02:02 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 10:02:02 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 200 229540 application/pdf 2982.2932ms
[2025-02-07 10:02:21 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 10:02:21 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 10:02:21 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 10:02:21 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 10:02:21 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 95.8926ms
[2025-02-07 10:02:21 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 10:02:21 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
iText.Kernel.Exceptions.PdfException: Pdf indirect object belongs to other PDF document. Copy object to current pdf document.
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfIndirectReference indirectReference)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfWriter.WriteToBody(PdfObject pdfObj)
   at iText.Kernel.Pdf.PdfWriter.FlushObject(PdfObject pdfObject, Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfDocument.FlushObject(PdfObject pdfObject, Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfObject.Flush(Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfObject.Flush()
   at iText.Kernel.Pdf.PdfObjectWrapper`1.Flush()
   at iText.Kernel.Pdf.PdfPage.Flush(Boolean flushResourcesContentStreams)
   at iText.Kernel.Pdf.PdfPage.Flush()
   at iText.Kernel.Pdf.PdfDocument.Close()
   at iText.Layout.Document.Close()
   at Server.Models.CarService.GenerateCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Services\CarService.cs:line 158
   at Server.Models.CarService.GenerateCertificate(Int32 id)
   at Server.Controllers.CarController.DownloadCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Controllers\CarController.cs:line 106
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 10:02:21 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 500 null text/plain; charset=utf-8 119.2589ms
[2025-02-07 10:04:48 ] Starting the application...
[2025-02-07 10:04:49 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 10:04:49 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 10:04:49 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 10:04:49 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 10:04:49 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 10:04:49 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce_Net\Project_Net\Car-Agency\server\src
[2025-02-07 10:04:51 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 10:04:51 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 289.9197ms
[2025-02-07 10:04:51 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 10:04:51 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 10:04:51 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 10:04:51 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 22.7051ms
[2025-02-07 10:04:51 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 46.1422ms
[2025-02-07 10:04:52 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 116.6394ms
[2025-02-07 10:04:52 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 10:04:52 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 45.2303ms
[2025-02-07 10:05:10 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 10:05:11 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 10:05:11 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 10:05:13 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (56ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 10:05:14 Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor] Executing FileContentResult, sending file with download name 'Certificate_1.pdf' ...
[2025-02-07 10:05:14 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 3058.0907ms
[2025-02-07 10:05:14 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 10:05:14 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 200 228235 application/pdf 3266.8707ms
[2025-02-07 10:05:21 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 10:05:21 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 10:05:21 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 10:05:21 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 10:05:21 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 106.3072ms
[2025-02-07 10:05:21 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 10:05:21 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
iText.Kernel.Exceptions.PdfException: Pdf indirect object belongs to other PDF document. Copy object to current pdf document.
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfIndirectReference indirectReference)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfWriter.WriteToBody(PdfObject pdfObj)
   at iText.Kernel.Pdf.PdfWriter.FlushObject(PdfObject pdfObject, Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfDocument.FlushObject(PdfObject pdfObject, Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfObject.Flush(Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfObject.Flush()
   at iText.Kernel.Pdf.PdfObjectWrapper`1.Flush()
   at iText.Kernel.Pdf.PdfPage.Flush(Boolean flushResourcesContentStreams)
   at iText.Kernel.Pdf.PdfPage.Flush()
   at iText.Kernel.Pdf.PdfDocument.Close()
   at iText.Layout.Document.Close()
   at Server.Models.CarService.GenerateCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Services\CarService.cs:line 156
   at Server.Models.CarService.GenerateCertificate(Int32 id)
   at Server.Controllers.CarController.DownloadCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Controllers\CarController.cs:line 106
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 10:05:21 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 500 null text/plain; charset=utf-8 238.0936ms
[2025-02-07 10:08:50 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 10:08:50 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 8.6563ms
[2025-02-07 10:08:51 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 10:08:51 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 2.7712ms
[2025-02-07 10:08:51 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 10:08:51 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 10:08:51 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 1.8437ms
[2025-02-07 10:08:51 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 11.1704ms
[2025-02-07 10:08:51 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 10:08:51 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 19.2064ms
[2025-02-07 10:09:24 ] Starting the application...
[2025-02-07 10:09:25 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 10:09:26 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 10:09:26 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 10:09:26 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 10:09:26 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 10:09:26 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce_Net\Project_Net\Car-Agency\server\src
[2025-02-07 10:09:27 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 10:09:27 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 368.964ms
[2025-02-07 10:09:27 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 10:09:27 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 2.8204ms
[2025-02-07 10:09:27 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 10:09:27 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 10:09:27 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 14.2688ms
[2025-02-07 10:09:27 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 60.0945ms
[2025-02-07 10:09:27 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 10:09:28 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 31.5566ms
[2025-02-07 10:09:35 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 10:09:35 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 10:09:35 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 10:09:37 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (55ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 10:09:38 Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor] Executing FileContentResult, sending file with download name 'Certificate_1.pdf' ...
[2025-02-07 10:09:38 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 2833.7072ms
[2025-02-07 10:09:38 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 10:09:38 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 200 228235 application/pdf 2959.034ms
[2025-02-07 10:09:46 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 10:09:46 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 10:09:46 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 10:09:46 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 10:09:46 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 72.1074ms
[2025-02-07 10:09:46 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 10:09:46 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
iText.Kernel.Exceptions.PdfException: Pdf indirect object belongs to other PDF document. Copy object to current pdf document.
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfIndirectReference indirectReference)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfWriter.WriteToBody(PdfObject pdfObj)
   at iText.Kernel.Pdf.PdfWriter.FlushObject(PdfObject pdfObject, Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfDocument.FlushObject(PdfObject pdfObject, Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfObject.Flush(Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfObject.Flush()
   at iText.Kernel.Pdf.PdfObjectWrapper`1.Flush()
   at iText.Kernel.Pdf.PdfPage.Flush(Boolean flushResourcesContentStreams)
   at iText.Kernel.Pdf.PdfPage.Flush()
   at iText.Kernel.Pdf.PdfDocument.Close()
   at iText.Layout.Document.Close()
   at Server.Models.CarService.GenerateCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Services\CarService.cs:line 154
   at Server.Models.CarService.GenerateCertificate(Int32 id)
   at Server.Controllers.CarController.DownloadCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Controllers\CarController.cs:line 106
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 10:09:46 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 500 null text/plain; charset=utf-8 210.3964ms
[2025-02-07 10:16:03 ] Starting the application...
[2025-02-07 10:16:04 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 10:16:05 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 10:16:05 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 10:16:05 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 10:16:05 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 10:16:05 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce_Net\Project_Net\Car-Agency\server\src
[2025-02-07 10:16:07 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 10:16:07 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 447.6198ms
[2025-02-07 10:16:07 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 10:16:07 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 10:16:07 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 10:16:07 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 2.8688ms
[2025-02-07 10:16:07 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 31.0365ms
[2025-02-07 10:16:07 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 117.3455ms
[2025-02-07 10:16:08 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 10:16:08 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 45.6298ms
[2025-02-07 10:16:11 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 10:16:11 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 10:16:11 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 10:16:13 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (60ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 10:16:14 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 2807.5752ms
[2025-02-07 10:16:14 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 10:16:14 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
iText.IO.Exceptions.IOException: Image format cannot be recognized.
   at iText.IO.Image.ImageDataFactory.CreateImageInstance(Byte[] bytes, Boolean recoverImage)
   at iText.IO.Image.ImageDataFactory.Create(Byte[] bytes, Boolean recoverImage)
   at iText.IO.Image.ImageDataFactory.Create(Byte[] bytes)
   at Server.Models.CarService.GenerateCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Services\CarService.cs:line 157
   at Server.Controllers.CarController.DownloadCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Controllers\CarController.cs:line 106
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 10:16:14 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 500 null text/plain; charset=utf-8 3210.0514ms
[2025-02-07 10:17:10 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 10:17:10 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 10:17:10 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 10:17:11 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (15ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 10:17:11 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 100.7449ms
[2025-02-07 10:17:11 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 10:17:11 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
iText.IO.Exceptions.IOException: Image format cannot be recognized.
   at iText.IO.Image.ImageDataFactory.CreateImageInstance(Byte[] bytes, Boolean recoverImage)
   at iText.IO.Image.ImageDataFactory.Create(Byte[] bytes, Boolean recoverImage)
   at iText.IO.Image.ImageDataFactory.Create(Byte[] bytes)
   at Server.Models.CarService.GenerateCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Services\CarService.cs:line 157
   at Server.Controllers.CarController.DownloadCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Controllers\CarController.cs:line 106
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 10:17:11 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 500 null text/plain; charset=utf-8 125.7667ms
[2025-02-07 10:17:54 ] Starting the application...
[2025-02-07 10:17:54 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 10:17:55 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 10:17:55 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 10:17:55 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 10:17:55 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 10:17:55 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce_Net\Project_Net\Car-Agency\server\src
[2025-02-07 10:17:56 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 10:17:57 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 770.9383ms
[2025-02-07 10:17:57 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 10:17:57 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 10:17:57 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 11.1994ms
[2025-02-07 10:17:57 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 10:17:57 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 29.3561ms
[2025-02-07 10:17:57 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 199.6597ms
[2025-02-07 10:17:57 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 10:17:57 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 67.1465ms
[2025-02-07 10:18:02 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 10:18:03 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 10:18:03 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 10:18:04 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (52ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 10:18:05 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 2257.5192ms
[2025-02-07 10:18:05 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 10:18:05 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
iText.IO.Exceptions.IOException: Image format cannot be recognized.
   at iText.IO.Image.ImageDataFactory.CreateImageInstance(Byte[] bytes, Boolean recoverImage)
   at iText.IO.Image.ImageDataFactory.Create(Byte[] bytes, Boolean recoverImage)
   at iText.IO.Image.ImageDataFactory.Create(Byte[] bytes)
   at Server.Models.CarService.GenerateCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Services\CarService.cs:line 157
   at Server.Controllers.CarController.DownloadCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Controllers\CarController.cs:line 106
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 10:18:05 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 500 null text/plain; charset=utf-8 2499.8432ms
[2025-02-07 10:19:16 ] Starting the application...
[2025-02-07 10:19:16 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 10:19:17 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 10:19:17 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 10:19:17 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 10:19:17 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 10:19:17 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce_Net\Project_Net\Car-Agency\server\src
[2025-02-07 10:19:18 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 10:19:19 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 1370.8265ms
[2025-02-07 10:19:19 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 10:19:19 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 10:19:19 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 10:19:19 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 2.3165ms
[2025-02-07 10:19:19 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 19.1453ms
[2025-02-07 10:19:19 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 127.0036ms
[2025-02-07 10:19:19 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 10:19:19 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 39.3431ms
[2025-02-07 10:19:35 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 10:19:35 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 10:19:35 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 10:19:37 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (47ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 10:19:37 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 2327.1013ms
[2025-02-07 10:19:37 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 10:19:37 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
iText.IO.Exceptions.IOException: Image format cannot be recognized.
   at iText.IO.Image.ImageDataFactory.CreateImageInstance(Byte[] bytes, Boolean recoverImage)
   at iText.IO.Image.ImageDataFactory.Create(Byte[] bytes, Boolean recoverImage)
   at iText.IO.Image.ImageDataFactory.Create(Byte[] bytes)
   at Server.Models.CarService.GenerateCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Services\CarService.cs:line 157
   at Server.Controllers.CarController.DownloadCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Controllers\CarController.cs:line 106
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 10:19:37 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 500 null text/plain; charset=utf-8 2678.5287ms
[2025-02-07 10:48:14 ] Starting the application...
[2025-02-07 10:48:15 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 10:48:16 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 10:48:16 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 10:48:16 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 10:48:16 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 10:48:16 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce_Net\Project_Net\Car-Agency\server\src
[2025-02-07 10:48:18 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 10:48:18 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 277.6923ms
[2025-02-07 10:48:18 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 10:48:18 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 10:48:18 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 10:48:18 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 3.6407ms
[2025-02-07 10:48:18 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 27.1176ms
[2025-02-07 10:48:19 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 113.3503ms
[2025-02-07 10:48:19 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 10:48:19 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 44.6257ms
[2025-02-07 10:48:22 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 10:48:22 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 10:48:22 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 10:48:25 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (93ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 10:48:28 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 5375.1203ms
[2025-02-07 10:48:28 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 10:48:28 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.set_Position(Int64 value)
   at Server.Models.CarService.GenerateCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Services\CarService.cs:line 244
   at Server.Controllers.CarController.DownloadCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Controllers\CarController.cs:line 106
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 10:48:28 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 500 null text/plain; charset=utf-8 5870.2584ms
[2025-02-07 10:53:38 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 10:53:38 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 5.456ms
[2025-02-07 10:53:38 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 10:53:38 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 0.8223ms
[2025-02-07 10:53:38 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 10:53:38 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 9.503ms
[2025-02-07 10:53:38 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 10:53:38 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 0.7984ms
[2025-02-07 10:53:38 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 10:53:38 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 20.9258ms
[2025-02-07 10:54:01 ] Starting the application...
[2025-02-07 10:54:02 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 10:54:02 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 10:54:02 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 10:54:02 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 10:54:02 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 10:54:02 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce_Net\Project_Net\Car-Agency\server\src
[2025-02-07 10:54:02 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 10:54:03 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 385.6119ms
[2025-02-07 10:54:03 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 10:54:03 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 6.3858ms
[2025-02-07 10:54:03 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 10:54:03 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 10:54:03 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 13.6137ms
[2025-02-07 10:54:03 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 63.1563ms
[2025-02-07 10:54:03 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 10:54:03 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 25.877ms
[2025-02-07 10:54:10 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 10:54:10 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 10:54:10 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 10:54:12 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (68ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 10:54:12 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 2347.6513ms
[2025-02-07 10:54:12 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 10:54:12 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
iText.IO.Exceptions.IOException: Image format cannot be recognized.
   at iText.IO.Image.ImageDataFactory.CreateImageInstance(Byte[] bytes, Boolean recoverImage)
   at iText.IO.Image.ImageDataFactory.Create(Byte[] bytes, Boolean recoverImage)
   at iText.IO.Image.ImageDataFactory.Create(Byte[] bytes)
   at Server.Models.CarService.GenerateCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Services\CarService.cs:line 218
   at Server.Controllers.CarController.DownloadCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Controllers\CarController.cs:line 106
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 10:54:13 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 500 null text/plain; charset=utf-8 2673.2474ms
[2025-02-07 10:54:53 ] Starting the application...
[2025-02-07 10:54:53 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 10:54:54 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 10:54:54 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 10:54:54 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 10:54:54 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 10:54:54 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce_Net\Project_Net\Car-Agency\server\src
[2025-02-07 10:54:54 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 10:54:55 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 231.8359ms
[2025-02-07 10:54:55 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 10:54:55 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 10:54:55 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 10:54:55 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 2.0985ms
[2025-02-07 10:54:55 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 16.2256ms
[2025-02-07 10:54:55 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 52.4287ms
[2025-02-07 10:54:56 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 10:54:56 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 33.7653ms
[2025-02-07 10:55:03 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 10:55:03 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 10:55:03 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 10:55:05 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (54ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 10:55:06 Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor] Executing FileContentResult, sending file with download name 'Certificate_1.pdf' ...
[2025-02-07 10:55:06 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 2913.8033ms
[2025-02-07 10:55:06 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 10:55:06 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 200 6457 application/pdf 3140.6011ms
[2025-02-07 10:58:02 ] Starting the application...
[2025-02-07 10:58:05 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 10:58:06 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 10:58:06 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 10:58:06 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 10:58:06 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 10:58:06 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce_Net\Project_Net\Car-Agency\server\src
[2025-02-07 10:58:06 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 10:58:06 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 228.1614ms
[2025-02-07 10:58:06 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 10:58:06 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 10:58:06 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 2.0409ms
[2025-02-07 10:58:06 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 10:58:06 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 12.1462ms
[2025-02-07 10:58:06 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 46.8897ms
[2025-02-07 10:58:06 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 10:58:06 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 20.2466ms
[2025-02-07 10:58:16 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 10:58:20 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 10:58:20 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 10:58:24 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (112ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 10:58:34 Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor] Executing FileContentResult, sending file with download name 'Certificate_1.pdf' ...
[2025-02-07 10:58:34 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 14034.4442ms
[2025-02-07 10:58:34 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 10:58:34 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 200 228235 application/pdf 17601.8006ms
[2025-02-07 10:59:17 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 10:59:17 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 6.4395ms
[2025-02-07 10:59:17 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 10:59:17 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 0.5143ms
[2025-02-07 10:59:17 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 10:59:17 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 11.6835ms
[2025-02-07 10:59:18 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 10:59:18 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 1.1635ms
[2025-02-07 10:59:18 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 10:59:18 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 20.0538ms
[2025-02-07 10:59:26 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 10:59:26 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 10:59:26 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 10:59:26 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 10:59:26 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 75.805ms
[2025-02-07 10:59:26 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 10:59:26 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
iText.Kernel.Exceptions.PdfException: Pdf indirect object belongs to other PDF document. Copy object to current pdf document.
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfIndirectReference indirectReference)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfWriter.WriteToBody(PdfObject pdfObj)
   at iText.Kernel.Pdf.PdfWriter.FlushObject(PdfObject pdfObject, Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfDocument.FlushObject(PdfObject pdfObject, Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfObject.Flush(Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfObject.Flush()
   at iText.Kernel.Pdf.PdfObjectWrapper`1.Flush()
   at iText.Kernel.Pdf.PdfPage.Flush(Boolean flushResourcesContentStreams)
   at iText.Kernel.Pdf.PdfPage.Flush()
   at iText.Kernel.Pdf.PdfDocument.Close()
   at iText.Layout.Document.Close()
   at Server.Models.CarService.GenerateCertificate(Int32 id)
   at Server.Models.CarService.GenerateCertificate(Int32 id)
   at Server.Controllers.CarController.DownloadCertificate(Int32 id)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext()
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 10:59:26 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 500 null text/plain; charset=utf-8 107.156ms
[2025-02-07 11:01:58 ] Starting the application...
[2025-02-07 11:02:01 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 11:02:02 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 11:02:02 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 11:02:02 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 11:02:02 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 11:02:02 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce_Net\Project_Net\Car-Agency\server\src
[2025-02-07 11:02:04 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 11:02:04 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 358.4419ms
[2025-02-07 11:02:05 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 11:02:05 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 11:02:05 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 2.5855ms
[2025-02-07 11:02:05 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 11:02:05 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 22.7443ms
[2025-02-07 11:02:05 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 105.789ms
[2025-02-07 11:02:05 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 11:02:05 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 36.124ms
[2025-02-07 11:02:08 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 11:02:10 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 11:02:10 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 11:02:15 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (218ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 11:02:26 Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor] Executing FileContentResult, sending file with download name 'Certificate_1.pdf' ...
[2025-02-07 11:02:26 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 15615.6952ms
[2025-02-07 11:02:26 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 11:02:26 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 200 228235 application/pdf 17866.9427ms
[2025-02-07 11:03:47 ] Starting the application...
[2025-02-07 11:03:47 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 11:03:48 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 11:03:48 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 11:03:48 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 11:03:48 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 11:03:48 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce_Net\Project_Net\Car-Agency\server\src
[2025-02-07 11:03:48 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 11:03:48 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 193.6863ms
[2025-02-07 11:03:48 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 11:03:48 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 3.5942ms
[2025-02-07 11:03:48 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 11:03:48 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 11:03:48 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 12.7642ms
[2025-02-07 11:03:48 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 45.1088ms
[2025-02-07 11:03:49 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 11:03:49 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 25.6643ms
[2025-02-07 11:04:02 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 11:04:02 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 11:04:02 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 11:04:04 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (47ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 11:04:04 Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor] Executing FileContentResult, sending file with download name 'Certificate_1.pdf' ...
[2025-02-07 11:04:04 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 2216.0206ms
[2025-02-07 11:04:04 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 11:04:04 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 200 1629 application/pdf 2427.8147ms
[2025-02-07 11:04:27 ] Starting the application...
[2025-02-07 11:04:27 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 11:04:28 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 11:04:28 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 11:04:28 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 11:04:28 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 11:04:28 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce_Net\Project_Net\Car-Agency\server\src
[2025-02-07 11:04:29 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 11:04:29 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 292.7506ms
[2025-02-07 11:04:30 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 11:04:30 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 11:04:30 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 2.6846ms
[2025-02-07 11:04:30 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 11:04:30 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 22.8277ms
[2025-02-07 11:04:30 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 104.8459ms
[2025-02-07 11:04:30 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 11:04:30 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 61.653ms
[2025-02-07 11:04:34 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 11:04:34 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 11:04:34 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 11:04:36 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (52ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 11:04:37 Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor] Executing FileContentResult, sending file with download name 'Certificate_1.pdf' ...
[2025-02-07 11:04:37 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 2846.0694ms
[2025-02-07 11:04:37 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 11:04:37 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 200 228235 application/pdf 3053.8289ms
[2025-02-07 11:07:16 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 11:07:16 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 11:07:16 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 11:07:16 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 11:07:16 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 81.4406ms
[2025-02-07 11:07:16 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 11:07:16 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
iText.Kernel.Exceptions.PdfException: Pdf indirect object belongs to other PDF document. Copy object to current pdf document.
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfIndirectReference indirectReference)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfWriter.WriteToBody(PdfObject pdfObj)
   at iText.Kernel.Pdf.PdfWriter.FlushObject(PdfObject pdfObject, Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfDocument.FlushObject(PdfObject pdfObject, Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfObject.Flush(Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfObject.Flush()
   at iText.Kernel.Pdf.PdfObjectWrapper`1.Flush()
   at iText.Kernel.Pdf.PdfPage.Flush(Boolean flushResourcesContentStreams)
   at iText.Kernel.Pdf.PdfPage.Flush()
   at iText.Kernel.Pdf.PdfDocument.Close()
   at iText.Layout.Document.Close()
   at Server.Models.CarService.GenerateCertificate(Int32 id)
   at Server.Models.CarService.GenerateCertificate(Int32 id)
   at Server.Controllers.CarController.DownloadCertificate(Int32 id)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext()
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 11:07:16 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 500 null text/plain; charset=utf-8 120.9736ms
[2025-02-07 11:07:28 ] Starting the application...
[2025-02-07 11:07:29 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 11:07:30 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 11:07:30 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 11:07:30 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 11:07:30 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 11:07:30 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce_Net\Project_Net\Car-Agency\server\src
[2025-02-07 11:07:32 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 11:07:32 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 325.7062ms
[2025-02-07 11:07:33 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 11:07:33 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 11:07:33 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 11:07:33 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 11:07:33 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 1.7697ms
[2025-02-07 11:07:33 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 11:07:33 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 11:07:33 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 17.3155ms
[2025-02-07 11:07:33 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 71.3381ms
[2025-02-07 11:07:34 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 11:07:34 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 27.309ms
[2025-02-07 11:07:36 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (62ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 11:07:37 Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor] Executing FileContentResult, sending file with download name 'Certificate_1.pdf' ...
[2025-02-07 11:07:37 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 3643.0758ms
[2025-02-07 11:07:37 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 11:07:37 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 200 228240 application/pdf 3835.5302ms
[2025-02-07 11:08:13 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 11:08:13 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 4.1049ms
[2025-02-07 11:08:13 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 11:08:13 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 5.8204ms
[2025-02-07 11:08:13 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 11:08:13 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 11:08:13 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 3.656ms
[2025-02-07 11:08:13 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 52.6249ms
[2025-02-07 11:08:13 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 11:08:13 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 16.8587ms
[2025-02-07 11:08:16 ] Starting the application...
[2025-02-07 11:08:16 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 11:08:17 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 11:08:17 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 11:08:17 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 11:08:17 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 11:08:17 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce_Net\Project_Net\Car-Agency\server\src
[2025-02-07 11:08:17 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 11:08:17 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 196.5181ms
[2025-02-07 11:08:17 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 11:08:17 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 2.1779ms
[2025-02-07 11:08:17 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 11:08:17 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 69.1139ms
[2025-02-07 11:08:17 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 11:08:17 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 5.4047ms
[2025-02-07 11:08:17 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 11:08:17 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 19.2521ms
[2025-02-07 11:08:28 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 11:08:28 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 11:08:28 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 11:08:30 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (71ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 11:08:31 Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor] Executing FileContentResult, sending file with download name 'Certificate_1.pdf' ...
[2025-02-07 11:08:31 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 2863.5606ms
[2025-02-07 11:08:31 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 11:08:31 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 200 228236 application/pdf 3001.2824ms
[2025-02-07 11:09:04 ] Starting the application...
[2025-02-07 11:09:04 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 11:09:05 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 11:09:05 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 11:09:05 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 11:09:05 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 11:09:05 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce_Net\Project_Net\Car-Agency\server\src
[2025-02-07 11:09:05 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 11:09:05 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 183.0703ms
[2025-02-07 11:09:05 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 11:09:05 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 11:09:05 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 11:09:05 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 4.9288ms
[2025-02-07 11:09:05 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 15.8838ms
[2025-02-07 11:09:05 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 54.9484ms
[2025-02-07 11:09:05 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 11:09:05 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 20.0064ms
[2025-02-07 11:09:14 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 11:09:14 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 11:09:14 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 11:09:16 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (167ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 11:09:17 Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor] Executing FileContentResult, sending file with download name 'Certificate_1.pdf' ...
[2025-02-07 11:09:17 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 3261.2911ms
[2025-02-07 11:09:17 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 11:09:17 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 200 2187 application/pdf 3382.7512ms
[2025-02-07 11:09:35 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 11:09:35 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 7.3438ms
[2025-02-07 11:09:35 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 11:09:35 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 0.6134ms
[2025-02-07 11:09:35 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 11:09:35 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 11:09:35 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 1.2158ms
[2025-02-07 11:09:35 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 9.0973ms
[2025-02-07 11:09:35 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 11:09:35 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 14.5173ms
[2025-02-07 11:09:40 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 11:09:40 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 1.9892ms
[2025-02-07 11:09:40 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 11:09:40 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 0.4641ms
[2025-02-07 11:09:40 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 11:09:40 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 16.5485ms
[2025-02-07 11:09:40 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 11:09:40 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 0.6291ms
[2025-02-07 11:09:40 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 11:09:40 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 16.4156ms
[2025-02-07 11:09:42 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 11:09:42 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 11:09:42 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 11:09:42 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (51ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 11:09:42 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 239.6526ms
[2025-02-07 11:09:42 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 11:09:42 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
iText.Kernel.Exceptions.PdfException: Pdf indirect object belongs to other PDF document. Copy object to current pdf document.
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfIndirectReference indirectReference)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfWriter.WriteToBody(PdfObject pdfObj)
   at iText.Kernel.Pdf.PdfWriter.FlushObject(PdfObject pdfObject, Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfDocument.FlushObject(PdfObject pdfObject, Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfObject.Flush(Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfObject.Flush()
   at iText.Kernel.Pdf.PdfObjectWrapper`1.Flush()
   at iText.Kernel.Pdf.PdfPage.Flush(Boolean flushResourcesContentStreams)
   at iText.Kernel.Pdf.PdfPage.Flush()
   at iText.Kernel.Pdf.PdfDocument.Close()
   at iText.Layout.Document.Close()
   at Server.Models.CarService.GenerateCertificate(Int32 id)
   at Server.Models.CarService.GenerateCertificate(Int32 id)
   at Server.Controllers.CarController.DownloadCertificate(Int32 id)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext()
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 11:09:42 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 500 null text/plain; charset=utf-8 312.4213ms
[2025-02-07 11:09:49 ] Starting the application...
[2025-02-07 11:09:49 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 11:09:50 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 11:09:50 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 11:09:50 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 11:09:50 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 11:09:50 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce_Net\Project_Net\Car-Agency\server\src
[2025-02-07 11:09:50 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 11:09:50 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 214.6952ms
[2025-02-07 11:09:50 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 11:09:50 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 4.1071ms
[2025-02-07 11:09:50 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 11:09:50 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 11:09:50 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 14.0092ms
[2025-02-07 11:09:51 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 82.9503ms
[2025-02-07 11:09:51 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 11:09:51 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 32.1556ms
[2025-02-07 11:10:03 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 11:10:03 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 5.1509ms
[2025-02-07 11:10:03 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 11:10:03 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 0.6571ms
[2025-02-07 11:10:03 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 11:10:03 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 11:10:03 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 2.3266ms
[2025-02-07 11:10:03 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 27.0092ms
[2025-02-07 11:10:04 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 11:10:04 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 50.7317ms
[2025-02-07 11:10:36 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 11:10:36 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 2.8917ms
[2025-02-07 11:10:36 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 11:10:36 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 0.5759ms
[2025-02-07 11:10:36 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 11:10:36 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 11:10:36 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 1.4121ms
[2025-02-07 11:10:36 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 9.5967ms
[2025-02-07 11:10:36 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 11:10:36 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 13.8592ms
[2025-02-07 11:10:55 ] Starting the application...
[2025-02-07 11:10:56 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 11:10:56 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 11:10:56 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 11:10:56 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 11:10:56 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 11:10:56 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce_Net\Project_Net\Car-Agency\server\src
[2025-02-07 11:10:56 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 11:10:57 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 198.8486ms
[2025-02-07 11:10:57 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 11:10:57 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 3.3792ms
[2025-02-07 11:10:57 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 11:10:57 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 11:10:57 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 13.3759ms
[2025-02-07 11:10:57 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 56.3303ms
[2025-02-07 11:10:57 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 11:10:57 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 23.1881ms
[2025-02-07 11:11:26 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 11:11:26 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 11:11:26 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 11:11:28 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (46ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 11:11:29 Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor] Executing FileContentResult, sending file with download name 'Certificate_1.pdf' ...
[2025-02-07 11:11:29 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 2727.012ms
[2025-02-07 11:11:29 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 11:11:29 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 200 228235 application/pdf 2860.5141ms
[2025-02-07 11:11:48 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 11:11:48 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 12.9421ms
[2025-02-07 11:11:48 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 11:11:48 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 0.6719ms
[2025-02-07 11:11:48 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 11:11:48 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 11:11:48 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 1.1505ms
[2025-02-07 11:11:48 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 24.3959ms
[2025-02-07 11:11:48 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 11:11:48 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 16.2939ms
[2025-02-07 11:11:50 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 11:11:50 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 11:11:50 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 11:11:50 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 11:11:50 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 92.3009ms
[2025-02-07 11:11:50 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 11:11:50 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
iText.Kernel.Exceptions.PdfException: Pdf indirect object belongs to other PDF document. Copy object to current pdf document.
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfIndirectReference indirectReference)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfWriter.WriteToBody(PdfObject pdfObj)
   at iText.Kernel.Pdf.PdfWriter.FlushObject(PdfObject pdfObject, Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfDocument.FlushObject(PdfObject pdfObject, Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfObject.Flush(Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfObject.Flush()
   at iText.Kernel.Pdf.PdfObjectWrapper`1.Flush()
   at iText.Kernel.Pdf.PdfPage.Flush(Boolean flushResourcesContentStreams)
   at iText.Kernel.Pdf.PdfPage.Flush()
   at iText.Kernel.Pdf.PdfDocument.Close()
   at iText.Layout.Document.Close()
   at Server.Models.CarService.GenerateCertificate(Int32 id)
   at Server.Models.CarService.GenerateCertificate(Int32 id)
   at Server.Controllers.CarController.DownloadCertificate(Int32 id)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext()
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 11:11:50 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 500 null text/plain; charset=utf-8 122.6229ms
[2025-02-07 11:12:03 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 11:12:03 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 11:12:03 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 11:12:03 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 11:12:03 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 152.6836ms
[2025-02-07 11:12:03 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 11:12:03 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
iText.Kernel.Exceptions.PdfException: Pdf indirect object belongs to other PDF document. Copy object to current pdf document.
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfIndirectReference indirectReference)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfWriter.WriteToBody(PdfObject pdfObj)
   at iText.Kernel.Pdf.PdfWriter.FlushObject(PdfObject pdfObject, Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfDocument.FlushObject(PdfObject pdfObject, Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfObject.Flush(Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfObject.Flush()
   at iText.Kernel.Pdf.PdfObjectWrapper`1.Flush()
   at iText.Kernel.Pdf.PdfPage.Flush(Boolean flushResourcesContentStreams)
   at iText.Kernel.Pdf.PdfPage.Flush()
   at iText.Kernel.Pdf.PdfDocument.Close()
   at iText.Layout.Document.Close()
   at Server.Models.CarService.GenerateCertificate(Int32 id)
   at Server.Models.CarService.GenerateCertificate(Int32 id)
   at Server.Controllers.CarController.DownloadCertificate(Int32 id)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext()
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 11:12:03 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 500 null text/plain; charset=utf-8 165.7662ms
[2025-02-07 11:12:36 ] Starting the application...
[2025-02-07 11:12:36 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 11:12:36 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 11:12:36 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 11:12:37 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 11:12:37 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 11:12:37 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce_Net\Project_Net\Car-Agency\server\src
[2025-02-07 11:12:37 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 11:12:37 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 195.5807ms
[2025-02-07 11:12:37 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 11:12:37 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 2.4614ms
[2025-02-07 11:12:37 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 11:12:37 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 11:12:37 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 12.4253ms
[2025-02-07 11:12:37 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 50.1276ms
[2025-02-07 11:12:38 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 11:12:38 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 23.1739ms
[2025-02-07 11:12:55 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 11:12:55 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 3.3928ms
[2025-02-07 11:12:55 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 11:12:55 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 0.576ms
[2025-02-07 11:12:55 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 11:12:55 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 11:12:55 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 2.7478ms
[2025-02-07 11:12:55 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 20.7919ms
[2025-02-07 11:12:55 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 11:12:55 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 16.6952ms
[2025-02-07 11:12:59 ] Starting the application...
[2025-02-07 11:13:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 11:13:00 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 11:13:00 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 11:13:00 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 11:13:00 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 11:13:00 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce_Net\Project_Net\Car-Agency\server\src
[2025-02-07 11:13:01 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 11:13:01 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 202.7902ms
[2025-02-07 11:13:01 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 11:13:01 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 11:13:01 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 11:13:01 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 12.1994ms
[2025-02-07 11:13:01 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 14.0051ms
[2025-02-07 11:13:01 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 52.6409ms
[2025-02-07 11:13:01 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 11:13:01 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 24.1639ms
[2025-02-07 11:13:11 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 11:13:11 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 11:13:11 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 11:13:13 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (71ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 11:13:14 Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor] Executing FileContentResult, sending file with download name 'Certificate_1.pdf' ...
[2025-02-07 11:13:14 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 2688.9904ms
[2025-02-07 11:13:14 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 11:13:14 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 200 228793 application/pdf 2791.1283ms
[2025-02-07 11:13:55 ] Starting the application...
[2025-02-07 11:13:56 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 11:13:56 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 11:13:56 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 11:13:56 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 11:13:56 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 11:13:56 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce_Net\Project_Net\Car-Agency\server\src
[2025-02-07 11:13:57 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 11:13:57 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 251.5354ms
[2025-02-07 11:13:57 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 11:13:57 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 11:13:57 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 11:13:57 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 1.7643ms
[2025-02-07 11:13:57 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 14.1583ms
[2025-02-07 11:13:57 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 62.7443ms
[2025-02-07 11:13:58 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 11:13:58 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 19.2073ms
[2025-02-07 11:14:02 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 11:14:02 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 11:14:02 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 11:14:04 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (64ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 11:14:05 Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor] Executing FileContentResult, sending file with download name 'Certificate_1.pdf' ...
[2025-02-07 11:14:05 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 3340.4285ms
[2025-02-07 11:14:05 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 11:14:05 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 200 228235 application/pdf 3581.5154ms
[2025-02-07 11:14:56 ] Starting the application...
[2025-02-07 11:14:57 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 11:14:57 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 11:14:57 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 11:14:57 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 11:14:57 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 11:14:57 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce_Net\Project_Net\Car-Agency\server\src
[2025-02-07 11:14:57 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 11:14:58 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 387.5466ms
[2025-02-07 11:14:58 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 11:14:58 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 11:14:58 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 2.0403ms
[2025-02-07 11:14:58 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 11:14:58 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 15.8359ms
[2025-02-07 11:14:58 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 56.1708ms
[2025-02-07 11:14:58 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 11:14:58 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 22.6872ms
[2025-02-07 11:15:02 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 11:15:02 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 7.4163ms
[2025-02-07 11:15:02 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 11:15:02 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 0.5926ms
[2025-02-07 11:15:02 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 11:15:02 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 17.8294ms
[2025-02-07 11:15:02 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 11:15:02 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 1.0222ms
[2025-02-07 11:15:02 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 11:15:02 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 13.2054ms
[2025-02-07 11:15:21 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 11:15:21 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 11:15:21 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 11:15:23 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (68ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 11:15:23 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 2287.4111ms
[2025-02-07 11:15:23 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 11:15:23 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
System.IO.FileNotFoundException: Could not find file 'F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Pdf\ExportCertificate.jpg'.
File name: 'F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Pdf\ExportCertificate.jpg'
   at Microsoft.Win32.SafeHandles.SafeFileHandle.CreateFile(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options)
   at Microsoft.Win32.SafeHandles.SafeFileHandle.Open(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.File.OpenHandle(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize)
   at System.IO.File.ReadAllBytes(String path)
   at Server.Models.CarService.GenerateCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Services\CarService.cs:line 93
   at Server.Controllers.CarController.DownloadCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Controllers\CarController.cs:line 106
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 11:15:23 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 500 null text/plain; charset=utf-8 2601.6944ms
[2025-02-07 11:15:44 ] Starting the application...
[2025-02-07 11:15:45 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 11:15:45 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 11:15:45 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 11:15:45 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 11:15:45 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 11:15:45 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce_Net\Project_Net\Car-Agency\server\src
[2025-02-07 11:15:45 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 11:15:46 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 246.4043ms
[2025-02-07 11:15:46 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 11:15:46 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 2.7517ms
[2025-02-07 11:15:46 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 11:15:46 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 11:15:46 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 12.0237ms
[2025-02-07 11:15:46 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 48.7661ms
[2025-02-07 11:15:46 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 11:15:46 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 22.0166ms
[2025-02-07 11:15:57 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 11:15:57 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 11:15:57 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 11:15:59 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (52ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 11:16:00 Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor] Executing FileContentResult, sending file with download name 'Certificate_1.pdf' ...
[2025-02-07 11:16:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 2907.2294ms
[2025-02-07 11:16:00 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 11:16:00 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 200 228793 application/pdf 3100.8458ms
[2025-02-07 11:16:56 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 11:16:56 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 4.2617ms
[2025-02-07 11:16:56 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 11:16:56 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 2.3445ms
[2025-02-07 11:16:56 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 11:16:56 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 55.6086ms
[2025-02-07 11:16:56 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 11:16:56 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 0.764ms
[2025-02-07 11:16:56 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 11:16:56 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 18.3903ms
[2025-02-07 11:17:04 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 11:17:04 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 11:17:04 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 11:17:04 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 11:17:04 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 83.989ms
[2025-02-07 11:17:04 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 11:17:04 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
iText.Kernel.Exceptions.PdfException: Pdf indirect object belongs to other PDF document. Copy object to current pdf document.
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfIndirectReference indirectReference)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfWriter.WriteToBody(PdfObject pdfObj)
   at iText.Kernel.Pdf.PdfWriter.FlushObject(PdfObject pdfObject, Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfDocument.FlushObject(PdfObject pdfObject, Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfObject.Flush(Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfObject.Flush()
   at iText.Kernel.Pdf.PdfObjectWrapper`1.Flush()
   at iText.Kernel.Pdf.PdfPage.Flush(Boolean flushResourcesContentStreams)
   at iText.Kernel.Pdf.PdfPage.Flush()
   at iText.Kernel.Pdf.PdfDocument.Close()
   at iText.Layout.Document.Close()
   at Server.Models.CarService.GenerateCertificate(Int32 id)
   at Server.Models.CarService.GenerateCertificate(Int32 id)
   at Server.Controllers.CarController.DownloadCertificate(Int32 id)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext()
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 11:17:04 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 500 null text/plain; charset=utf-8 113.4658ms
[2025-02-07 11:17:10 ] Starting the application...
[2025-02-07 11:17:10 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 11:17:10 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 11:17:10 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 11:17:11 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 11:17:11 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 11:17:11 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce_Net\Project_Net\Car-Agency\server\src
[2025-02-07 11:17:11 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 11:17:11 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 245.2267ms
[2025-02-07 11:17:11 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 11:17:11 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 1.9393ms
[2025-02-07 11:17:11 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 11:17:11 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 11:17:11 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 11.7195ms
[2025-02-07 11:17:11 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 47.354ms
[2025-02-07 11:17:11 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 11:17:11 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 19.522ms
[2025-02-07 11:19:13 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 11:19:16 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 11:19:16 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 11:19:19 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (56ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 11:19:21 Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor] Executing FileContentResult, sending file with download name 'Certificate_1.pdf' ...
[2025-02-07 11:19:21 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 5061.6626ms
[2025-02-07 11:19:21 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 11:19:22 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 200 228793 application/pdf 8241.7937ms
[2025-02-07 11:20:39 ] Starting the application...
[2025-02-07 11:20:40 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 11:20:41 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 11:20:41 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 11:20:41 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 11:20:41 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 11:20:41 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce_Net\Project_Net\Car-Agency\server\src
[2025-02-07 11:20:43 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 11:20:43 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 308.4886ms
[2025-02-07 11:20:43 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 11:20:43 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 2.7891ms
[2025-02-07 11:20:43 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 11:20:43 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 19.4066ms
[2025-02-07 11:20:44 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 11:20:44 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 54.0153ms
[2025-02-07 11:20:44 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 11:20:44 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 24.7383ms
[2025-02-07 11:20:45 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 11:20:45 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 11:20:45 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 11:20:47 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (51ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 11:20:49 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 3561.9481ms
[2025-02-07 11:20:49 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 11:20:49 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
System.IO.FileNotFoundException: Could not find file 'F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Pdf\ExportCertificate 20250207_112048.jpeg'.
File name: 'F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Pdf\ExportCertificate 20250207_112048.jpeg'
   at Microsoft.Win32.SafeHandles.SafeFileHandle.CreateFile(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options)
   at Microsoft.Win32.SafeHandles.SafeFileHandle.Open(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.File.OpenHandle(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize)
   at System.IO.File.ReadAllBytes(String path)
   at Server.Models.CarService.GenerateCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Services\CarService.cs:line 93
   at Server.Controllers.CarController.DownloadCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Controllers\CarController.cs:line 106
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 11:20:49 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 500 null text/plain; charset=utf-8 3822.9991ms
[2025-02-07 11:22:05 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 11:22:05 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 23.4324ms
[2025-02-07 11:22:06 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 11:22:06 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 11:22:06 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 2.6766ms
[2025-02-07 11:22:06 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 11:22:06 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 32.6306ms
[2025-02-07 11:22:06 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 85.3703ms
[2025-02-07 11:22:06 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 11:22:06 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 37.1036ms
[2025-02-07 11:22:26 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 11:22:26 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 69.0633ms
[2025-02-07 11:22:27 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 11:22:27 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 1.0901ms
[2025-02-07 11:22:27 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 11:22:27 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 11.238ms
[2025-02-07 11:22:27 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 11:22:27 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 0.4207ms
[2025-02-07 11:22:27 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 11:22:27 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 10.7717ms
[2025-02-07 11:22:51 ] Starting the application...
[2025-02-07 11:22:51 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 11:22:52 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 11:22:52 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 11:22:52 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 11:22:52 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 11:22:52 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce_Net\Project_Net\Car-Agency\server\src
[2025-02-07 11:22:53 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 11:22:53 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 366.8439ms
[2025-02-07 11:22:53 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 11:22:53 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 11:22:53 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 2.0642ms
[2025-02-07 11:22:53 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 11:22:53 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 13.8612ms
[2025-02-07 11:22:53 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 49.046ms
[2025-02-07 11:22:54 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 11:22:54 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 26.2719ms
[2025-02-07 11:23:26 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 11:23:26 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 11:23:26 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 11:23:28 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (50ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 11:23:29 Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor] Executing FileContentResult, sending file with download name 'Certificate_1.pdf' ...
[2025-02-07 11:23:29 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 2939.3322ms
[2025-02-07 11:23:29 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 11:23:29 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 200 228235 application/pdf 3151.094ms
[2025-02-07 11:25:22 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 11:25:22 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 5.2005ms
[2025-02-07 11:25:22 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 11:25:22 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 1.4182ms
[2025-02-07 11:25:22 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 11:25:22 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 41.4327ms
[2025-02-07 11:25:22 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 11:25:22 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 1.887ms
[2025-02-07 11:25:22 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 11:25:22 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 16.2981ms
[2025-02-07 11:25:30 ] Starting the application...
[2025-02-07 11:25:30 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 11:25:31 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 11:25:31 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 11:25:31 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 11:25:31 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 11:25:31 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce_Net\Project_Net\Car-Agency\server\src
[2025-02-07 11:25:32 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 11:25:32 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 307.7789ms
[2025-02-07 11:25:32 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 11:25:32 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 11:25:32 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 11:25:32 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 2.0278ms
[2025-02-07 11:25:32 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 13.2793ms
[2025-02-07 11:25:32 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 52.74ms
[2025-02-07 11:25:32 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 11:25:32 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 25.0736ms
[2025-02-07 11:25:38 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 11:25:38 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 11:25:38 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 11:25:40 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (48ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 11:25:41 Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor] Executing FileContentResult, sending file with download name 'Certificate_1.pdf' ...
[2025-02-07 11:25:41 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 2921.3955ms
[2025-02-07 11:25:41 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 11:25:41 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 200 229540 application/pdf 3117.1804ms
[2025-02-07 11:26:30 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/api/Car/download/1 - null null
[2025-02-07 11:26:30 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 11:26:30 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 11:26:30 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 11:26:30 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 106.5577ms
[2025-02-07 11:26:30 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 11:26:30 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
iText.Kernel.Exceptions.PdfException: Pdf indirect object belongs to other PDF document. Copy object to current pdf document.
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfIndirectReference indirectReference)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfWriter.WriteToBody(PdfObject pdfObj)
   at iText.Kernel.Pdf.PdfWriter.FlushObject(PdfObject pdfObject, Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfDocument.FlushObject(PdfObject pdfObject, Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfObject.Flush(Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfObject.Flush()
   at iText.Kernel.Pdf.PdfObjectWrapper`1.Flush()
   at iText.Kernel.Pdf.PdfPage.Flush(Boolean flushResourcesContentStreams)
   at iText.Kernel.Pdf.PdfPage.Flush()
   at iText.Kernel.Pdf.PdfDocument.Close()
   at iText.Layout.Document.Close()
   at Server.Models.CarService.GenerateCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Services\CarService.cs:line 112
   at Server.Models.CarService.GenerateCertificate(Int32 id)
   at Server.Controllers.CarController.DownloadCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Controllers\CarController.cs:line 106
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 11:26:30 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/api/Car/download/1 - 500 null text/plain; charset=utf-8 470.9257ms
[2025-02-07 11:26:42 ] Starting the application...
[2025-02-07 11:26:43 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 11:26:43 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 11:26:43 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 11:26:43 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 11:26:43 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 11:26:43 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce_Net\Project_Net\Car-Agency\server\src
[2025-02-07 11:26:44 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 11:26:44 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 246.5624ms
[2025-02-07 11:26:44 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 11:26:44 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 4.1992ms
[2025-02-07 11:26:44 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 11:26:44 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 11:26:44 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 17.8992ms
[2025-02-07 11:26:44 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 105.6075ms
[2025-02-07 11:26:44 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 11:26:44 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 56.47ms
[2025-02-07 11:26:51 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/api/Car/download/1 - null null
[2025-02-07 11:26:51 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 11:26:51 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 11:26:53 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (82ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 11:26:54 Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor] Executing FileContentResult, sending file with download name 'Certificate_1.pdf' ...
[2025-02-07 11:26:54 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 3169.0419ms
[2025-02-07 11:26:54 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 11:26:54 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/api/Car/download/1 - 200 229540 application/pdf 3285.6962ms
[2025-02-07 11:29:35 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 11:29:35 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 11:29:35 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 11:29:35 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (13ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 11:29:35 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 551.2399ms
[2025-02-07 11:29:35 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 11:29:35 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
iText.Kernel.Exceptions.PdfException: Pdf indirect object belongs to other PDF document. Copy object to current pdf document.
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfIndirectReference indirectReference)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfWriter.WriteToBody(PdfObject pdfObj)
   at iText.Kernel.Pdf.PdfWriter.FlushObject(PdfObject pdfObject, Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfDocument.FlushObject(PdfObject pdfObject, Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfObject.Flush(Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfObject.Flush()
   at iText.Kernel.Pdf.PdfObjectWrapper`1.Flush()
   at iText.Kernel.Pdf.PdfPage.Flush(Boolean flushResourcesContentStreams)
   at iText.Kernel.Pdf.PdfPage.Flush()
   at iText.Kernel.Pdf.PdfDocument.Close()
   at iText.Layout.Document.Close()
   at Server.Models.CarService.GenerateCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Services\CarService.cs:line 112
   at Server.Models.CarService.GenerateCertificate(Int32 id)
   at Server.Controllers.CarController.DownloadCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Controllers\CarController.cs:line 106
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 11:29:36 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/api/car/download/1 - 500 null text/html; charset=utf-8 1221.4805ms
[2025-02-07 11:29:36 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 11:29:36 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 11:29:36 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 6.3341ms
[2025-02-07 11:29:36 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 42.892ms
[2025-02-07 11:29:36 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/favicon.ico - null null
[2025-02-07 11:29:36 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/favicon.ico - 401 null application/json; charset=utf-8 273.5352ms
[2025-02-07 11:29:36 Microsoft.AspNetCore.Hosting.Diagnostics] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7299/favicon.ico, Response status code: 401
[2025-02-07 11:29:47 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 11:29:47 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 11:29:47 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 11:29:47 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 11:29:47 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 152.8191ms
[2025-02-07 11:29:47 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 11:29:47 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
iText.Kernel.Exceptions.PdfException: Pdf indirect object belongs to other PDF document. Copy object to current pdf document.
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfIndirectReference indirectReference)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfWriter.WriteToBody(PdfObject pdfObj)
   at iText.Kernel.Pdf.PdfWriter.FlushObject(PdfObject pdfObject, Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfDocument.FlushObject(PdfObject pdfObject, Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfObject.Flush(Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfObject.Flush()
   at iText.Kernel.Pdf.PdfObjectWrapper`1.Flush()
   at iText.Kernel.Pdf.PdfPage.Flush(Boolean flushResourcesContentStreams)
   at iText.Kernel.Pdf.PdfPage.Flush()
   at iText.Kernel.Pdf.PdfDocument.Close()
   at iText.Layout.Document.Close()
   at Server.Models.CarService.GenerateCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Services\CarService.cs:line 112
   at Server.Models.CarService.GenerateCertificate(Int32 id)
   at Server.Controllers.CarController.DownloadCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Controllers\CarController.cs:line 106
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 11:29:47 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/api/car/download/1 - 500 null text/html; charset=utf-8 171.4548ms
[2025-02-07 11:29:47 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 11:29:47 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 11:29:47 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 0.8207ms
[2025-02-07 11:29:47 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 19.0413ms
[2025-02-07 11:29:47 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/favicon.ico - null null
[2025-02-07 11:29:47 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/favicon.ico - 401 null application/json; charset=utf-8 6.9444ms
[2025-02-07 11:29:47 Microsoft.AspNetCore.Hosting.Diagnostics] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7299/favicon.ico, Response status code: 401
[2025-02-07 11:29:49 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 11:29:49 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 11:29:49 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 11:29:49 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 11:29:49 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 36.922ms
[2025-02-07 11:29:49 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 11:29:49 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
iText.Kernel.Exceptions.PdfException: Pdf indirect object belongs to other PDF document. Copy object to current pdf document.
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfIndirectReference indirectReference)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfWriter.WriteToBody(PdfObject pdfObj)
   at iText.Kernel.Pdf.PdfWriter.FlushObject(PdfObject pdfObject, Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfDocument.FlushObject(PdfObject pdfObject, Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfObject.Flush(Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfObject.Flush()
   at iText.Kernel.Pdf.PdfObjectWrapper`1.Flush()
   at iText.Kernel.Pdf.PdfPage.Flush(Boolean flushResourcesContentStreams)
   at iText.Kernel.Pdf.PdfPage.Flush()
   at iText.Kernel.Pdf.PdfDocument.Close()
   at iText.Layout.Document.Close()
   at Server.Models.CarService.GenerateCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Services\CarService.cs:line 112
   at Server.Models.CarService.GenerateCertificate(Int32 id)
   at Server.Controllers.CarController.DownloadCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Controllers\CarController.cs:line 106
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 11:29:49 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/api/car/download/1 - 500 null text/html; charset=utf-8 53.0159ms
[2025-02-07 11:29:49 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 11:29:49 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 11:29:49 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 0.3823ms
[2025-02-07 11:29:49 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 5.4399ms
[2025-02-07 11:29:49 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/favicon.ico - null null
[2025-02-07 11:29:49 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/favicon.ico - 401 null application/json; charset=utf-8 6.4706ms
[2025-02-07 11:29:49 Microsoft.AspNetCore.Hosting.Diagnostics] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7299/favicon.ico, Response status code: 401
[2025-02-07 11:29:57 ] Starting the application...
[2025-02-07 11:29:57 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 11:29:58 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 11:29:58 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 11:29:58 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 11:29:58 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 11:29:58 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 11:29:58 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce_Net\Project_Net\Car-Agency\server\src
[2025-02-07 11:29:58 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 11:29:58 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 11:30:01 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (70ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 11:30:02 Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor] Executing FileContentResult, sending file with download name 'Certificate_1.pdf' ...
[2025-02-07 11:30:02 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 3729.4821ms
[2025-02-07 11:30:02 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 11:30:02 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/api/car/download/1 - 200 229540 application/pdf 4125.8179ms
[2025-02-07 11:30:08 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 11:30:08 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 11:30:08 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 11:30:08 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 11:30:08 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 113.0771ms
[2025-02-07 11:30:08 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 11:30:08 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
iText.Kernel.Exceptions.PdfException: Pdf indirect object belongs to other PDF document. Copy object to current pdf document.
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfIndirectReference indirectReference)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfWriter.WriteToBody(PdfObject pdfObj)
   at iText.Kernel.Pdf.PdfWriter.FlushObject(PdfObject pdfObject, Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfDocument.FlushObject(PdfObject pdfObject, Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfObject.Flush(Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfObject.Flush()
   at iText.Kernel.Pdf.PdfObjectWrapper`1.Flush()
   at iText.Kernel.Pdf.PdfPage.Flush(Boolean flushResourcesContentStreams)
   at iText.Kernel.Pdf.PdfPage.Flush()
   at iText.Kernel.Pdf.PdfDocument.Close()
   at iText.Layout.Document.Close()
   at Server.Models.CarService.GenerateCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Services\CarService.cs:line 112
   at Server.Models.CarService.GenerateCertificate(Int32 id)
   at Server.Controllers.CarController.DownloadCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Controllers\CarController.cs:line 106
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 11:30:08 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/api/car/download/1 - 500 null text/html; charset=utf-8 187.4947ms
[2025-02-07 11:30:08 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 11:30:08 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 11:30:08 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 12.2343ms
[2025-02-07 11:30:08 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 86.2289ms
[2025-02-07 11:30:08 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/favicon.ico - null null
[2025-02-07 11:30:08 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/favicon.ico - 401 null application/json; charset=utf-8 111.1547ms
[2025-02-07 11:30:08 Microsoft.AspNetCore.Hosting.Diagnostics] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7299/favicon.ico, Response status code: 401
[2025-02-07 11:31:04 ] Starting the application...
[2025-02-07 11:31:05 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 11:31:06 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 11:31:06 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 11:31:06 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 11:31:06 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 11:31:06 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce_Net\Project_Net\Car-Agency\server\src
[2025-02-07 11:31:06 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 11:31:07 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 11:31:07 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 11:31:09 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (80ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 11:31:10 Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor] Executing FileContentResult, sending file with download name 'Certificate_1.pdf' ...
[2025-02-07 11:31:11 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 3972.6641ms
[2025-02-07 11:31:11 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 11:31:11 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/api/car/download/1 - 200 229540 application/pdf 4393.0424ms
[2025-02-07 11:31:46 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 11:31:46 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 11:31:46 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 11:31:46 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (12ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 11:31:46 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 250.9646ms
[2025-02-07 11:31:46 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 11:31:46 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
iText.Kernel.Exceptions.PdfException: Pdf indirect object belongs to other PDF document. Copy object to current pdf document.
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfIndirectReference indirectReference)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfWriter.WriteToBody(PdfObject pdfObj)
   at iText.Kernel.Pdf.PdfWriter.FlushObject(PdfObject pdfObject, Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfDocument.FlushObject(PdfObject pdfObject, Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfObject.Flush(Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfObject.Flush()
   at iText.Kernel.Pdf.PdfObjectWrapper`1.Flush()
   at iText.Kernel.Pdf.PdfPage.Flush(Boolean flushResourcesContentStreams)
   at iText.Kernel.Pdf.PdfPage.Flush()
   at iText.Kernel.Pdf.PdfDocument.Close()
   at iText.Layout.Document.Close()
   at Server.Models.CarService.GenerateCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Services\CarService.cs:line 107
   at Server.Models.CarService.GenerateCertificate(Int32 id)
   at Server.Controllers.CarController.DownloadCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Controllers\CarController.cs:line 106
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 11:31:47 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/api/car/download/1 - 500 null text/html; charset=utf-8 624.7917ms
[2025-02-07 11:31:47 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 11:31:47 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 11:31:47 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 17.5355ms
[2025-02-07 11:31:47 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 105.6605ms
[2025-02-07 11:31:47 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/favicon.ico - null null
[2025-02-07 11:31:47 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/favicon.ico - 401 null application/json; charset=utf-8 295.9122ms
[2025-02-07 11:31:47 Microsoft.AspNetCore.Hosting.Diagnostics] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7299/favicon.ico, Response status code: 401
[2025-02-07 11:36:56 ] Starting the application...
[2025-02-07 11:36:57 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 11:36:57 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 11:36:57 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 11:36:57 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 11:36:57 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 11:36:57 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce_Net\Project_Net\Car-Agency\server\src
[2025-02-07 11:36:58 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 11:36:58 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 11:36:58 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 11:37:00 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (59ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 11:37:02 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 3576.0958ms
[2025-02-07 11:37:02 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 11:37:02 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
iText.IO.Exceptions.IOException: Image format cannot be recognized.
   at iText.IO.Image.ImageDataFactory.CreateImageInstance(Byte[] bytes, Boolean recoverImage)
   at iText.IO.Image.ImageDataFactory.Create(Byte[] bytes, Boolean recoverImage)
   at iText.IO.Image.ImageDataFactory.Create(Byte[] bytes)
   at Server.Models.CarService.GenerateCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Services\CarService.cs:line 233
   at Server.Controllers.CarController.DownloadCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Controllers\CarController.cs:line 106
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 11:37:02 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/api/car/download/1 - 500 null text/html; charset=utf-8 4074.746ms
[2025-02-07 11:37:02 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 11:37:02 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 11:37:02 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 6.0499ms
[2025-02-07 11:37:02 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 55.1032ms
[2025-02-07 11:37:02 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/favicon.ico - null null
[2025-02-07 11:37:02 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/favicon.ico - 401 null application/json; charset=utf-8 153.0872ms
[2025-02-07 11:37:02 Microsoft.AspNetCore.Hosting.Diagnostics] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7299/favicon.ico, Response status code: 401
[2025-02-07 11:37:23 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 11:37:23 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 11:37:23 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 11:37:23 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (12ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 11:37:23 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 98.392ms
[2025-02-07 11:37:23 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 11:37:23 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
iText.IO.Exceptions.IOException: Image format cannot be recognized.
   at iText.IO.Image.ImageDataFactory.CreateImageInstance(Byte[] bytes, Boolean recoverImage)
   at iText.IO.Image.ImageDataFactory.Create(Byte[] bytes, Boolean recoverImage)
   at iText.IO.Image.ImageDataFactory.Create(Byte[] bytes)
   at Server.Models.CarService.GenerateCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Services\CarService.cs:line 233
   at Server.Controllers.CarController.DownloadCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Controllers\CarController.cs:line 106
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 11:37:23 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 500 null text/plain; charset=utf-8 122.4162ms
[2025-02-07 11:37:51 ] Starting the application...
[2025-02-07 11:37:52 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 11:37:52 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 11:37:52 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 11:37:53 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 11:37:53 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 11:37:53 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce_Net\Project_Net\Car-Agency\server\src
[2025-02-07 11:37:55 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 11:37:55 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 269.0327ms
[2025-02-07 11:37:55 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 11:37:55 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 3.341ms
[2025-02-07 11:37:55 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 11:37:55 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 11:37:55 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 18.8137ms
[2025-02-07 11:37:55 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 101.7486ms
[2025-02-07 11:37:56 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 11:37:56 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 27.1019ms
[2025-02-07 11:38:16 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 11:38:16 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 11:38:16 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 11:38:18 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (86ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 11:38:20 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 3171.0535ms
[2025-02-07 11:38:20 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 11:38:20 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
iText.IO.Exceptions.IOException: Image format cannot be recognized.
   at iText.IO.Image.ImageDataFactory.CreateImageInstance(Byte[] bytes, Boolean recoverImage)
   at iText.IO.Image.ImageDataFactory.Create(Byte[] bytes, Boolean recoverImage)
   at iText.IO.Image.ImageDataFactory.Create(Byte[] bytes)
   at Server.Models.CarService.GenerateCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Services\CarService.cs:line 233
   at Server.Controllers.CarController.DownloadCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Controllers\CarController.cs:line 106
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 11:38:20 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 500 null text/plain; charset=utf-8 3664.4139ms
[2025-02-07 11:39:06 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 11:39:06 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 4.9905ms
[2025-02-07 11:39:06 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 11:39:06 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 0.4836ms
[2025-02-07 11:39:06 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 11:39:06 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 10.9087ms
[2025-02-07 11:39:06 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 11:39:06 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 6.1921ms
[2025-02-07 11:39:07 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 11:39:07 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 12.3891ms
[2025-02-07 11:39:15 ] Starting the application...
[2025-02-07 11:39:16 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 11:39:16 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 11:39:16 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 11:39:17 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 11:39:17 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 11:39:17 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce_Net\Project_Net\Car-Agency\server\src
[2025-02-07 11:39:17 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 11:39:17 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 224.4737ms
[2025-02-07 11:39:17 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 11:39:17 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 11:39:17 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 2.1555ms
[2025-02-07 11:39:17 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 11:39:17 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 12.6951ms
[2025-02-07 11:39:17 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 61.3836ms
[2025-02-07 11:39:18 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 11:39:18 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 29.9492ms
[2025-02-07 11:39:20 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 11:39:20 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 11:39:20 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 11:39:22 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (55ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 11:39:23 Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor] Executing FileContentResult, sending file with download name 'Certificate_1.pdf' ...
[2025-02-07 11:39:23 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 2927.5303ms
[2025-02-07 11:39:23 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 11:39:23 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 200 236572 application/pdf 3039.259ms
[2025-02-07 11:39:29 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 11:39:29 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 11:39:29 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 11:39:29 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (14ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 11:39:29 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 99.6956ms
[2025-02-07 11:39:29 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 11:39:29 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
iText.Kernel.Exceptions.PdfException: Pdf indirect object belongs to other PDF document. Copy object to current pdf document.
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfIndirectReference indirectReference)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfWriter.WriteToBody(PdfObject pdfObj)
   at iText.Kernel.Pdf.PdfWriter.FlushObject(PdfObject pdfObject, Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfDocument.FlushObject(PdfObject pdfObject, Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfObject.Flush(Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfObject.Flush()
   at iText.Kernel.Pdf.PdfObjectWrapper`1.Flush()
   at iText.Kernel.Pdf.PdfPage.Flush(Boolean flushResourcesContentStreams)
   at iText.Kernel.Pdf.PdfPage.Flush()
   at iText.Kernel.Pdf.PdfDocument.Close()
   at iText.Layout.Document.Close()
   at Server.Models.CarService.GenerateCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Services\CarService.cs:line 238
   at Server.Models.CarService.GenerateCertificate(Int32 id)
   at Server.Controllers.CarController.DownloadCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Controllers\CarController.cs:line 106
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 11:39:29 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 500 null text/plain; charset=utf-8 153.0226ms
[2025-02-07 13:28:07 ] Starting the application...
[2025-02-07 13:28:08 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 13:28:09 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 13:28:09 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 13:28:09 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 13:28:09 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 13:28:09 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce_Net\Project_Net\Car-Agency\server\src
[2025-02-07 13:28:10 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 13:28:11 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 583.8468ms
[2025-02-07 13:28:11 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 13:28:11 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 14.0993ms
[2025-02-07 13:28:11 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 13:28:11 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 13:28:11 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 7.3397ms
[2025-02-07 13:28:11 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 171.3475ms
[2025-02-07 13:28:11 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 13:28:11 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 47.7254ms
[2025-02-07 13:28:15 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 13:28:15 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 13:28:15 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 13:28:19 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (570ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 13:28:21 Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor] Executing FileContentResult, sending file with download name 'Certificate_1.pdf' ...
[2025-02-07 13:28:21 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 6044.5753ms
[2025-02-07 13:28:21 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 13:28:21 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 200 236572 application/pdf 6253.017ms
[2025-02-07 13:28:32 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 13:28:32 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 13:28:32 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 13:28:32 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (93ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 13:28:32 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 325.1981ms
[2025-02-07 13:28:32 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 13:28:32 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
iText.Kernel.Exceptions.PdfException: Pdf indirect object belongs to other PDF document. Copy object to current pdf document.
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfIndirectReference indirectReference)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfDictionary pdfDictionary)
   at iText.Kernel.Pdf.PdfOutputStream.Write(PdfObject pdfObject)
   at iText.Kernel.Pdf.PdfWriter.WriteToBody(PdfObject pdfObj)
   at iText.Kernel.Pdf.PdfWriter.FlushObject(PdfObject pdfObject, Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfDocument.FlushObject(PdfObject pdfObject, Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfObject.Flush(Boolean canBeInObjStm)
   at iText.Kernel.Pdf.PdfObject.Flush()
   at iText.Kernel.Pdf.PdfObjectWrapper`1.Flush()
   at iText.Kernel.Pdf.PdfPage.Flush(Boolean flushResourcesContentStreams)
   at iText.Kernel.Pdf.PdfPage.Flush()
   at iText.Kernel.Pdf.PdfDocument.Close()
   at iText.Layout.Document.Close()
   at Server.Models.CarService.GenerateCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Services\CarService.cs:line 238
   at Server.Models.CarService.GenerateCertificate(Int32 id)
   at Server.Controllers.CarController.DownloadCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Controllers\CarController.cs:line 106
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 13:28:32 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 500 null text/plain; charset=utf-8 387.1492ms
[2025-02-07 13:35:24 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 13:35:24 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 12.1916ms
[2025-02-07 13:35:24 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 13:35:24 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 0.6853ms
[2025-02-07 13:35:24 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 13:35:24 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 13.5405ms
[2025-02-07 13:35:24 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 13:35:24 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 1.1776ms
[2025-02-07 13:35:25 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 13:35:25 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 24.4756ms
[2025-02-07 13:35:40 ] Starting the application...
[2025-02-07 13:35:42 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 13:35:43 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 13:35:43 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 13:35:43 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 13:35:43 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 13:35:43 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce_Net\Project_Net\Car-Agency\server\src
[2025-02-07 13:35:43 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 13:35:43 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 395.1252ms
[2025-02-07 13:35:43 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 13:35:43 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 13:35:43 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 13:35:43 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 21.5872ms
[2025-02-07 13:35:43 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 70.263ms
[2025-02-07 13:35:43 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 100.2888ms
[2025-02-07 13:35:44 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 13:35:44 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 49.6011ms
[2025-02-07 13:36:06 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 13:36:06 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 13:36:06 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 13:36:09 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (91ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 13:36:09 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 2715.9655ms
[2025-02-07 13:36:09 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 13:36:09 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
System.TypeInitializationException: The type initializer for 'Server.Models.CarService' threw an exception.
 ---> System.IO.IOException: path_to_font.ttf not found as file or resource.
   at iText.IO.Source.RandomAccessSourceFactory.CreateByReadingToMemory(String filename)
   at iText.IO.Source.RandomAccessSourceFactory.CreateBestSource(String filename)
   at iText.IO.Font.OpenTypeParser..ctor(String name)
   at iText.IO.Font.TrueTypeFont..ctor(String path)
   at iText.IO.Font.FontProgramFactory.CreateFont(String name, String cmap, Byte[] fontProgram, Boolean cached)
   at iText.IO.Font.FontProgramFactory.CreateFont(String fontProgram, String cmap, Boolean cached)
   at iText.Kernel.Font.PdfFontFactory.CreateFont(String fontProgram, String encoding, EmbeddingStrategy embeddingStrategy, Boolean cached)
   at iText.Kernel.Font.PdfFontFactory.CreateFont(String fontProgram, String encoding, EmbeddingStrategy embeddingStrategy)
   at iText.Kernel.Font.PdfFontFactory.CreateFont(String fontProgram, String encoding)
   at Server.Models.CarService..cctor() in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Services\CarService.cs:line 33
   --- End of inner exception stack trace ---
   at Server.Models.CarService.GenerateCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Services\CarService.cs:line 358
   at Server.Controllers.CarController.DownloadCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Controllers\CarController.cs:line 106
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 13:36:09 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 500 null text/plain; charset=utf-8 3182.3ms
[2025-02-07 13:36:18 ] Starting the application...
[2025-02-07 13:36:19 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 13:36:19 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 13:36:19 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 13:36:19 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 13:36:19 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 13:36:19 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce_Net\Project_Net\Car-Agency\server\src
[2025-02-07 13:36:19 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 13:36:20 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 199.2287ms
[2025-02-07 13:36:20 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 13:36:20 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 13:36:20 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 2.0309ms
[2025-02-07 13:36:20 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 13:36:20 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 13.2411ms
[2025-02-07 13:36:20 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 55.5712ms
[2025-02-07 13:36:20 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 13:36:20 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 22.3144ms
[2025-02-07 13:36:48 ] Starting the application...
[2025-02-07 13:36:49 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 13:36:49 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 13:36:49 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 13:36:49 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 13:36:49 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 13:36:49 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce_Net\Project_Net\Car-Agency\server\src
[2025-02-07 13:36:49 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 13:36:50 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 410.96ms
[2025-02-07 13:36:50 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 13:36:50 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 13:36:50 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 2.0786ms
[2025-02-07 13:36:50 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 60.5649ms
[2025-02-07 13:36:50 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 13:36:50 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 6.2075ms
[2025-02-07 13:36:50 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 13:36:50 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 24.6796ms
[2025-02-07 13:37:12 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 13:37:12 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 13:37:13 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 13:37:15 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (90ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 13:37:15 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 2780.3127ms
[2025-02-07 13:37:15 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 13:37:15 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
System.IO.IOException: path_to_font.ttf not found as file or resource.
   at iText.IO.Source.RandomAccessSourceFactory.CreateByReadingToMemory(String filename)
   at iText.IO.Source.RandomAccessSourceFactory.CreateBestSource(String filename)
   at iText.IO.Font.OpenTypeParser..ctor(String name)
   at iText.IO.Font.TrueTypeFont..ctor(String path)
   at iText.IO.Font.FontProgramFactory.CreateFont(String name, String cmap, Byte[] fontProgram, Boolean cached)
   at iText.IO.Font.FontProgramFactory.CreateFont(String fontProgram, String cmap, Boolean cached)
   at iText.Kernel.Font.PdfFontFactory.CreateFont(String fontProgram, String encoding, EmbeddingStrategy embeddingStrategy, Boolean cached)
   at iText.Kernel.Font.PdfFontFactory.CreateFont(String fontProgram, String encoding, EmbeddingStrategy embeddingStrategy)
   at iText.Kernel.Font.PdfFontFactory.CreateFont(String fontProgram, String encoding)
   at Server.Models.CarService.GenerateCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Services\CarService.cs:line 367
   at Server.Controllers.CarController.DownloadCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Controllers\CarController.cs:line 106
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 13:37:15 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 500 null text/plain; charset=utf-8 3113.5044ms
[2025-02-07 13:39:36 ] Starting the application...
[2025-02-07 13:39:37 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 13:39:37 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 13:39:37 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 13:39:37 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 13:39:37 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 13:39:37 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce_Net\Project_Net\Car-Agency\server\src
[2025-02-07 13:39:40 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 13:39:40 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 264.0793ms
[2025-02-07 13:39:40 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 13:39:40 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 2.3997ms
[2025-02-07 13:39:40 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 13:39:40 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 13:39:40 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 16.7667ms
[2025-02-07 13:39:40 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 62.7203ms
[2025-02-07 13:39:40 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 13:39:40 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 20.8835ms
[2025-02-07 13:39:56 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 13:39:56 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 13:39:56 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 13:39:58 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (54ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 13:39:58 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 2441.4701ms
[2025-02-07 13:39:58 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 13:39:58 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
iText.IO.Exceptions.IOException: Type of font Windows-1252 is not recognized.
   at iText.IO.Font.FontProgramFactory.CreateFont(String name, String cmap, Byte[] fontProgram, Boolean cached)
   at iText.IO.Font.FontProgramFactory.CreateFont(String fontProgram, String cmap, Boolean cached)
   at iText.Kernel.Font.PdfFontFactory.CreateFont(String fontProgram, String encoding, EmbeddingStrategy embeddingStrategy, Boolean cached)
   at iText.Kernel.Font.PdfFontFactory.CreateFont(String fontProgram, String encoding, EmbeddingStrategy embeddingStrategy)
   at iText.Kernel.Font.PdfFontFactory.CreateFont(String fontProgram, String encoding)
   at iText.Kernel.Font.PdfFontFactory.CreateFont(String fontProgram)
   at Server.Models.CarService.GenerateCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Services\CarService.cs:line 368
   at Server.Controllers.CarController.DownloadCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Controllers\CarController.cs:line 106
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 13:39:58 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 500 null text/plain; charset=utf-8 2737.3575ms
[2025-02-07 13:41:13 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 13:41:13 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 11.4926ms
[2025-02-07 13:41:13 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 13:41:13 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 0.5761ms
[2025-02-07 13:41:13 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 13:41:13 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 13:41:13 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 0.9019ms
[2025-02-07 13:41:13 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 26.9659ms
[2025-02-07 13:41:13 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 13:41:13 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 14.7286ms
[2025-02-07 13:41:24 ] Starting the application...
[2025-02-07 13:41:24 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 13:41:24 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 13:41:24 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 13:41:24 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 13:41:24 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 13:41:24 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce_Net\Project_Net\Car-Agency\server\src
[2025-02-07 13:41:25 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 13:41:25 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 309.8702ms
[2025-02-07 13:41:25 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 13:41:25 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 13:41:25 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 2.8727ms
[2025-02-07 13:41:25 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 13:41:25 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 15.6717ms
[2025-02-07 13:41:25 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 61.4925ms
[2025-02-07 13:41:25 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 13:41:25 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 24.4114ms
[2025-02-07 13:41:46 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 13:41:46 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 13:41:46 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 13:41:48 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (57ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 13:41:49 Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor] Executing FileContentResult, sending file with download name 'Certificate_1.pdf' ...
[2025-02-07 13:41:49 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 3014.7615ms
[2025-02-07 13:41:49 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 13:41:49 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 200 236213 application/pdf 3141.0374ms
[2025-02-07 13:41:54 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 13:41:54 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 13:41:54 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 13:41:54 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 13:41:54 Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor] Executing FileContentResult, sending file with download name 'Certificate_1.pdf' ...
[2025-02-07 13:41:54 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 79.3171ms
[2025-02-07 13:41:54 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 13:41:54 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 200 236213 application/pdf 88.131ms
[2025-02-07 13:41:58 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 13:41:58 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 13:41:58 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 13:41:58 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 13:41:58 Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor] Executing FileContentResult, sending file with download name 'Certificate_1.pdf' ...
[2025-02-07 13:41:58 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 148.2147ms
[2025-02-07 13:41:58 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 13:41:58 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 200 236213 application/pdf 152.0031ms
[2025-02-07 13:43:54 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 13:43:54 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 11.9665ms
[2025-02-07 13:43:55 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 13:43:55 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 13:43:55 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 0.6026ms
[2025-02-07 13:43:55 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 25.5582ms
[2025-02-07 13:43:55 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 13:43:55 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 0.8163ms
[2025-02-07 13:43:55 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 13:43:55 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 16.3208ms
[2025-02-07 13:43:59 ] Starting the application...
[2025-02-07 13:43:59 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 13:43:59 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 13:43:59 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 13:44:00 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 13:44:00 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 13:44:00 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce_Net\Project_Net\Car-Agency\server\src
[2025-02-07 13:44:00 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 13:44:00 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 213.484ms
[2025-02-07 13:44:00 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 13:44:00 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 13:44:00 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 1.8637ms
[2025-02-07 13:44:00 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 13:44:00 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 11.8176ms
[2025-02-07 13:44:00 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 55.047ms
[2025-02-07 13:44:00 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 13:44:00 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 18.5682ms
[2025-02-07 13:44:13 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 13:44:13 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 13:44:13 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 13:44:15 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (50ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 13:44:15 Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor] Executing FileContentResult, sending file with download name 'Certificate_1.pdf' ...
[2025-02-07 13:44:15 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 2474.9801ms
[2025-02-07 13:44:15 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 13:44:15 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 200 236019 application/pdf 2632.3797ms
[2025-02-07 13:44:31 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 13:44:31 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 13:44:31 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 13:44:31 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 13:44:31 Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor] Executing FileContentResult, sending file with download name 'Certificate_1.pdf' ...
[2025-02-07 13:44:31 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 89.1632ms
[2025-02-07 13:44:31 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 13:44:31 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 200 236019 application/pdf 96.2713ms
[2025-02-07 13:46:59 ] Starting the application...
[2025-02-07 13:47:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 13:47:00 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 13:47:00 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 13:47:00 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 13:47:00 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 13:47:00 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce_Net\Project_Net\Car-Agency\server\src
[2025-02-07 13:47:00 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 13:47:01 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 164.3809ms
[2025-02-07 13:47:01 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 13:47:01 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 13:47:01 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 2.0381ms
[2025-02-07 13:47:01 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 13:47:01 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 14.7786ms
[2025-02-07 13:47:01 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 48.5953ms
[2025-02-07 13:47:01 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 13:47:01 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 35.5163ms
[2025-02-07 13:47:04 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 13:47:05 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 13:47:05 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 13:47:06 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (56ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 13:47:07 Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor] Executing FileContentResult, sending file with download name 'Certificate_1.pdf' ...
[2025-02-07 13:47:07 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 2855.2835ms
[2025-02-07 13:47:07 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 13:47:07 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 200 236572 application/pdf 2991.9074ms
[2025-02-07 13:47:14 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 13:47:14 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 13:47:14 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 13:47:14 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 13:47:14 Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor] Executing FileContentResult, sending file with download name 'Certificate_1.pdf' ...
[2025-02-07 13:47:14 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 93.3255ms
[2025-02-07 13:47:14 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 13:47:14 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 200 236572 application/pdf 100.1635ms
[2025-02-07 13:47:41 Microsoft.AspNetCore.Server.Kestrel] As of ""2025-02-07T11:47:40.9455702+00:00"", the heartbeat has been running for ""00:00:01.0995327"" which is longer than ""00:00:01"". This could be caused by thread pool starvation.
[2025-02-07 13:50:54 ] Starting the application...
[2025-02-07 13:50:55 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 13:50:56 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 13:50:56 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 13:50:56 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 13:50:56 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 13:50:56 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce_Net\Project_Net\Car-Agency\server\src
[2025-02-07 13:50:56 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 13:50:56 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 185.5611ms
[2025-02-07 13:50:56 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 13:50:56 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 2.9715ms
[2025-02-07 13:50:56 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 13:50:56 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 13:50:56 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 22.2898ms
[2025-02-07 13:50:57 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 57.0863ms
[2025-02-07 13:50:57 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 13:50:57 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 21.9318ms
[2025-02-07 14:02:12 ] Starting the application...
[2025-02-07 14:02:15 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 14:02:15 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 14:02:15 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 14:02:15 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 14:02:15 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 14:02:15 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce_Net\Project_Net\Car-Agency\server\src
[2025-02-07 14:02:17 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 14:02:17 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 234.6299ms
[2025-02-07 14:02:18 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 14:02:18 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 14:02:18 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 14:02:18 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 4.7772ms
[2025-02-07 14:02:18 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 29.9577ms
[2025-02-07 14:02:18 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 98.8999ms
[2025-02-07 14:02:18 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 14:02:18 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 39.1754ms
[2025-02-07 14:02:29 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 14:02:30 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 14:02:30 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 14:02:35 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (127ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 14:02:46 Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor] Executing FileContentResult, sending file with download name 'Certificate_1.pdf' ...
[2025-02-07 14:02:46 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 15896.6024ms
[2025-02-07 14:02:46 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 14:02:46 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 200 301209 application/pdf 17675.2852ms
[2025-02-07 14:04:40 ] Starting the application...
[2025-02-07 14:04:41 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 14:04:42 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 14:04:42 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 14:04:42 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 14:04:42 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 14:04:42 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce_Net\Project_Net\Car-Agency\server\src
[2025-02-07 14:04:42 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 14:04:43 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 223.7002ms
[2025-02-07 14:04:43 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 14:04:43 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 2.9392ms
[2025-02-07 14:04:43 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 14:04:43 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 14:04:43 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 14.7356ms
[2025-02-07 14:04:43 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 57.5086ms
[2025-02-07 14:04:43 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 14:04:43 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 14:04:43 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 18.8263ms
[2025-02-07 14:04:43 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 14:04:43 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 14:04:45 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (57ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 14:04:46 Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor] Executing FileContentResult, sending file with download name 'Certificate_1.pdf' ...
[2025-02-07 14:04:46 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 3266.996ms
[2025-02-07 14:04:46 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 14:04:46 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 200 236577 application/pdf 3564.3872ms
[2025-02-07 14:04:52 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 14:04:52 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 14:04:52 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 14:04:52 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 14:04:52 Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor] Executing FileContentResult, sending file with download name 'Certificate_1.pdf' ...
[2025-02-07 14:04:52 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 101.5194ms
[2025-02-07 14:04:52 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 14:04:52 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 200 236577 application/pdf 108.7826ms
[2025-02-07 14:07:51 ] Starting the application...
[2025-02-07 14:07:52 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 14:07:52 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 14:07:52 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 14:07:52 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 14:07:52 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 14:07:52 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce_Net\Project_Net\Car-Agency\server\src
[2025-02-07 14:07:52 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 14:07:53 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 186.4645ms
[2025-02-07 14:07:53 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 14:07:53 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 2.6127ms
[2025-02-07 14:07:53 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 14:07:53 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 14:07:53 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 11.6997ms
[2025-02-07 14:07:53 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 57.9168ms
[2025-02-07 14:07:53 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 14:07:53 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 26.5288ms
[2025-02-07 14:08:03 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 14:08:03 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 14:08:03 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 14:08:06 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (54ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 14:08:07 Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor] Executing FileContentResult, sending file with download name 'Certificate_1.pdf' ...
[2025-02-07 14:08:07 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 4150.1021ms
[2025-02-07 14:08:07 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 14:08:07 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 200 236577 application/pdf 4251.2271ms
[2025-02-07 14:08:10 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 14:08:10 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 14:08:10 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 14:08:10 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 14:08:10 Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor] Executing FileContentResult, sending file with download name 'Certificate_1.pdf' ...
[2025-02-07 14:08:10 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 104.8691ms
[2025-02-07 14:08:10 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 14:08:10 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 200 236577 application/pdf 109.853ms
[2025-02-07 14:14:53 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 14:14:53 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 10.8914ms
[2025-02-07 14:14:53 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 14:14:53 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 0.7695ms
[2025-02-07 14:14:53 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 14:14:53 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 42.4548ms
[2025-02-07 14:14:53 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 14:14:53 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 2.0594ms
[2025-02-07 14:14:53 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 14:14:53 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 18.9375ms
[2025-02-07 14:17:43 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 14:17:43 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 16.5002ms
[2025-02-07 14:17:43 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 14:17:43 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 14:17:43 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 14:17:43 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 0.6282ms
[2025-02-07 14:17:43 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 1.7902ms
[2025-02-07 14:17:43 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 23.4308ms
[2025-02-07 14:17:44 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 14:17:44 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 13.6834ms
[2025-02-07 14:19:14 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 14:19:14 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 63.3293ms
[2025-02-07 14:19:14 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 14:19:14 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 0.4457ms
[2025-02-07 14:19:14 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 14:19:14 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 16.112ms
[2025-02-07 14:19:15 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 14:19:15 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 1.1895ms
[2025-02-07 14:19:15 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 14:19:15 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 11.9605ms
[2025-02-07 14:19:25 ] Starting the application...
[2025-02-07 14:19:26 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 14:19:26 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 14:19:26 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 14:19:26 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 14:19:26 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 14:19:26 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce_Net\Project_Net\Car-Agency\server\src
[2025-02-07 14:19:27 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 14:19:27 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 241.1153ms
[2025-02-07 14:19:27 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 14:19:27 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 14:19:27 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 14:19:27 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 9.365ms
[2025-02-07 14:19:27 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 26.402ms
[2025-02-07 14:19:27 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 65.0044ms
[2025-02-07 14:19:27 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 14:19:27 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 23.8054ms
[2025-02-07 14:19:42 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 14:19:42 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 14:19:42 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 14:19:44 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (73ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 14:19:45 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 2804.0138ms
[2025-02-07 14:19:45 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 14:19:45 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.set_Position(Int64 value)
   at Server.Models.CarService.GenerateCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Services\CarService.cs:line 108
   at Server.Controllers.CarController.DownloadCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Controllers\CarController.cs:line 106
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 14:19:45 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 500 null text/plain; charset=utf-8 3152.7227ms
[2025-02-07 14:20:44 ] Starting the application...
[2025-02-07 14:20:44 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 14:20:45 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 14:20:45 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 14:20:45 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 14:20:45 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 14:20:45 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce_Net\Project_Net\Car-Agency\server\src
[2025-02-07 14:20:46 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 14:20:46 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 465.0097ms
[2025-02-07 14:20:46 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 14:20:46 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 14:20:46 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 2.2835ms
[2025-02-07 14:20:46 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 14:20:46 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 20.811ms
[2025-02-07 14:20:46 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 117.1359ms
[2025-02-07 14:20:47 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 14:20:47 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 41.7449ms
[2025-02-07 14:20:50 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 14:20:50 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 14:20:50 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 14:20:52 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (95ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 14:20:53 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 3071.4898ms
[2025-02-07 14:20:53 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 14:20:53 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.set_Position(Int64 value)
   at Server.Models.CarService.GenerateCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Services\CarService.cs:line 113
   at Server.Controllers.CarController.DownloadCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Controllers\CarController.cs:line 106
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 14:20:53 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 500 null text/plain; charset=utf-8 3220.4198ms
[2025-02-07 14:21:22 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 14:21:22 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 3.7225ms
[2025-02-07 14:21:22 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 14:21:22 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 0.8445ms
[2025-02-07 14:21:22 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 14:21:22 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 14:21:22 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 0.9446ms
[2025-02-07 14:21:22 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 14.8208ms
[2025-02-07 14:21:24 ] Starting the application...
[2025-02-07 14:21:25 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 14:21:25 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 14:21:25 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 14:21:26 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 14:21:26 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 14:21:26 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce_Net\Project_Net\Car-Agency\server\src
[2025-02-07 14:21:26 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 14:21:26 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 162.1596ms
[2025-02-07 14:21:26 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 14:21:26 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 14:21:26 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 14:21:26 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 5.1638ms
[2025-02-07 14:21:26 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 15.9514ms
[2025-02-07 14:21:26 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 181.707ms
[2025-02-07 14:21:26 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 14:21:27 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 50.8372ms
[2025-02-07 14:21:33 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 14:21:33 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 14:21:33 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 14:21:36 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (84ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 14:21:37 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 4404.9208ms
[2025-02-07 14:21:37 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 14:21:37 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.set_Position(Int64 value)
   at Server.Models.CarService.GenerateCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Services\CarService.cs:line 113
   at Server.Controllers.CarController.DownloadCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Controllers\CarController.cs:line 106
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 14:21:37 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 500 null text/plain; charset=utf-8 4830.6471ms
[2025-02-07 14:22:44 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 14:22:44 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 15.3082ms
[2025-02-07 14:22:44 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 14:22:44 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 1.1903ms
[2025-02-07 14:22:44 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 14:22:44 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 15.7023ms
[2025-02-07 14:22:44 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 14:22:44 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 1.1928ms
[2025-02-07 14:22:44 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 14:22:44 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 17.1431ms
[2025-02-07 14:22:51 ] Starting the application...
[2025-02-07 14:22:51 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 14:22:52 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 14:22:52 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 14:22:52 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 14:22:52 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 14:22:52 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce_Net\Project_Net\Car-Agency\server\src
[2025-02-07 14:22:52 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 14:22:52 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 303.0439ms
[2025-02-07 14:22:52 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 14:22:52 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 3.9326ms
[2025-02-07 14:22:52 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 14:22:52 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 14:22:52 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 12.0129ms
[2025-02-07 14:22:52 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 50.0646ms
[2025-02-07 14:22:52 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 14:22:52 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 21.8771ms
[2025-02-07 14:23:02 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 14:23:02 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 14:23:03 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 14:23:04 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (52ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 14:23:05 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 2770.0476ms
[2025-02-07 14:23:05 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 14:23:05 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.set_Position(Int64 value)
   at Server.Models.CarService.GenerateCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Services\CarService.cs:line 144
   at Server.Controllers.CarController.DownloadCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Controllers\CarController.cs:line 106
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 14:23:05 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 500 null text/plain; charset=utf-8 3023.2106ms
[2025-02-07 14:23:18 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 14:23:18 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 5.8266ms
[2025-02-07 14:23:18 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 14:23:18 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 14:23:18 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 2.9242ms
[2025-02-07 14:23:18 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 11.9636ms
[2025-02-07 14:23:18 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 14:23:18 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 1.7502ms
[2025-02-07 14:23:19 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 14:23:19 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 12.1944ms
[2025-02-07 14:23:23 ] Starting the application...
[2025-02-07 14:23:24 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 14:23:24 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 14:23:24 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 14:23:24 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 14:23:24 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 14:23:24 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce_Net\Project_Net\Car-Agency\server\src
[2025-02-07 14:23:25 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 14:23:25 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 789.679ms
[2025-02-07 14:23:26 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 14:23:26 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 14:23:26 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 2.5483ms
[2025-02-07 14:23:26 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 14:23:26 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 25.5356ms
[2025-02-07 14:23:26 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 228.7477ms
[2025-02-07 14:23:26 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 14:23:26 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 22.5905ms
[2025-02-07 14:27:21 ] Starting the application...
[2025-02-07 14:27:25 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 14:27:25 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 14:27:25 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 14:27:25 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 14:27:25 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 14:27:25 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce_Net\Project_Net\Car-Agency\server\src
[2025-02-07 14:27:26 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 14:27:26 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 183.8014ms
[2025-02-07 14:27:26 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 14:27:26 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 2.9842ms
[2025-02-07 14:27:26 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 14:27:26 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 79.6683ms
[2025-02-07 14:27:26 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 14:27:26 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 7.0684ms
[2025-02-07 14:27:26 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 14:27:26 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 21.0746ms
[2025-02-07 14:27:38 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 14:27:39 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 14:27:40 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 14:27:44 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (123ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 14:27:55 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 15325.5184ms
[2025-02-07 14:27:55 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 14:27:55 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.set_Position(Int64 value)
   at Server.Models.CarService.GenerateCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Services\CarService.cs:line 147
   at Server.Controllers.CarController.DownloadCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Controllers\CarController.cs:line 106
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 14:27:55 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 500 null text/plain; charset=utf-8 17328.6947ms
[2025-02-07 14:27:58 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 14:27:58 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 14:27:58 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 14:27:58 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (12ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 14:27:58 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 111.1841ms
[2025-02-07 14:27:58 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 14:27:58 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.set_Position(Int64 value)
   at Server.Models.CarService.GenerateCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Services\CarService.cs:line 147
   at Server.Controllers.CarController.DownloadCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Controllers\CarController.cs:line 106
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 14:27:58 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 500 null text/plain; charset=utf-8 124.1098ms
[2025-02-07 14:28:44 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 14:28:44 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 14:28:44 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 14:28:45 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 14:28:45 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 200.65ms
[2025-02-07 14:28:45 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 14:28:45 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.set_Position(Int64 value)
   at Server.Models.CarService.GenerateCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Services\CarService.cs:line 147
   at Server.Controllers.CarController.DownloadCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Controllers\CarController.cs:line 106
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 14:28:45 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 500 null text/plain; charset=utf-8 208.2609ms
[2025-02-07 14:29:08 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 14:29:08 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 6.1884ms
[2025-02-07 14:29:08 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 14:29:08 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 0.5338ms
[2025-02-07 14:29:08 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 14:29:08 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 45.6401ms
[2025-02-07 14:29:08 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 14:29:08 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 1.2364ms
[2025-02-07 14:29:08 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 14:29:08 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 23.0644ms
[2025-02-07 14:29:20 ] Starting the application...
[2025-02-07 14:29:21 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 14:29:21 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 14:29:21 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 14:29:21 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 14:29:21 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 14:29:21 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce_Net\Project_Net\Car-Agency\server\src
[2025-02-07 14:29:22 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 14:29:22 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 275.111ms
[2025-02-07 14:29:22 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 14:29:22 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 2.3977ms
[2025-02-07 14:29:22 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 14:29:22 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 14:29:22 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 12.5147ms
[2025-02-07 14:29:22 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 64.4925ms
[2025-02-07 14:29:23 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 14:29:23 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 26.5279ms
[2025-02-07 14:29:31 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 14:29:31 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 14:29:31 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 14:29:33 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (60ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 14:29:34 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 2758.0672ms
[2025-02-07 14:29:34 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 14:29:34 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
iText.IO.Exceptions.IOException: Image format cannot be recognized.
   at iText.IO.Image.ImageDataFactory.CreateImageInstance(Byte[] bytes, Boolean recoverImage)
   at iText.IO.Image.ImageDataFactory.Create(Byte[] bytes, Boolean recoverImage)
   at iText.IO.Image.ImageDataFactory.Create(Byte[] bytes)
   at Server.Models.CarService.GenerateCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Services\CarService.cs:line 104
   at Server.Controllers.CarController.DownloadCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Controllers\CarController.cs:line 106
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 14:29:34 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 500 null text/plain; charset=utf-8 2974.4529ms
[2025-02-07 14:29:54 ] Starting the application...
[2025-02-07 14:29:55 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 14:29:55 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 14:29:55 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 14:29:56 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 14:29:56 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 14:29:56 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce_Net\Project_Net\Car-Agency\server\src
[2025-02-07 14:29:56 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 14:29:56 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 279.8116ms
[2025-02-07 14:29:56 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 14:29:56 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 2.3996ms
[2025-02-07 14:29:56 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 14:29:56 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 14:29:56 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 11.0028ms
[2025-02-07 14:29:56 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 63.4601ms
[2025-02-07 14:29:57 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 14:29:57 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 14:29:57 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 14:29:57 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 14:29:57 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 17.7348ms
[2025-02-07 14:29:59 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (82ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 14:29:59 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 2841.0814ms
[2025-02-07 14:29:59 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 14:29:59 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
iText.IO.Exceptions.IOException: Image format cannot be recognized.
   at iText.IO.Image.ImageDataFactory.CreateImageInstance(Byte[] bytes, Boolean recoverImage)
   at iText.IO.Image.ImageDataFactory.Create(Byte[] bytes, Boolean recoverImage)
   at iText.IO.Image.ImageDataFactory.Create(Byte[] bytes)
   at Server.Models.CarService.GenerateCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Services\CarService.cs:line 104
   at Server.Controllers.CarController.DownloadCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Controllers\CarController.cs:line 106
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 14:30:00 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 500 null text/plain; charset=utf-8 3044.1352ms
[2025-02-07 14:30:02 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 14:30:02 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 14:30:02 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 14:30:02 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 14:30:02 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 78.0909ms
[2025-02-07 14:30:02 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 14:30:02 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
iText.IO.Exceptions.IOException: Image format cannot be recognized.
   at iText.IO.Image.ImageDataFactory.CreateImageInstance(Byte[] bytes, Boolean recoverImage)
   at iText.IO.Image.ImageDataFactory.Create(Byte[] bytes, Boolean recoverImage)
   at iText.IO.Image.ImageDataFactory.Create(Byte[] bytes)
   at Server.Models.CarService.GenerateCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Services\CarService.cs:line 104
   at Server.Controllers.CarController.DownloadCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Controllers\CarController.cs:line 106
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 14:30:02 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 500 null text/plain; charset=utf-8 89.3572ms
[2025-02-07 14:30:10 ] Starting the application...
[2025-02-07 14:30:11 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 14:30:11 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 14:30:11 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 14:30:11 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 14:30:11 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 14:30:11 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce_Net\Project_Net\Car-Agency\server\src
[2025-02-07 14:30:12 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 14:30:12 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 253.11ms
[2025-02-07 14:30:12 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 14:30:12 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 2.264ms
[2025-02-07 14:30:12 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 14:30:12 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 14:30:12 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 12.0415ms
[2025-02-07 14:30:12 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 55.3827ms
[2025-02-07 14:30:12 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 14:30:12 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 20.7566ms
[2025-02-07 14:30:19 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 14:30:19 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 14:30:19 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 14:30:21 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (50ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 14:30:22 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 2709.5832ms
[2025-02-07 14:30:22 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 14:30:22 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
iText.IO.Exceptions.IOException: Image format cannot be recognized.
   at iText.IO.Image.ImageDataFactory.CreateImageInstance(Byte[] bytes, Boolean recoverImage)
   at iText.IO.Image.ImageDataFactory.Create(Byte[] bytes, Boolean recoverImage)
   at iText.IO.Image.ImageDataFactory.Create(Byte[] bytes)
   at Server.Models.CarService.GenerateCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Services\CarService.cs:line 104
   at Server.Controllers.CarController.DownloadCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Controllers\CarController.cs:line 106
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 14:30:22 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 500 null text/plain; charset=utf-8 2832.79ms
[2025-02-07 14:31:09 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 14:31:09 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 5.5385ms
[2025-02-07 14:31:09 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 14:31:09 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 0.6744ms
[2025-02-07 14:31:09 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 14:31:09 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 14:31:09 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 1.1295ms
[2025-02-07 14:31:09 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 69.1809ms
[2025-02-07 14:31:10 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 14:31:10 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 15.0805ms
[2025-02-07 14:31:18 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 14:31:18 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 3.0464ms
[2025-02-07 14:31:18 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 14:31:18 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 0.5587ms
[2025-02-07 14:31:18 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 14:31:18 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 10.4234ms
[2025-02-07 14:31:18 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 14:31:18 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 0.7155ms
[2025-02-07 14:31:21 ] Starting the application...
[2025-02-07 14:31:22 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 14:31:22 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 14:31:22 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 14:31:22 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 14:31:22 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 14:31:22 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce_Net\Project_Net\Car-Agency\server\src
[2025-02-07 14:31:23 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 14:31:23 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 181.6295ms
[2025-02-07 14:31:23 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 14:31:23 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 2.656ms
[2025-02-07 14:31:23 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 14:31:23 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 14:31:23 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 12.965ms
[2025-02-07 14:31:23 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 53.7577ms
[2025-02-07 14:31:23 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 14:31:23 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 24.7956ms
[2025-02-07 14:31:29 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 14:31:30 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 14:31:30 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 14:31:31 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (86ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 14:31:32 Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor] Executing FileContentResult, sending file with download name 'Certificate_1.pdf' ...
[2025-02-07 14:31:32 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 2815.7586ms
[2025-02-07 14:31:32 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 14:31:32 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 200 236577 application/pdf 3022.7387ms
[2025-02-07 14:31:38 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 14:31:38 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 14:31:38 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 14:31:38 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 14:31:38 Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor] Executing FileContentResult, sending file with download name 'Certificate_1.pdf' ...
[2025-02-07 14:31:38 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 102.5547ms
[2025-02-07 14:31:38 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 14:31:38 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 200 236577 application/pdf 109.5687ms
[2025-02-07 14:32:36 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 14:32:36 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 14:32:36 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 14:32:38 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (1,529ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 14:32:38 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 1817.1449ms
[2025-02-07 14:32:38 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 14:32:38 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
System.IO.FileNotFoundException: Could not find file 'F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Pdf\ExportCertificate.jpeg'.
File name: 'F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Pdf\ExportCertificate.jpeg'
   at Microsoft.Win32.SafeHandles.SafeFileHandle.CreateFile(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options)
   at Microsoft.Win32.SafeHandles.SafeFileHandle.Open(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.File.OpenHandle(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize)
   at System.IO.File.ReadAllBytes(String path)
   at Server.Models.CarService.GenerateCertificate(Int32 id)
   at Server.Controllers.CarController.DownloadCertificate(Int32 id)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext()
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 14:32:38 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 500 null text/plain; charset=utf-8 1878.349ms
[2025-02-07 14:32:49 ] Starting the application...
[2025-02-07 14:32:50 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 14:32:50 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 14:32:50 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 14:32:50 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 14:32:50 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 14:32:50 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce_Net\Project_Net\Car-Agency\server\src
[2025-02-07 14:32:51 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 14:32:51 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 406.5735ms
[2025-02-07 14:32:51 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 14:32:51 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 14:32:51 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 14:32:51 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 4.6829ms
[2025-02-07 14:32:51 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 50.7015ms
[2025-02-07 14:32:51 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 71.8772ms
[2025-02-07 14:32:51 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 14:32:51 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 35.5208ms
[2025-02-07 14:33:03 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 14:33:04 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 14:33:04 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 14:33:06 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (68ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 14:33:07 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 3569.0385ms
[2025-02-07 14:33:07 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 14:33:07 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
iText.IO.Exceptions.IOException: Image format cannot be recognized.
   at iText.IO.Image.ImageDataFactory.CreateImageInstance(Byte[] bytes, Boolean recoverImage)
   at iText.IO.Image.ImageDataFactory.Create(Byte[] bytes, Boolean recoverImage)
   at iText.IO.Image.ImageDataFactory.Create(Byte[] bytes)
   at Server.Models.CarService.GenerateCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Services\CarService.cs:line 105
   at Server.Controllers.CarController.DownloadCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Controllers\CarController.cs:line 106
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 14:33:07 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 500 null text/plain; charset=utf-8 3817.5011ms
[2025-02-07 14:35:45 ] Starting the application...
[2025-02-07 14:35:46 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 14:35:47 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 14:35:47 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 14:35:47 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 14:35:47 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 14:35:47 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce_Net\Project_Net\Car-Agency\server\src
[2025-02-07 14:35:48 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 14:35:48 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 250.2228ms
[2025-02-07 14:35:48 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 14:35:48 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 14:35:48 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 14:35:48 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 8.1914ms
[2025-02-07 14:35:48 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 28.0516ms
[2025-02-07 14:35:48 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 79.4114ms
[2025-02-07 14:35:48 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 14:35:48 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 41.9392ms
[2025-02-07 14:35:55 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 14:35:55 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 14:35:55 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 14:35:58 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (72ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 14:35:59 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 3523.029ms
[2025-02-07 14:35:59 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 14:35:59 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
iText.IO.Exceptions.IOException: Image format cannot be recognized.
   at iText.IO.Image.ImageDataFactory.CreateImageInstance(Byte[] bytes, Boolean recoverImage)
   at iText.IO.Image.ImageDataFactory.Create(Byte[] bytes, Boolean recoverImage)
   at iText.IO.Image.ImageDataFactory.Create(Byte[] bytes)
   at Server.Models.CarService.GenerateCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Services\CarService.cs:line 105
   at Server.Controllers.CarController.DownloadCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Controllers\CarController.cs:line 106
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 14:35:59 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 500 null text/plain; charset=utf-8 3794.5876ms
[2025-02-07 14:39:24 ] Starting the application...
[2025-02-07 14:39:24 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\Amr Gamal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 14:39:25 Microsoft.Hosting.Lifetime] Now listening on: https://localhost:7299
[2025-02-07 14:39:25 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5185
[2025-02-07 14:39:25 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 14:39:25 Microsoft.Hosting.Lifetime] Hosting environment: Development
[2025-02-07 14:39:25 Microsoft.Hosting.Lifetime] Content root path: F:\Ecommerce_Net\Project_Net\Car-Agency\server\src
[2025-02-07 14:39:27 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 14:39:27 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 317.7987ms
[2025-02-07 14:39:27 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 14:39:27 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 14:39:27 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 2.5289ms
[2025-02-07 14:39:27 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 14:39:27 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 37.7288ms
[2025-02-07 14:39:28 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 192.7192ms
[2025-02-07 14:39:28 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 14:39:28 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 41.2178ms
[2025-02-07 14:39:34 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 14:39:34 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 14:39:34 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 14:39:36 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (53ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 14:39:37 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 3008.4047ms
[2025-02-07 14:39:37 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 14:39:37 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
System.Exception: Error generating certificate: Cannot access a closed Stream.
   at Server.Models.CarService.GenerateCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Services\CarService.cs:line 249
   at Server.Controllers.CarController.DownloadCertificate(Int32 id) in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Controllers\CarController.cs:line 106
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in F:\Ecommerce_Net\Project_Net\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-02-07 14:39:38 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 500 null text/plain; charset=utf-8 3275.8305ms
[2025-02-07 14:40:05 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.html - null null
[2025-02-07 14:40:05 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.html - 200 null text/html;charset=utf-8 4.0698ms
[2025-02-07 14:40:05 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/index.js - null null
[2025-02-07 14:40:05 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/index.js - 200 null application/javascript;charset=utf-8 3.5886ms
[2025-02-07 14:40:05 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
[2025-02-07 14:40:05 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
[2025-02-07 14:40:05 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 3.4347ms
[2025-02-07 14:40:05 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 37.5762ms
[2025-02-07 14:40:05 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
[2025-02-07 14:40:05 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 14.1821ms
[2025-02-07 14:40:12 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 14:40:12 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 14:40:12 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 14:40:12 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 14:40:12 Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor] Executing FileContentResult, sending file with download name 'Certificate_1.pdf' ...
[2025-02-07 14:40:12 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 76.7225ms
[2025-02-07 14:40:12 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 14:40:12 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 200 236577 application/pdf 91.0202ms
[2025-02-07 14:40:16 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:7299/api/car/download/1 - null null
[2025-02-07 14:40:16 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 14:40:16 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "DownloadCertificate", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadCertificate(Int32) on controller Server.Controllers.CarController (Server).
[2025-02-07 14:40:16 Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CertificateIssueDate], [c].[CertificateReferenceNumber], [c].[ChassisNumber], [c].[CountryOfOrigin], [c].[DriverName], [c].[DriverNationality], [c].[EmiratesIdNumber], [c].[EmptyWeight], [c].[EngineNumber], [c].[ExportCountryTo], [c].[ExportPlateNumber], [c].[FuelType], [c].[InsuranceCompany], [c].[InsuranceExpiryDate], [c].[InsurancePolicyNumber], [c].[InsuranceType], [c].[LicenseNumber], [c].[LicenseSource], [c].[ModelYear], [c].[Nationality], [c].[NumberOfDoors], [c].[NumberOfSeats], [c].[OwnerName], [c].[PassportNumber], [c].[RegistrationDate], [c].[RegistrationExpiryDate], [c].[RegistrationPlateNumber], [c].[TrafficCodeNumber], [c].[VehicleColor], [c].[VehicleMake], [c].[VehicleType]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
[2025-02-07 14:40:16 Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor] Executing FileContentResult, sending file with download name 'Certificate_1.pdf' ...
[2025-02-07 14:40:16 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.CarController.DownloadCertificate (Server) in 160.4607ms
[2025-02-07 14:40:16 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.CarController.DownloadCertificate (Server)'
[2025-02-07 14:40:16 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://localhost:7299/api/car/download/1 - 200 236577 application/pdf 167.3623ms
[2025-02-07 15:41:06 ] Starting the application...
[2025-02-07 15:41:17 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\jhoss\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 15:41:18 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] The WebRootPath was not found: D:\web-tutorials\web-projects\projects\Work\Car-Agency\server\src\wwwroot. Static files may be unavailable.
[2025-02-07 15:41:18 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5000
[2025-02-07 15:41:18 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 15:41:18 Microsoft.Hosting.Lifetime] Hosting environment: Production
[2025-02-07 15:41:18 Microsoft.Hosting.Lifetime] Content root path: D:\web-tutorials\web-projects\projects\Work\Car-Agency\server\src
[2025-02-07 15:41:24 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://localhost:5000/api/auth/login - application/json 54
[2025-02-07 15:41:24 Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware] Failed to determine the https port for redirect.
[2025-02-07 15:41:33 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 15:41:33 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Server.Dtos.UserDto) on controller Server.Controllers.AuthController (Server).
[2025-02-07 15:42:01 Microsoft.EntityFrameworkCore.Database.Connection] An error occurred using the connection to database 'CarAgency' on server 'AMRGAMAL'.
[2025-02-07 15:42:02 Microsoft.EntityFrameworkCore.Query] An exception occurred while iterating over the results of a query for context type 'Server.Data.ApplicationContextDb'.
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (53): The network path was not found.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (53): The network path was not found.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
[2025-02-07 15:42:02 Server.Controllers.AuthController] An error occurred while executing the action.
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (53): The network path was not found.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Server.Repositorys.AuthRepository.Login(String email, String password) in D:\web-tutorials\web-projects\projects\Work\Car-Agency\server\src\Repositorys\AuthRepository.cs:line 22
   at Server.Services.AuthService.Login(String email, String password) in D:\web-tutorials\web-projects\projects\Work\Car-Agency\server\src\Services\AuthService.cs:line 34
   at Server.Controllers.AuthController.Login(UserDto data) in D:\web-tutorials\web-projects\projects\Work\Car-Agency\server\src\Controllers\AuthController.cs:line 27
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
[2025-02-07 15:42:02 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing ObjectResult, writing value of type '<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Exception, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-02-07 15:42:03 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.AuthController.Login (Server) in 29176.7758ms
[2025-02-07 15:42:03 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 15:42:03 Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware] An unhandled exception has occurred while executing the request.
System.NotSupportedException: Serialization and deserialization of 'System.Reflection.MethodBase' instances is not supported. Path: $.error.TargetSite.
 ---> System.NotSupportedException: Serialization and deserialization of 'System.Reflection.MethodBase' instances is not supported.
   at System.Text.Json.Serialization.Converters.UnsupportedTypeConverter`1.Write(Utf8JsonWriter writer, T value, JsonSerializerOptions options)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ThrowNotSupportedException(WriteStack& state, Exception innerException)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in D:\web-tutorials\web-projects\projects\Work\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
[2025-02-07 15:42:04 Microsoft.AspNetCore.Server.Kestrel] Connection id "0HNA7FKEG045H", Request id "0HNA7FKEG045H:00000001": An unhandled exception was thrown by the application.
System.InvalidOperationException: The exception handler configured on ExceptionHandlerOptions produced a 404 status response. This InvalidOperationException containing the original exception was thrown since this is often due to a misconfigured ExceptionHandlingPath. If the exception handler is expected to return 404 status responses then set AllowStatusCode404Response to true.
 ---> System.NotSupportedException: Serialization and deserialization of 'System.Reflection.MethodBase' instances is not supported. Path: $.error.TargetSite.
 ---> System.NotSupportedException: Serialization and deserialization of 'System.Reflection.MethodBase' instances is not supported.
   at System.Text.Json.Serialization.Converters.UnsupportedTypeConverter`1.Write(Utf8JsonWriter writer, T value, JsonSerializerOptions options)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ThrowNotSupportedException(WriteStack& state, Exception innerException)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in D:\web-tutorials\web-projects\projects\Work\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.HandleException(HttpContext context, ExceptionDispatchInfo edi)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.HandleException(HttpContext context, ExceptionDispatchInfo edi)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
[2025-02-07 15:42:04 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST http://localhost:5000/api/auth/login - 500 0 null 40382.7716ms
[2025-02-07 15:42:04 Microsoft.AspNetCore.Hosting.Diagnostics] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://localhost:5000/api/auth/login, Response status code: 500
[2025-02-07 15:42:25 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://localhost:5000/api/auth/login - application/json 54
[2025-02-07 15:42:25 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 15:42:25 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Server.Dtos.UserDto) on controller Server.Controllers.AuthController (Server).
[2025-02-07 15:42:40 Microsoft.EntityFrameworkCore.Database.Connection] An error occurred using the connection to database 'CarAgency' on server 'AMRGAMAL'.
[2025-02-07 15:42:40 Microsoft.EntityFrameworkCore.Query] An exception occurred while iterating over the results of a query for context type 'Server.Data.ApplicationContextDb'.
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (53): The network path was not found.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (53): The network path was not found.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
[2025-02-07 15:42:40 Server.Controllers.AuthController] An error occurred while executing the action.
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (53): The network path was not found.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Server.Repositorys.AuthRepository.Login(String email, String password) in D:\web-tutorials\web-projects\projects\Work\Car-Agency\server\src\Repositorys\AuthRepository.cs:line 22
   at Server.Services.AuthService.Login(String email, String password) in D:\web-tutorials\web-projects\projects\Work\Car-Agency\server\src\Services\AuthService.cs:line 34
   at Server.Controllers.AuthController.Login(UserDto data) in D:\web-tutorials\web-projects\projects\Work\Car-Agency\server\src\Controllers\AuthController.cs:line 27
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
[2025-02-07 15:42:40 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing ObjectResult, writing value of type '<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Exception, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-02-07 15:42:40 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.AuthController.Login (Server) in 15525.7097ms
[2025-02-07 15:42:40 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 15:42:40 Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware] An unhandled exception has occurred while executing the request.
System.NotSupportedException: Serialization and deserialization of 'System.Reflection.MethodBase' instances is not supported. Path: $.error.TargetSite.
 ---> System.NotSupportedException: Serialization and deserialization of 'System.Reflection.MethodBase' instances is not supported.
   at System.Text.Json.Serialization.Converters.UnsupportedTypeConverter`1.Write(Utf8JsonWriter writer, T value, JsonSerializerOptions options)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ThrowNotSupportedException(WriteStack& state, Exception innerException)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in D:\web-tutorials\web-projects\projects\Work\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
[2025-02-07 15:42:40 Microsoft.AspNetCore.Server.Kestrel] Connection id "0HNA7FKEG045J", Request id "0HNA7FKEG045J:00000001": An unhandled exception was thrown by the application.
System.InvalidOperationException: The exception handler configured on ExceptionHandlerOptions produced a 404 status response. This InvalidOperationException containing the original exception was thrown since this is often due to a misconfigured ExceptionHandlingPath. If the exception handler is expected to return 404 status responses then set AllowStatusCode404Response to true.
 ---> System.NotSupportedException: Serialization and deserialization of 'System.Reflection.MethodBase' instances is not supported. Path: $.error.TargetSite.
 ---> System.NotSupportedException: Serialization and deserialization of 'System.Reflection.MethodBase' instances is not supported.
   at System.Text.Json.Serialization.Converters.UnsupportedTypeConverter`1.Write(Utf8JsonWriter writer, T value, JsonSerializerOptions options)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ThrowNotSupportedException(WriteStack& state, Exception innerException)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in D:\web-tutorials\web-projects\projects\Work\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.HandleException(HttpContext context, ExceptionDispatchInfo edi)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.HandleException(HttpContext context, ExceptionDispatchInfo edi)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
[2025-02-07 15:42:40 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST http://localhost:5000/api/auth/login - 500 0 null 15570.6691ms
[2025-02-07 15:42:40 Microsoft.AspNetCore.Hosting.Diagnostics] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://localhost:5000/api/auth/login, Response status code: 500
[2025-02-07 15:43:00 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:5000/api/item?page=1 - null null
[2025-02-07 15:43:00 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://localhost:5000/api/item?page=1 - 404 0 null 3.5358ms
[2025-02-07 15:43:00 Microsoft.AspNetCore.Hosting.Diagnostics] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5000/api/item, Response status code: 404
[2025-02-07 15:43:51 ] Starting the application...
[2025-02-07 15:43:51 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\jhoss\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 15:43:52 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] The WebRootPath was not found: D:\web-tutorials\web-projects\projects\Work\Car-Agency\server\src\wwwroot. Static files may be unavailable.
[2025-02-07 15:43:52 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5000
[2025-02-07 15:43:52 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 15:43:52 Microsoft.Hosting.Lifetime] Hosting environment: Production
[2025-02-07 15:43:52 Microsoft.Hosting.Lifetime] Content root path: D:\web-tutorials\web-projects\projects\Work\Car-Agency\server\src
[2025-02-07 15:44:02 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:5000/api/item?page=1 - null null
[2025-02-07 15:44:02 Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware] Failed to determine the https port for redirect.
[2025-02-07 15:44:03 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://localhost:5000/api/item?page=1 - 404 0 null 285.3268ms
[2025-02-07 15:44:03 Microsoft.AspNetCore.Hosting.Diagnostics] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5000/api/item, Response status code: 404
[2025-02-07 15:44:08 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://localhost:5000/api/auth/login - application/json 54
[2025-02-07 15:44:08 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 15:44:08 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Server.Dtos.UserDto) on controller Server.Controllers.AuthController (Server).
[2025-02-07 15:44:26 Microsoft.EntityFrameworkCore.Database.Connection] An error occurred using the connection to database 'CarAgency' on server 'AMRGAMAL'.
[2025-02-07 15:44:26 Microsoft.EntityFrameworkCore.Query] An exception occurred while iterating over the results of a query for context type 'Server.Data.ApplicationContextDb'.
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (53): The network path was not found.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (53): The network path was not found.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
[2025-02-07 15:44:26 Server.Controllers.AuthController] An error occurred while executing the action.
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (53): The network path was not found.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Server.Repositorys.AuthRepository.Login(String email, String password) in D:\web-tutorials\web-projects\projects\Work\Car-Agency\server\src\Repositorys\AuthRepository.cs:line 22
   at Server.Services.AuthService.Login(String email, String password) in D:\web-tutorials\web-projects\projects\Work\Car-Agency\server\src\Services\AuthService.cs:line 34
   at Server.Controllers.AuthController.Login(UserDto data) in D:\web-tutorials\web-projects\projects\Work\Car-Agency\server\src\Controllers\AuthController.cs:line 27
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
[2025-02-07 15:44:26 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing ObjectResult, writing value of type '<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Exception, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-02-07 15:44:26 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.AuthController.Login (Server) in 17702.0926ms
[2025-02-07 15:44:26 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 15:44:26 Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware] An unhandled exception has occurred while executing the request.
System.NotSupportedException: Serialization and deserialization of 'System.Reflection.MethodBase' instances is not supported. Path: $.error.TargetSite.
 ---> System.NotSupportedException: Serialization and deserialization of 'System.Reflection.MethodBase' instances is not supported.
   at System.Text.Json.Serialization.Converters.UnsupportedTypeConverter`1.Write(Utf8JsonWriter writer, T value, JsonSerializerOptions options)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ThrowNotSupportedException(WriteStack& state, Exception innerException)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in D:\web-tutorials\web-projects\projects\Work\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
[2025-02-07 15:44:26 Microsoft.AspNetCore.Server.Kestrel] Connection id "0HNA7FLTRAOG7", Request id "0HNA7FLTRAOG7:00000002": An unhandled exception was thrown by the application.
System.InvalidOperationException: The exception handler configured on ExceptionHandlerOptions produced a 404 status response. This InvalidOperationException containing the original exception was thrown since this is often due to a misconfigured ExceptionHandlingPath. If the exception handler is expected to return 404 status responses then set AllowStatusCode404Response to true.
 ---> System.NotSupportedException: Serialization and deserialization of 'System.Reflection.MethodBase' instances is not supported. Path: $.error.TargetSite.
 ---> System.NotSupportedException: Serialization and deserialization of 'System.Reflection.MethodBase' instances is not supported.
   at System.Text.Json.Serialization.Converters.UnsupportedTypeConverter`1.Write(Utf8JsonWriter writer, T value, JsonSerializerOptions options)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ThrowNotSupportedException(WriteStack& state, Exception innerException)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in D:\web-tutorials\web-projects\projects\Work\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.HandleException(HttpContext context, ExceptionDispatchInfo edi)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.HandleException(HttpContext context, ExceptionDispatchInfo edi)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
[2025-02-07 15:44:26 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST http://localhost:5000/api/auth/login - 500 0 null 17829.2801ms
[2025-02-07 15:44:26 Microsoft.AspNetCore.Hosting.Diagnostics] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://localhost:5000/api/auth/login, Response status code: 500
[2025-02-07 15:44:55 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://localhost:5000/api/auth/login - application/json 54
[2025-02-07 15:44:55 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 15:44:55 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Server.Dtos.UserDto) on controller Server.Controllers.AuthController (Server).
[2025-02-07 15:45:11 Microsoft.EntityFrameworkCore.Database.Connection] An error occurred using the connection to database 'CarAgency' on server 'AMRGAMAL'.
[2025-02-07 15:45:11 Microsoft.EntityFrameworkCore.Query] An exception occurred while iterating over the results of a query for context type 'Server.Data.ApplicationContextDb'.
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (53): The network path was not found.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (53): The network path was not found.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
[2025-02-07 15:45:11 Server.Controllers.AuthController] An error occurred while executing the action.
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (53): The network path was not found.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Server.Repositorys.AuthRepository.Login(String email, String password) in D:\web-tutorials\web-projects\projects\Work\Car-Agency\server\src\Repositorys\AuthRepository.cs:line 22
   at Server.Services.AuthService.Login(String email, String password) in D:\web-tutorials\web-projects\projects\Work\Car-Agency\server\src\Services\AuthService.cs:line 34
   at Server.Controllers.AuthController.Login(UserDto data) in D:\web-tutorials\web-projects\projects\Work\Car-Agency\server\src\Controllers\AuthController.cs:line 27
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
[2025-02-07 15:45:11 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing ObjectResult, writing value of type '<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Exception, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-02-07 15:45:11 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.AuthController.Login (Server) in 15698.5519ms
[2025-02-07 15:45:11 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 15:45:11 Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware] An unhandled exception has occurred while executing the request.
System.NotSupportedException: Serialization and deserialization of 'System.Reflection.MethodBase' instances is not supported. Path: $.error.TargetSite.
 ---> System.NotSupportedException: Serialization and deserialization of 'System.Reflection.MethodBase' instances is not supported.
   at System.Text.Json.Serialization.Converters.UnsupportedTypeConverter`1.Write(Utf8JsonWriter writer, T value, JsonSerializerOptions options)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ThrowNotSupportedException(WriteStack& state, Exception innerException)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in D:\web-tutorials\web-projects\projects\Work\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
[2025-02-07 15:45:11 Microsoft.AspNetCore.Server.Kestrel] Connection id "0HNA7FLTRAOG7", Request id "0HNA7FLTRAOG7:00000003": An unhandled exception was thrown by the application.
System.InvalidOperationException: The exception handler configured on ExceptionHandlerOptions produced a 404 status response. This InvalidOperationException containing the original exception was thrown since this is often due to a misconfigured ExceptionHandlingPath. If the exception handler is expected to return 404 status responses then set AllowStatusCode404Response to true.
 ---> System.NotSupportedException: Serialization and deserialization of 'System.Reflection.MethodBase' instances is not supported. Path: $.error.TargetSite.
 ---> System.NotSupportedException: Serialization and deserialization of 'System.Reflection.MethodBase' instances is not supported.
   at System.Text.Json.Serialization.Converters.UnsupportedTypeConverter`1.Write(Utf8JsonWriter writer, T value, JsonSerializerOptions options)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ThrowNotSupportedException(WriteStack& state, Exception innerException)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in D:\web-tutorials\web-projects\projects\Work\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.HandleException(HttpContext context, ExceptionDispatchInfo edi)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.HandleException(HttpContext context, ExceptionDispatchInfo edi)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
[2025-02-07 15:45:11 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST http://localhost:5000/api/auth/login - 500 0 null 15802.6879ms
[2025-02-07 15:45:11 Microsoft.AspNetCore.Hosting.Diagnostics] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://localhost:5000/api/auth/login, Response status code: 500
[2025-02-07 15:51:26 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://localhost:5000/api/auth/login - application/json 54
[2025-02-07 15:51:26 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 15:51:26 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Server.Dtos.UserDto) on controller Server.Controllers.AuthController (Server).
[2025-02-07 15:51:42 Microsoft.EntityFrameworkCore.Database.Connection] An error occurred using the connection to database 'CarAgency' on server 'AMRGAMAL'.
[2025-02-07 15:51:42 Microsoft.EntityFrameworkCore.Query] An exception occurred while iterating over the results of a query for context type 'Server.Data.ApplicationContextDb'.
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (53): The network path was not found.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (53): The network path was not found.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
[2025-02-07 15:51:42 Server.Controllers.AuthController] An error occurred while executing the action.
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (53): The network path was not found.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Server.Repositorys.AuthRepository.Login(String email, String password) in D:\web-tutorials\web-projects\projects\Work\Car-Agency\server\src\Repositorys\AuthRepository.cs:line 22
   at Server.Services.AuthService.Login(String email, String password) in D:\web-tutorials\web-projects\projects\Work\Car-Agency\server\src\Services\AuthService.cs:line 34
   at Server.Controllers.AuthController.Login(UserDto data) in D:\web-tutorials\web-projects\projects\Work\Car-Agency\server\src\Controllers\AuthController.cs:line 27
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
[2025-02-07 15:51:42 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing ObjectResult, writing value of type '<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Exception, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-02-07 15:51:42 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.AuthController.Login (Server) in 15631.3402ms
[2025-02-07 15:51:42 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 15:51:42 Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware] An unhandled exception has occurred while executing the request.
System.NotSupportedException: Serialization and deserialization of 'System.Reflection.MethodBase' instances is not supported. Path: $.error.TargetSite.
 ---> System.NotSupportedException: Serialization and deserialization of 'System.Reflection.MethodBase' instances is not supported.
   at System.Text.Json.Serialization.Converters.UnsupportedTypeConverter`1.Write(Utf8JsonWriter writer, T value, JsonSerializerOptions options)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ThrowNotSupportedException(WriteStack& state, Exception innerException)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in D:\web-tutorials\web-projects\projects\Work\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
[2025-02-07 15:51:42 Microsoft.AspNetCore.Server.Kestrel] Connection id "0HNA7FLTRAOG9", Request id "0HNA7FLTRAOG9:00000001": An unhandled exception was thrown by the application.
System.InvalidOperationException: The exception handler configured on ExceptionHandlerOptions produced a 404 status response. This InvalidOperationException containing the original exception was thrown since this is often due to a misconfigured ExceptionHandlingPath. If the exception handler is expected to return 404 status responses then set AllowStatusCode404Response to true.
 ---> System.NotSupportedException: Serialization and deserialization of 'System.Reflection.MethodBase' instances is not supported. Path: $.error.TargetSite.
 ---> System.NotSupportedException: Serialization and deserialization of 'System.Reflection.MethodBase' instances is not supported.
   at System.Text.Json.Serialization.Converters.UnsupportedTypeConverter`1.Write(Utf8JsonWriter writer, T value, JsonSerializerOptions options)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ThrowNotSupportedException(WriteStack& state, Exception innerException)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in D:\web-tutorials\web-projects\projects\Work\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.HandleException(HttpContext context, ExceptionDispatchInfo edi)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.HandleException(HttpContext context, ExceptionDispatchInfo edi)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
[2025-02-07 15:51:42 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST http://localhost:5000/api/auth/login - 500 0 null 15649.6514ms
[2025-02-07 15:51:42 Microsoft.AspNetCore.Hosting.Diagnostics] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://localhost:5000/api/auth/login, Response status code: 500
[2025-02-07 15:51:59 Microsoft.Hosting.Lifetime] Application is shutting down...
[2025-02-07 15:52:42 ] Starting the application...
[2025-02-07 15:52:43 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\jhoss\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 15:52:43 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] The WebRootPath was not found: D:\web-tutorials\web-projects\projects\Work\Car-Agency\server\src\wwwroot. Static files may be unavailable.
[2025-02-07 15:52:44 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5000
[2025-02-07 15:52:44 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 15:52:44 Microsoft.Hosting.Lifetime] Hosting environment: Production
[2025-02-07 15:52:44 Microsoft.Hosting.Lifetime] Content root path: D:\web-tutorials\web-projects\projects\Work\Car-Agency\server\src
[2025-02-07 15:52:47 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://localhost:5000/api/auth/login - application/json 54
[2025-02-07 15:52:47 Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware] Failed to determine the https port for redirect.
[2025-02-07 15:52:47 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 15:52:47 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Server.Dtos.UserDto) on controller Server.Controllers.AuthController (Server).
[2025-02-07 15:53:10 Microsoft.EntityFrameworkCore.Database.Connection] An error occurred using the connection to database 'CarAgency' on server 'AMRGAMAL'.
[2025-02-07 15:53:10 Microsoft.EntityFrameworkCore.Query] An exception occurred while iterating over the results of a query for context type 'Server.Data.ApplicationContextDb'.
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (53): The network path was not found.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (53): The network path was not found.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
[2025-02-07 15:53:10 Server.Controllers.AuthController] An error occurred while executing the action.
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (53): The network path was not found.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Server.Repositorys.AuthRepository.Login(String email, String password) in D:\web-tutorials\web-projects\projects\Work\Car-Agency\server\src\Repositorys\AuthRepository.cs:line 22
   at Server.Services.AuthService.Login(String email, String password) in D:\web-tutorials\web-projects\projects\Work\Car-Agency\server\src\Services\AuthService.cs:line 34
   at Server.Controllers.AuthController.Login(UserDto data) in D:\web-tutorials\web-projects\projects\Work\Car-Agency\server\src\Controllers\AuthController.cs:line 27
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
[2025-02-07 15:53:10 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing ObjectResult, writing value of type '<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Exception, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-02-07 15:53:10 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.AuthController.Login (Server) in 22707.8344ms
[2025-02-07 15:53:10 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 15:53:10 Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware] An unhandled exception has occurred while executing the request.
System.NotSupportedException: Serialization and deserialization of 'System.Reflection.MethodBase' instances is not supported. Path: $.error.TargetSite.
 ---> System.NotSupportedException: Serialization and deserialization of 'System.Reflection.MethodBase' instances is not supported.
   at System.Text.Json.Serialization.Converters.UnsupportedTypeConverter`1.Write(Utf8JsonWriter writer, T value, JsonSerializerOptions options)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ThrowNotSupportedException(WriteStack& state, Exception innerException)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in D:\web-tutorials\web-projects\projects\Work\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
[2025-02-07 15:53:10 Microsoft.AspNetCore.Server.Kestrel] Connection id "0HNA7FQQ35UB9", Request id "0HNA7FQQ35UB9:00000001": An unhandled exception was thrown by the application.
System.InvalidOperationException: The exception handler configured on ExceptionHandlerOptions produced a 404 status response. This InvalidOperationException containing the original exception was thrown since this is often due to a misconfigured ExceptionHandlingPath. If the exception handler is expected to return 404 status responses then set AllowStatusCode404Response to true.
 ---> System.NotSupportedException: Serialization and deserialization of 'System.Reflection.MethodBase' instances is not supported. Path: $.error.TargetSite.
 ---> System.NotSupportedException: Serialization and deserialization of 'System.Reflection.MethodBase' instances is not supported.
   at System.Text.Json.Serialization.Converters.UnsupportedTypeConverter`1.Write(Utf8JsonWriter writer, T value, JsonSerializerOptions options)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ThrowNotSupportedException(WriteStack& state, Exception innerException)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in D:\web-tutorials\web-projects\projects\Work\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.HandleException(HttpContext context, ExceptionDispatchInfo edi)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.HandleException(HttpContext context, ExceptionDispatchInfo edi)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
[2025-02-07 15:53:10 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST http://localhost:5000/api/auth/login - 500 0 null 23631.9053ms
[2025-02-07 15:53:10 Microsoft.AspNetCore.Hosting.Diagnostics] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://localhost:5000/api/auth/login, Response status code: 500
[2025-02-07 15:54:26 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://localhost:5000/api/auth/login - application/json 54
[2025-02-07 15:54:26 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 15:54:26 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Server.Dtos.UserDto) on controller Server.Controllers.AuthController (Server).
[2025-02-07 15:54:41 Microsoft.EntityFrameworkCore.Database.Connection] An error occurred using the connection to database 'CarAgency' on server 'AMRGAMAL'.
[2025-02-07 15:54:41 Microsoft.EntityFrameworkCore.Query] An exception occurred while iterating over the results of a query for context type 'Server.Data.ApplicationContextDb'.
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (53): The network path was not found.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (53): The network path was not found.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
[2025-02-07 15:54:41 Server.Controllers.AuthController] An error occurred while executing the action.
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (53): The network path was not found.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Server.Repositorys.AuthRepository.Login(String email, String password) in D:\web-tutorials\web-projects\projects\Work\Car-Agency\server\src\Repositorys\AuthRepository.cs:line 22
   at Server.Services.AuthService.Login(String email, String password) in D:\web-tutorials\web-projects\projects\Work\Car-Agency\server\src\Services\AuthService.cs:line 34
   at Server.Controllers.AuthController.Login(UserDto data) in D:\web-tutorials\web-projects\projects\Work\Car-Agency\server\src\Controllers\AuthController.cs:line 27
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
[2025-02-07 15:54:41 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing ObjectResult, writing value of type '<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Exception, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-02-07 15:54:41 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.AuthController.Login (Server) in 15413.9322ms
[2025-02-07 15:54:41 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 15:54:41 Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware] An unhandled exception has occurred while executing the request.
System.NotSupportedException: Serialization and deserialization of 'System.Reflection.MethodBase' instances is not supported. Path: $.error.TargetSite.
 ---> System.NotSupportedException: Serialization and deserialization of 'System.Reflection.MethodBase' instances is not supported.
   at System.Text.Json.Serialization.Converters.UnsupportedTypeConverter`1.Write(Utf8JsonWriter writer, T value, JsonSerializerOptions options)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ThrowNotSupportedException(WriteStack& state, Exception innerException)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in D:\web-tutorials\web-projects\projects\Work\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
[2025-02-07 15:54:41 Microsoft.AspNetCore.Server.Kestrel] Connection id "0HNA7FQQ35UBB", Request id "0HNA7FQQ35UBB:00000001": An unhandled exception was thrown by the application.
System.InvalidOperationException: The exception handler configured on ExceptionHandlerOptions produced a 404 status response. This InvalidOperationException containing the original exception was thrown since this is often due to a misconfigured ExceptionHandlingPath. If the exception handler is expected to return 404 status responses then set AllowStatusCode404Response to true.
 ---> System.NotSupportedException: Serialization and deserialization of 'System.Reflection.MethodBase' instances is not supported. Path: $.error.TargetSite.
 ---> System.NotSupportedException: Serialization and deserialization of 'System.Reflection.MethodBase' instances is not supported.
   at System.Text.Json.Serialization.Converters.UnsupportedTypeConverter`1.Write(Utf8JsonWriter writer, T value, JsonSerializerOptions options)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ThrowNotSupportedException(WriteStack& state, Exception innerException)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in D:\web-tutorials\web-projects\projects\Work\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.HandleException(HttpContext context, ExceptionDispatchInfo edi)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.HandleException(HttpContext context, ExceptionDispatchInfo edi)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
[2025-02-07 15:54:41 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST http://localhost:5000/api/auth/login - 500 0 null 15433.8075ms
[2025-02-07 15:54:41 Microsoft.AspNetCore.Hosting.Diagnostics] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://localhost:5000/api/auth/login, Response status code: 500
[2025-02-07 16:00:40 Microsoft.Hosting.Lifetime] Application is shutting down...
[2025-02-07 16:01:27 ] Starting the application...
[2025-02-07 16:01:28 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\jhoss\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 16:01:28 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] The WebRootPath was not found: D:\web-tutorials\web-projects\projects\Work\Car-Agency\server\src\wwwroot. Static files may be unavailable.
[2025-02-07 16:01:28 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5000
[2025-02-07 16:01:28 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 16:01:28 Microsoft.Hosting.Lifetime] Hosting environment: Production
[2025-02-07 16:01:28 Microsoft.Hosting.Lifetime] Content root path: D:\web-tutorials\web-projects\projects\Work\Car-Agency\server\src
[2025-02-07 16:01:29 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://localhost:5000/api/auth/login - application/json 54
[2025-02-07 16:01:29 Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware] Failed to determine the https port for redirect.
[2025-02-07 16:01:29 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 16:01:29 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Server.Dtos.UserDto) on controller Server.Controllers.AuthController (Server).
[2025-02-07 16:01:47 Microsoft.EntityFrameworkCore.Database.Connection] An error occurred using the connection to database 'CarAgency' on server 'AMRGAMAL'.
[2025-02-07 16:01:47 Microsoft.EntityFrameworkCore.Query] An exception occurred while iterating over the results of a query for context type 'Server.Data.ApplicationContextDb'.
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (53): The network path was not found.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (53): The network path was not found.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
[2025-02-07 16:01:47 Server.Controllers.AuthController] An error occurred while executing the action.
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (53): The network path was not found.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Server.Repositorys.AuthRepository.Login(String email, String password) in D:\web-tutorials\web-projects\projects\Work\Car-Agency\server\src\Repositorys\AuthRepository.cs:line 22
   at Server.Services.AuthService.Login(String email, String password) in D:\web-tutorials\web-projects\projects\Work\Car-Agency\server\src\Services\AuthService.cs:line 34
   at Server.Controllers.AuthController.Login(UserDto data) in D:\web-tutorials\web-projects\projects\Work\Car-Agency\server\src\Controllers\AuthController.cs:line 27
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
[2025-02-07 16:01:47 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing ObjectResult, writing value of type '<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Exception, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-02-07 16:01:47 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.AuthController.Login (Server) in 18362.0453ms
[2025-02-07 16:01:47 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 16:01:47 Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware] An unhandled exception has occurred while executing the request.
System.NotSupportedException: Serialization and deserialization of 'System.Reflection.MethodBase' instances is not supported. Path: $.error.TargetSite.
 ---> System.NotSupportedException: Serialization and deserialization of 'System.Reflection.MethodBase' instances is not supported.
   at System.Text.Json.Serialization.Converters.UnsupportedTypeConverter`1.Write(Utf8JsonWriter writer, T value, JsonSerializerOptions options)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ThrowNotSupportedException(WriteStack& state, Exception innerException)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in D:\web-tutorials\web-projects\projects\Work\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
[2025-02-07 16:01:47 Microsoft.AspNetCore.Server.Kestrel] Connection id "0HNA7FVLM19OK", Request id "0HNA7FVLM19OK:00000001": An unhandled exception was thrown by the application.
System.InvalidOperationException: The exception handler configured on ExceptionHandlerOptions produced a 404 status response. This InvalidOperationException containing the original exception was thrown since this is often due to a misconfigured ExceptionHandlingPath. If the exception handler is expected to return 404 status responses then set AllowStatusCode404Response to true.
 ---> System.NotSupportedException: Serialization and deserialization of 'System.Reflection.MethodBase' instances is not supported. Path: $.error.TargetSite.
 ---> System.NotSupportedException: Serialization and deserialization of 'System.Reflection.MethodBase' instances is not supported.
   at System.Text.Json.Serialization.Converters.UnsupportedTypeConverter`1.Write(Utf8JsonWriter writer, T value, JsonSerializerOptions options)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ThrowNotSupportedException(WriteStack& state, Exception innerException)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in D:\web-tutorials\web-projects\projects\Work\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.HandleException(HttpContext context, ExceptionDispatchInfo edi)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.HandleException(HttpContext context, ExceptionDispatchInfo edi)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
[2025-02-07 16:01:47 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST http://localhost:5000/api/auth/login - 500 0 null 18663.1238ms
[2025-02-07 16:01:47 Microsoft.AspNetCore.Hosting.Diagnostics] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://localhost:5000/api/auth/login, Response status code: 500
[2025-02-07 16:02:36 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://localhost:5000/api/auth/login - application/json 54
[2025-02-07 16:02:36 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 16:02:36 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Server.Dtos.UserDto) on controller Server.Controllers.AuthController (Server).
[2025-02-07 16:02:52 Microsoft.EntityFrameworkCore.Database.Connection] An error occurred using the connection to database 'CarAgency' on server 'AMRGAMAL'.
[2025-02-07 16:02:52 Microsoft.EntityFrameworkCore.Query] An exception occurred while iterating over the results of a query for context type 'Server.Data.ApplicationContextDb'.
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (53): The network path was not found.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (53): The network path was not found.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
[2025-02-07 16:02:52 Server.Controllers.AuthController] An error occurred while executing the action.
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (53): The network path was not found.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Server.Repositorys.AuthRepository.Login(String email, String password) in D:\web-tutorials\web-projects\projects\Work\Car-Agency\server\src\Repositorys\AuthRepository.cs:line 22
   at Server.Services.AuthService.Login(String email, String password) in D:\web-tutorials\web-projects\projects\Work\Car-Agency\server\src\Services\AuthService.cs:line 34
   at Server.Controllers.AuthController.Login(UserDto data) in D:\web-tutorials\web-projects\projects\Work\Car-Agency\server\src\Controllers\AuthController.cs:line 27
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
[2025-02-07 16:02:52 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing ObjectResult, writing value of type '<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Exception, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-02-07 16:02:52 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.AuthController.Login (Server) in 15710.1245ms
[2025-02-07 16:02:52 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 16:02:52 Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware] An unhandled exception has occurred while executing the request.
System.NotSupportedException: Serialization and deserialization of 'System.Reflection.MethodBase' instances is not supported. Path: $.error.TargetSite.
 ---> System.NotSupportedException: Serialization and deserialization of 'System.Reflection.MethodBase' instances is not supported.
   at System.Text.Json.Serialization.Converters.UnsupportedTypeConverter`1.Write(Utf8JsonWriter writer, T value, JsonSerializerOptions options)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ThrowNotSupportedException(WriteStack& state, Exception innerException)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in D:\web-tutorials\web-projects\projects\Work\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
[2025-02-07 16:02:52 Microsoft.AspNetCore.Server.Kestrel] Connection id "0HNA7FVLM19OM", Request id "0HNA7FVLM19OM:00000001": An unhandled exception was thrown by the application.
System.InvalidOperationException: The exception handler configured on ExceptionHandlerOptions produced a 404 status response. This InvalidOperationException containing the original exception was thrown since this is often due to a misconfigured ExceptionHandlingPath. If the exception handler is expected to return 404 status responses then set AllowStatusCode404Response to true.
 ---> System.NotSupportedException: Serialization and deserialization of 'System.Reflection.MethodBase' instances is not supported. Path: $.error.TargetSite.
 ---> System.NotSupportedException: Serialization and deserialization of 'System.Reflection.MethodBase' instances is not supported.
   at System.Text.Json.Serialization.Converters.UnsupportedTypeConverter`1.Write(Utf8JsonWriter writer, T value, JsonSerializerOptions options)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ThrowNotSupportedException(WriteStack& state, Exception innerException)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in D:\web-tutorials\web-projects\projects\Work\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.HandleException(HttpContext context, ExceptionDispatchInfo edi)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.HandleException(HttpContext context, ExceptionDispatchInfo edi)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
[2025-02-07 16:02:52 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST http://localhost:5000/api/auth/login - 500 0 null 15730.1028ms
[2025-02-07 16:02:52 Microsoft.AspNetCore.Hosting.Diagnostics] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://localhost:5000/api/auth/login, Response status code: 500
[2025-02-07 16:03:22 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://localhost:5000/api/auth/login - application/json 54
[2025-02-07 16:03:22 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 16:03:22 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Server.Dtos.UserDto) on controller Server.Controllers.AuthController (Server).
[2025-02-07 16:03:37 Microsoft.EntityFrameworkCore.Database.Connection] An error occurred using the connection to database 'CarAgency' on server 'AMRGAMAL'.
[2025-02-07 16:03:37 Microsoft.EntityFrameworkCore.Query] An exception occurred while iterating over the results of a query for context type 'Server.Data.ApplicationContextDb'.
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (53): The network path was not found.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (53): The network path was not found.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
[2025-02-07 16:03:37 Server.Controllers.AuthController] An error occurred while executing the action.
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (53): The network path was not found.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Server.Repositorys.AuthRepository.Login(String email, String password) in D:\web-tutorials\web-projects\projects\Work\Car-Agency\server\src\Repositorys\AuthRepository.cs:line 22
   at Server.Services.AuthService.Login(String email, String password) in D:\web-tutorials\web-projects\projects\Work\Car-Agency\server\src\Services\AuthService.cs:line 34
   at Server.Controllers.AuthController.Login(UserDto data) in D:\web-tutorials\web-projects\projects\Work\Car-Agency\server\src\Controllers\AuthController.cs:line 27
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
[2025-02-07 16:03:37 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing ObjectResult, writing value of type '<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Exception, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-02-07 16:03:37 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.AuthController.Login (Server) in 15610.039ms
[2025-02-07 16:03:37 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 16:03:37 Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware] An unhandled exception has occurred while executing the request.
System.NotSupportedException: Serialization and deserialization of 'System.Reflection.MethodBase' instances is not supported. Path: $.error.TargetSite.
 ---> System.NotSupportedException: Serialization and deserialization of 'System.Reflection.MethodBase' instances is not supported.
   at System.Text.Json.Serialization.Converters.UnsupportedTypeConverter`1.Write(Utf8JsonWriter writer, T value, JsonSerializerOptions options)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ThrowNotSupportedException(WriteStack& state, Exception innerException)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in D:\web-tutorials\web-projects\projects\Work\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
[2025-02-07 16:03:37 Microsoft.AspNetCore.Server.Kestrel] Connection id "0HNA7FVLM19OM", Request id "0HNA7FVLM19OM:00000002": An unhandled exception was thrown by the application.
System.InvalidOperationException: The exception handler configured on ExceptionHandlerOptions produced a 404 status response. This InvalidOperationException containing the original exception was thrown since this is often due to a misconfigured ExceptionHandlingPath. If the exception handler is expected to return 404 status responses then set AllowStatusCode404Response to true.
 ---> System.NotSupportedException: Serialization and deserialization of 'System.Reflection.MethodBase' instances is not supported. Path: $.error.TargetSite.
 ---> System.NotSupportedException: Serialization and deserialization of 'System.Reflection.MethodBase' instances is not supported.
   at System.Text.Json.Serialization.Converters.UnsupportedTypeConverter`1.Write(Utf8JsonWriter writer, T value, JsonSerializerOptions options)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ThrowNotSupportedException(WriteStack& state, Exception innerException)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in D:\web-tutorials\web-projects\projects\Work\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.HandleException(HttpContext context, ExceptionDispatchInfo edi)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.HandleException(HttpContext context, ExceptionDispatchInfo edi)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
[2025-02-07 16:03:37 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST http://localhost:5000/api/auth/login - 500 0 null 15625.2049ms
[2025-02-07 16:03:37 Microsoft.AspNetCore.Hosting.Diagnostics] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://localhost:5000/api/auth/login, Response status code: 500
[2025-02-07 17:44:00 Microsoft.Hosting.Lifetime] Application is shutting down...
[2025-02-07 17:44:42 ] Starting the application...
[2025-02-07 17:44:43 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\jhoss\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 17:44:43 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] The WebRootPath was not found: D:\web-tutorials\web-projects\projects\Work\Car-Agency\server\src\wwwroot. Static files may be unavailable.
[2025-02-07 17:44:43 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5000
[2025-02-07 17:44:43 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 17:44:43 Microsoft.Hosting.Lifetime] Hosting environment: Production
[2025-02-07 17:44:43 Microsoft.Hosting.Lifetime] Content root path: D:\web-tutorials\web-projects\projects\Work\Car-Agency\server\src
[2025-02-07 17:44:58 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://localhost:5000/api/auth/login - application/json 54
[2025-02-07 17:44:58 Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware] Failed to determine the https port for redirect.
[2025-02-07 17:44:58 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 17:44:58 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Server.Dtos.UserDto) on controller Server.Controllers.AuthController (Server).
[2025-02-07 17:45:16 Microsoft.EntityFrameworkCore.Database.Connection] An error occurred using the connection to database 'CarAgency' on server 'AMRGAMAL'.
[2025-02-07 17:45:16 Microsoft.EntityFrameworkCore.Query] An exception occurred while iterating over the results of a query for context type 'Server.Data.ApplicationContextDb'.
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (53): The network path was not found.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (53): The network path was not found.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
[2025-02-07 17:45:16 Server.Controllers.AuthController] An error occurred while executing the action.
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (53): The network path was not found.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Server.Repositorys.AuthRepository.Login(String email, String password) in D:\web-tutorials\web-projects\projects\Work\Car-Agency\server\src\Repositorys\AuthRepository.cs:line 22
   at Server.Services.AuthService.Login(String email, String password) in D:\web-tutorials\web-projects\projects\Work\Car-Agency\server\src\Services\AuthService.cs:line 34
   at Server.Controllers.AuthController.Login(UserDto data) in D:\web-tutorials\web-projects\projects\Work\Car-Agency\server\src\Controllers\AuthController.cs:line 27
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
[2025-02-07 17:45:16 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing ObjectResult, writing value of type '<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Exception, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-02-07 17:45:16 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.AuthController.Login (Server) in 18088.7298ms
[2025-02-07 17:45:16 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 17:45:16 Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware] An unhandled exception has occurred while executing the request.
System.NotSupportedException: Serialization and deserialization of 'System.Reflection.MethodBase' instances is not supported. Path: $.error.TargetSite.
 ---> System.NotSupportedException: Serialization and deserialization of 'System.Reflection.MethodBase' instances is not supported.
   at System.Text.Json.Serialization.Converters.UnsupportedTypeConverter`1.Write(Utf8JsonWriter writer, T value, JsonSerializerOptions options)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ThrowNotSupportedException(WriteStack& state, Exception innerException)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in D:\web-tutorials\web-projects\projects\Work\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
[2025-02-07 17:45:17 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST http://localhost:5000/api/auth/login - 401 null application/json; charset=utf-8 18672.1541ms
[2025-02-07 17:45:17 Microsoft.AspNetCore.Hosting.Diagnostics] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://localhost:5000/api/auth/login, Response status code: 401
[2025-02-07 17:45:27 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://localhost:5000/api/auth/login - application/json 48
[2025-02-07 17:45:27 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 17:45:27 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Server.Dtos.UserDto) on controller Server.Controllers.AuthController (Server).
[2025-02-07 17:45:42 Microsoft.EntityFrameworkCore.Database.Connection] An error occurred using the connection to database 'CarAgency' on server 'AMRGAMAL'.
[2025-02-07 17:45:42 Microsoft.EntityFrameworkCore.Query] An exception occurred while iterating over the results of a query for context type 'Server.Data.ApplicationContextDb'.
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (53): The network path was not found.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (53): The network path was not found.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
[2025-02-07 17:45:42 Server.Controllers.AuthController] An error occurred while executing the action.
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (53): The network path was not found.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Server.Repositorys.AuthRepository.Login(String email, String password) in D:\web-tutorials\web-projects\projects\Work\Car-Agency\server\src\Repositorys\AuthRepository.cs:line 22
   at Server.Services.AuthService.Login(String email, String password) in D:\web-tutorials\web-projects\projects\Work\Car-Agency\server\src\Services\AuthService.cs:line 34
   at Server.Controllers.AuthController.Login(UserDto data) in D:\web-tutorials\web-projects\projects\Work\Car-Agency\server\src\Controllers\AuthController.cs:line 27
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
[2025-02-07 17:45:42 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing ObjectResult, writing value of type '<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Exception, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-02-07 17:45:42 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.AuthController.Login (Server) in 15301.4045ms
[2025-02-07 17:45:42 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 17:45:42 Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware] An unhandled exception has occurred while executing the request.
System.NotSupportedException: Serialization and deserialization of 'System.Reflection.MethodBase' instances is not supported. Path: $.error.TargetSite.
 ---> System.NotSupportedException: Serialization and deserialization of 'System.Reflection.MethodBase' instances is not supported.
   at System.Text.Json.Serialization.Converters.UnsupportedTypeConverter`1.Write(Utf8JsonWriter writer, T value, JsonSerializerOptions options)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ThrowNotSupportedException(WriteStack& state, Exception innerException)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in D:\web-tutorials\web-projects\projects\Work\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
[2025-02-07 17:45:42 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST http://localhost:5000/api/auth/login - 401 null application/json; charset=utf-8 15314.8279ms
[2025-02-07 17:45:42 Microsoft.AspNetCore.Hosting.Diagnostics] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://localhost:5000/api/auth/login, Response status code: 401
[2025-02-07 17:45:49 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:5000/api/auth/logout - application/json 48
[2025-02-07 17:45:49 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.AuthController.Logout (Server)'
[2025-02-07 17:45:49 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Logout", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Logout() on controller Server.Controllers.AuthController (Server).
[2025-02-07 17:45:49 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.AuthController.Logout (Server) in 14.1685ms
[2025-02-07 17:45:49 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.AuthController.Logout (Server)'
[2025-02-07 17:45:49 Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Headers are read-only, response has already started.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpHeaders.ThrowHeadersReadOnlyException()
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpResponseHeaders.Microsoft.AspNetCore.Http.IHeaderDictionary.set_SetCookie(StringValues value)
   at Microsoft.AspNetCore.Http.ResponseCookies.Append(String key, String value, CookieOptions options)
   at Microsoft.AspNetCore.Http.ResponseCookies.Delete(String key, CookieOptions options)
   at Server.Controllers.AuthController.Logout() in D:\web-tutorials\web-projects\projects\Work\Car-Agency\server\src\Controllers\AuthController.cs:line 54
   at lambda_method22(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Server.Middlewares.AuthenticationMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in D:\web-tutorials\web-projects\projects\Work\Car-Agency\server\src\Middlewares\AuthenticationMiddleware.cs:line 33
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in D:\web-tutorials\web-projects\projects\Work\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
[2025-02-07 17:45:49 Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware] The response has already started, the error handler will not be executed.
[2025-02-07 17:45:49 Microsoft.AspNetCore.Server.Kestrel] Connection id "0HNA7HPG5VN0D", Request id "0HNA7HPG5VN0D:00000003": An unhandled exception was thrown by the application.
System.InvalidOperationException: Headers are read-only, response has already started.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpHeaders.ThrowHeadersReadOnlyException()
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpResponseHeaders.Microsoft.AspNetCore.Http.IHeaderDictionary.set_SetCookie(StringValues value)
   at Microsoft.AspNetCore.Http.ResponseCookies.Append(String key, String value, CookieOptions options)
   at Microsoft.AspNetCore.Http.ResponseCookies.Delete(String key, CookieOptions options)
   at Server.Controllers.AuthController.Logout() in D:\web-tutorials\web-projects\projects\Work\Car-Agency\server\src\Controllers\AuthController.cs:line 54
   at lambda_method22(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Server.Middlewares.AuthenticationMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in D:\web-tutorials\web-projects\projects\Work\Car-Agency\server\src\Middlewares\AuthenticationMiddleware.cs:line 33
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in D:\web-tutorials\web-projects\projects\Work\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.HandleException(HttpContext context, ExceptionDispatchInfo edi)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
[2025-02-07 17:45:49 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://localhost:5000/api/auth/logout - 401 null application/json; charset=utf-8 38.0902ms
[2025-02-07 17:45:52 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://localhost:5000/api/auth/login - application/json 48
[2025-02-07 17:45:52 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 17:45:52 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Server.Dtos.UserDto) on controller Server.Controllers.AuthController (Server).
[2025-02-07 17:46:09 Microsoft.EntityFrameworkCore.Database.Connection] An error occurred using the connection to database 'CarAgency' on server 'AMRGAMAL'.
[2025-02-07 17:46:09 Microsoft.EntityFrameworkCore.Query] An exception occurred while iterating over the results of a query for context type 'Server.Data.ApplicationContextDb'.
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (53): The network path was not found.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (53): The network path was not found.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
[2025-02-07 17:46:09 Server.Controllers.AuthController] An error occurred while executing the action.
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (53): The network path was not found.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Server.Repositorys.AuthRepository.Login(String email, String password) in D:\web-tutorials\web-projects\projects\Work\Car-Agency\server\src\Repositorys\AuthRepository.cs:line 22
   at Server.Services.AuthService.Login(String email, String password) in D:\web-tutorials\web-projects\projects\Work\Car-Agency\server\src\Services\AuthService.cs:line 34
   at Server.Controllers.AuthController.Login(UserDto data) in D:\web-tutorials\web-projects\projects\Work\Car-Agency\server\src\Controllers\AuthController.cs:line 27
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
[2025-02-07 17:46:09 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] Executing ObjectResult, writing value of type '<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Exception, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-02-07 17:46:09 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.AuthController.Login (Server) in 16348.7191ms
[2025-02-07 17:46:09 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.AuthController.Login (Server)'
[2025-02-07 17:46:09 Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware] An unhandled exception has occurred while executing the request.
System.NotSupportedException: Serialization and deserialization of 'System.Reflection.MethodBase' instances is not supported. Path: $.error.TargetSite.
 ---> System.NotSupportedException: Serialization and deserialization of 'System.Reflection.MethodBase' instances is not supported.
   at System.Text.Json.Serialization.Converters.UnsupportedTypeConverter`1.Write(Utf8JsonWriter writer, T value, JsonSerializerOptions options)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ThrowNotSupportedException(WriteStack& state, Exception innerException)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in D:\web-tutorials\web-projects\projects\Work\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
[2025-02-07 17:46:09 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST http://localhost:5000/api/auth/login - 401 null application/json; charset=utf-8 16357.2094ms
[2025-02-07 17:46:09 Microsoft.AspNetCore.Hosting.Diagnostics] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://localhost:5000/api/auth/login, Response status code: 401
[2025-02-07 17:46:19 Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:5000/api/auth/logout - application/json 48
[2025-02-07 17:46:19 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint 'Server.Controllers.AuthController.Logout (Server)'
[2025-02-07 17:46:19 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with {action = "Logout", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Logout() on controller Server.Controllers.AuthController (Server).
[2025-02-07 17:46:19 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action Server.Controllers.AuthController.Logout (Server) in 1.0616ms
[2025-02-07 17:46:19 Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint 'Server.Controllers.AuthController.Logout (Server)'
[2025-02-07 17:46:19 Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Headers are read-only, response has already started.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpHeaders.ThrowHeadersReadOnlyException()
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpResponseHeaders.Microsoft.AspNetCore.Http.IHeaderDictionary.set_SetCookie(StringValues value)
   at Microsoft.AspNetCore.Http.ResponseCookies.Append(String key, String value, CookieOptions options)
   at Microsoft.AspNetCore.Http.ResponseCookies.Delete(String key, CookieOptions options)
   at Server.Controllers.AuthController.Logout() in D:\web-tutorials\web-projects\projects\Work\Car-Agency\server\src\Controllers\AuthController.cs:line 54
   at lambda_method22(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Server.Middlewares.AuthenticationMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in D:\web-tutorials\web-projects\projects\Work\Car-Agency\server\src\Middlewares\AuthenticationMiddleware.cs:line 33
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in D:\web-tutorials\web-projects\projects\Work\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
[2025-02-07 17:46:19 Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware] The response has already started, the error handler will not be executed.
[2025-02-07 17:46:19 Microsoft.AspNetCore.Server.Kestrel] Connection id "0HNA7HPG5VN0F", Request id "0HNA7HPG5VN0F:00000002": An unhandled exception was thrown by the application.
System.InvalidOperationException: Headers are read-only, response has already started.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpHeaders.ThrowHeadersReadOnlyException()
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpResponseHeaders.Microsoft.AspNetCore.Http.IHeaderDictionary.set_SetCookie(StringValues value)
   at Microsoft.AspNetCore.Http.ResponseCookies.Append(String key, String value, CookieOptions options)
   at Microsoft.AspNetCore.Http.ResponseCookies.Delete(String key, CookieOptions options)
   at Server.Controllers.AuthController.Logout() in D:\web-tutorials\web-projects\projects\Work\Car-Agency\server\src\Controllers\AuthController.cs:line 54
   at lambda_method22(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Server.Middlewares.AuthenticationMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in D:\web-tutorials\web-projects\projects\Work\Car-Agency\server\src\Middlewares\AuthenticationMiddleware.cs:line 33
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Server.Startup.<>c.<<Configure>b__6_1>d.MoveNext() in D:\web-tutorials\web-projects\projects\Work\Car-Agency\server\src\Startup.cs:line 200
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.HandleException(HttpContext context, ExceptionDispatchInfo edi)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
[2025-02-07 17:46:19 Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://localhost:5000/api/auth/logout - 401 null application/json; charset=utf-8 8.0779ms
[2025-02-07 18:08:04 Microsoft.Hosting.Lifetime] Application is shutting down...
[2025-02-07 18:09:00 ] Starting the application...
[2025-02-07 18:09:01 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using 'C:\Users\jhoss\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-02-07 18:09:01 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] The WebRootPath was not found: D:\web-tutorials\web-projects\projects\Work\Car-Agency\server\src\wwwroot. Static files may be unavailable.
[2025-02-07 18:09:01 Microsoft.Hosting.Lifetime] Now listening on: http://localhost:5000
[2025-02-07 18:09:01 Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2025-02-07 18:09:01 Microsoft.Hosting.Lifetime] Hosting environment: Production
[2025-02-07 18:09:01 Microsoft.Hosting.Lifetime] Content root path: D:\web-tutorials\web-projects\projects\Work\Car-Agency\server\src
[2025-02-07 18:24:09 Microsoft.Hosting.Lifetime] Application is shutting down...
